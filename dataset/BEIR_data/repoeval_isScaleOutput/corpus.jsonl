{"_id": "isScaleOutput_E_Ctrl_TerminalType.st_0-8", "title": "isScaleOutput-E_Ctrl_TerminalType.st", "text": "TYPE E_Ctrl_TerminalType :\n(\n\teTerminal_0mA_20mA,\n\teTerminal_4mA_20mA,\n\teTerminal_0V_10V,\n\teTerminal_m10V_10V\n);\nEND_TYPE", "metadata": [{"fpath_tuple": ["isScaleOutput", "E_Ctrl_TerminalType.st"], "repo": "isScaleOutput", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "isScaleOutput_F_isScaleOutput.st_0-25", "title": "isScaleOutput-F_isScaleOutput.st", "text": "FUNCTION F_iScaleOutput : INT\nVAR_INPUT\n\trOutput: REAL; (* [] Physical output *)\n\trPhyMin: REAL; (* [] Physical minimum *)\n\trPhyMax: REAL; (* [] Physical maximum *)\n\teTerminal: E_Ctrl_TerminalType; (* [] Terminal type. *)\nEND_VAR\nVAR\n\trTerMin: REAL;\n\trTerMax: REAL;\n\trPhyRange: REAL;\n\trTerRange: REAL;\n\trTerOutput: REAL;\nEND_VAR\n\nrTerMax:= 32768.0;\nCASE eTerminal OF\n\teTerminal_0mA_20mA: rTerMin:= 0.0;\n\teTerminal_4mA_20mA: rTerMin:= 0.0;\n\teTerminal_0V_10V: rTerMin:= 0.0;\n\teTerminal_m10V_10V: rTerMin:= -32768.0;\nELSE\n\trTerMin:= -32768.0;\nEND_CASE\nrPhyRange:= rPhyMax - rPhyMin;\n", "metadata": [{"fpath_tuple": ["isScaleOutput", "F_isScaleOutput.st"], "repo": "isScaleOutput", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "isScaleOutput_F_isScaleOutput.st_0-30", "title": "isScaleOutput-F_isScaleOutput.st", "text": "FUNCTION F_iScaleOutput : INT\nVAR_INPUT\n\trOutput: REAL; (* [] Physical output *)\n\trPhyMin: REAL; (* [] Physical minimum *)\n\trPhyMax: REAL; (* [] Physical maximum *)\n\teTerminal: E_Ctrl_TerminalType; (* [] Terminal type. *)\nEND_VAR\nVAR\n\trTerMin: REAL;\n\trTerMax: REAL;\n\trPhyRange: REAL;\n\trTerRange: REAL;\n\trTerOutput: REAL;\nEND_VAR\n\nrTerMax:= 32768.0;\nCASE eTerminal OF\n\teTerminal_0mA_20mA: rTerMin:= 0.0;\n\teTerminal_4mA_20mA: rTerMin:= 0.0;\n\teTerminal_0V_10V: rTerMin:= 0.0;\n\teTerminal_m10V_10V: rTerMin:= -32768.0;\nELSE\n\trTerMin:= -32768.0;\nEND_CASE\nrPhyRange:= rPhyMax - rPhyMin;\nrTerRange:= rTerMax - rTerMin;\nIF rPhyRange > 0.0 AND rTerRange > 0.0 THEN\n\trTerOutput:= rTerMin + (rTerRange * (rOutput - rPhyMin) / rPhyRange);\nELSE\n\trTerOutput:= 0.0;\n", "metadata": [{"fpath_tuple": ["isScaleOutput", "F_isScaleOutput.st"], "repo": "isScaleOutput", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "isScaleOutput_F_isScaleOutput.st_0-32", "title": "isScaleOutput-F_isScaleOutput.st", "text": "FUNCTION F_iScaleOutput : INT\nVAR_INPUT\n\trOutput: REAL; (* [] Physical output *)\n\trPhyMin: REAL; (* [] Physical minimum *)\n\trPhyMax: REAL; (* [] Physical maximum *)\n\teTerminal: E_Ctrl_TerminalType; (* [] Terminal type. *)\nEND_VAR\nVAR\n\trTerMin: REAL;\n\trTerMax: REAL;\n\trPhyRange: REAL;\n\trTerRange: REAL;\n\trTerOutput: REAL;\nEND_VAR\n\nrTerMax:= 32768.0;\nCASE eTerminal OF\n\teTerminal_0mA_20mA: rTerMin:= 0.0;\n\teTerminal_4mA_20mA: rTerMin:= 0.0;\n\teTerminal_0V_10V: rTerMin:= 0.0;\n\teTerminal_m10V_10V: rTerMin:= -32768.0;\nELSE\n\trTerMin:= -32768.0;\nEND_CASE\nrPhyRange:= rPhyMax - rPhyMin;\nrTerRange:= rTerMax - rTerMin;\nIF rPhyRange > 0.0 AND rTerRange > 0.0 THEN\n\trTerOutput:= rTerMin + (rTerRange * (rOutput - rPhyMin) / rPhyRange);\nELSE\n\trTerOutput:= 0.0;\nEND_IF\nF_iScaleOutput:= REAL_TO_INT(rTerOutput);", "metadata": [{"fpath_tuple": ["isScaleOutput", "F_isScaleOutput.st"], "repo": "isScaleOutput", "line_no": 10, "start_line_no": 0, "end_line_no": 32, "window_size": 50, "slice_size": 5}]}
{"_id": "isScaleOutput_PLC_PRG.st_0-12", "title": "isScaleOutput-PLC_PRG.st", "text": "PROGRAM PLC_PRG\nVAR\n    rSensorOutValue : REAL;\n    iScaleOutput : INT;\nEND_VAR\n\niScaleOutput := F_iScaleOutput(\n    rOutput := rSensorOutValue,\n    rPhyMin := 4,\n    rPhyMax := 20,\n    eTerminal := eTerminal_4mA_20mA\n);", "metadata": [{"fpath_tuple": ["isScaleOutput", "PLC_PRG.st"], "repo": "isScaleOutput", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
