{"_id": "电子凸轮运动实训_FUN_FB_DualAxisPower.st_0-25", "title": "电子凸轮运动实训-FUN\\FB_DualAxisPower.st", "text": "FUNCTION_BLOCK FB_DualAxisPower\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbPowerOn\t\t:\tBOOL;\t\t\t\t//电源使能信号\nEND_VAR\nVAR_OUTPUT\n\tbPowerDone\t\t:\tBOOL;\t\t\t\t//两轴都准备就绪\n\tbAxis1Ready\t\t:\tBOOL;\t\t\t\t//轴1准备就绪\n\tbAxis2Ready\t\t:\tBOOL;\t\t\t\t//轴2准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbPower1\t\t:\tMC_Power;\t\t\t//轴1电源控制\n\tfbPower2\t\t:\tMC_Power;\t\t\t//轴2电源控制\nEND_VAR\n\n// 执行轴1电源控制\nfbPower1(\n\tAxis := Axis1,\n\tEnable := TRUE,\n\tbDriveStart := bPowerOn,\n\tbRegulatorOn := bPowerOn\n);\n\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisPower.st"], "repo": "电子凸轮运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisPower.st_0-30", "title": "电子凸轮运动实训-FUN\\FB_DualAxisPower.st", "text": "FUNCTION_BLOCK FB_DualAxisPower\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbPowerOn\t\t:\tBOOL;\t\t\t\t//电源使能信号\nEND_VAR\nVAR_OUTPUT\n\tbPowerDone\t\t:\tBOOL;\t\t\t\t//两轴都准备就绪\n\tbAxis1Ready\t\t:\tBOOL;\t\t\t\t//轴1准备就绪\n\tbAxis2Ready\t\t:\tBOOL;\t\t\t\t//轴2准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbPower1\t\t:\tMC_Power;\t\t\t//轴1电源控制\n\tfbPower2\t\t:\tMC_Power;\t\t\t//轴2电源控制\nEND_VAR\n\n// 执行轴1电源控制\nfbPower1(\n\tAxis := Axis1,\n\tEnable := TRUE,\n\tbDriveStart := bPowerOn,\n\tbRegulatorOn := bPowerOn\n);\n\n// 执行轴2电源控制\nfbPower2(\n\tAxis := Axis2,\n\tEnable := TRUE,\n\tbDriveStart := bPowerOn,\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisPower.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisPower.st_0-35", "title": "电子凸轮运动实训-FUN\\FB_DualAxisPower.st", "text": "FUNCTION_BLOCK FB_DualAxisPower\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbPowerOn\t\t:\tBOOL;\t\t\t\t//电源使能信号\nEND_VAR\nVAR_OUTPUT\n\tbPowerDone\t\t:\tBOOL;\t\t\t\t//两轴都准备就绪\n\tbAxis1Ready\t\t:\tBOOL;\t\t\t\t//轴1准备就绪\n\tbAxis2Ready\t\t:\tBOOL;\t\t\t\t//轴2准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbPower1\t\t:\tMC_Power;\t\t\t//轴1电源控制\n\tfbPower2\t\t:\tMC_Power;\t\t\t//轴2电源控制\nEND_VAR\n\n// 执行轴1电源控制\nfbPower1(\n\tAxis := Axis1,\n\tEnable := TRUE,\n\tbDriveStart := bPowerOn,\n\tbRegulatorOn := bPowerOn\n);\n\n// 执行轴2电源控制\nfbPower2(\n\tAxis := Axis2,\n\tEnable := TRUE,\n\tbDriveStart := bPowerOn,\n\tbRegulatorOn := bPowerOn\n);\n\n// 更新输出状态\nbAxis1Ready := fbPower1.Status;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisPower.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisPower.st_0-39", "title": "电子凸轮运动实训-FUN\\FB_DualAxisPower.st", "text": "FUNCTION_BLOCK FB_DualAxisPower\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbPowerOn\t\t:\tBOOL;\t\t\t\t//电源使能信号\nEND_VAR\nVAR_OUTPUT\n\tbPowerDone\t\t:\tBOOL;\t\t\t\t//两轴都准备就绪\n\tbAxis1Ready\t\t:\tBOOL;\t\t\t\t//轴1准备就绪\n\tbAxis2Ready\t\t:\tBOOL;\t\t\t\t//轴2准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbPower1\t\t:\tMC_Power;\t\t\t//轴1电源控制\n\tfbPower2\t\t:\tMC_Power;\t\t\t//轴2电源控制\nEND_VAR\n\n// 执行轴1电源控制\nfbPower1(\n\tAxis := Axis1,\n\tEnable := TRUE,\n\tbDriveStart := bPowerOn,\n\tbRegulatorOn := bPowerOn\n);\n\n// 执行轴2电源控制\nfbPower2(\n\tAxis := Axis2,\n\tEnable := TRUE,\n\tbDriveStart := bPowerOn,\n\tbRegulatorOn := bPowerOn\n);\n\n// 更新输出状态\nbAxis1Ready := fbPower1.Status;\nbAxis2Ready := fbPower2.Status;\nbPowerDone := fbPower1.Status AND fbPower2.Status;\nbError := fbPower1.Error OR fbPower2.Error;\n\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisPower.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_0-25", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "FUNCTION_BLOCK FB_DualAxisReset\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_0-30", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "FUNCTION_BLOCK FB_DualAxisReset\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_0-35", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "FUNCTION_BLOCK FB_DualAxisReset\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_0-40", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "FUNCTION_BLOCK FB_DualAxisReset\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_0-45", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "FUNCTION_BLOCK FB_DualAxisReset\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_0-50", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "FUNCTION_BLOCK FB_DualAxisReset\nVAR_INPUT\n\tAxis1\t\t\t:\tAXIS_REF;\t\t\t//轴1引用\n\tAxis2\t\t\t:\tAXIS_REF;\t\t\t//轴2引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_5-55", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "END_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\nEND_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n\t\tfbReset1(Axis := Axis1, Execute := TRUE);\n\t\tfbReset2(Axis := Axis2, Execute := TRUE);\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_10-60", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "END_VAR\nVAR\n\tfbReset1\t\t:\tMC_Reset;\t\t\t//轴1复位\n\tfbReset2\t\t:\tMC_Reset;\t\t\t//轴2复位\n\tfbReadStatus1\t:\tMC_ReadStatus;\t\t//轴1状态读取\n\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n\t\tfbReset1(Axis := Axis1, Execute := TRUE);\n\t\tfbReset2(Axis := Axis2, Execute := TRUE);\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_15-65", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "\tfbReadStatus2\t:\tMC_ReadStatus;\t\t//轴2状态读取\n\tbError1\t\t\t:\tBOOL;\t\t\t\t//轴1错误标志\n\tbError2\t\t\t:\tBOOL;\t\t\t\t//轴2错误标志\n\tnState\t\t\t:\tUDINT;\t\t\t\t//状态机\nEND_VAR\n\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n\t\tfbReset1(Axis := Axis1, Execute := TRUE);\n\t\tfbReset2(Axis := Axis2, Execute := TRUE);\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\t\n\t\t\t// 检查是否还有错误\n\t\t\tIF NOT bError1 AND NOT bError2 THEN\n\t\t\t\tbDone := TRUE;\n\t\t\t\tbBusy := FALSE;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_20-70", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "\nCASE nState OF \n\t0: (* 空闲状态 *)\n\t\tbDone := FALSE;\n\t\tbBusy := FALSE;\n\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n\t\tfbReset1(Axis := Axis1, Execute := TRUE);\n\t\tfbReset2(Axis := Axis2, Execute := TRUE);\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\t\n\t\t\t// 检查是否还有错误\n\t\t\tIF NOT bError1 AND NOT bError2 THEN\n\t\t\t\tbDone := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n\t\t\tELSE\n\t\t\t\tbError := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_25-75", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "\t\t\n\t\tIF bExecute THEN\n\t\t\t// 初始化\n\t\t\tfbReset1(Axis := Axis1, Execute := FALSE);\n\t\t\tfbReset2(Axis := Axis2, Execute := FALSE);\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n\t\tfbReset1(Axis := Axis1, Execute := TRUE);\n\t\tfbReset2(Axis := Axis2, Execute := TRUE);\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\t\n\t\t\t// 检查是否还有错误\n\t\t\tIF NOT bError1 AND NOT bError2 THEN\n\t\t\t\tbDone := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n\t\t\tELSE\n\t\t\t\tbError := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t3: (* 完成状态 *)\n\t\tIF NOT bExecute THEN\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_30-80", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t\t\n\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n\t\tfbReset1(Axis := Axis1, Execute := TRUE);\n\t\tfbReset2(Axis := Axis2, Execute := TRUE);\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\t\n\t\t\t// 检查是否还有错误\n\t\t\tIF NOT bError1 AND NOT bError2 THEN\n\t\t\t\tbDone := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n\t\t\tELSE\n\t\t\t\tbError := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t3: (* 完成状态 *)\n\t\tIF NOT bExecute THEN\n\t\t\tbDone := FALSE;\n\t\t\tbError := FALSE;\n\t\t\tnState := 0;\n\t\tEND_IF\nEND_CASE\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_FB_DualAxisReset.st_35-81", "title": "电子凸轮运动实训-FUN\\FB_DualAxisReset.st", "text": "\t1: (* 读取轴状态 *)\n\t\tbBusy := TRUE;\n\t\t\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t\t\n\t2: (* 执行复位 *)\n\t\tfbReset1(Axis := Axis1, Execute := TRUE);\n\t\tfbReset2(Axis := Axis2, Execute := TRUE);\n\t\tfbReadStatus1(Axis := Axis1, Enable := TRUE);\n\t\tfbReadStatus2(Axis := Axis2, Enable := TRUE);\n\t\t\n\t\tIF fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tbError1 := fbReadStatus1.Errorstop;\n\t\t\tbError2 := fbReadStatus2.Errorstop;\n\t\t\tfbReadStatus1(Axis := Axis1, Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := Axis2, Enable := FALSE);\n\t\t\t\n\t\t\t// 检查是否还有错误\n\t\t\tIF NOT bError1 AND NOT bError2 THEN\n\t\t\t\tbDone := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n\t\t\tELSE\n\t\t\t\tbError := TRUE;\n\t\t\t\tbBusy := FALSE;\n\t\t\t\tnState := 3;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t3: (* 完成状态 *)\n\t\tIF NOT bExecute THEN\n\t\t\tbDone := FALSE;\n\t\t\tbError := FALSE;\n\t\t\tnState := 0;\n\t\tEND_IF\nEND_CASE\n\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\FB_DualAxisReset.st"], "repo": "电子凸轮运动实训", "line_no": 35, "start_line_no": 35, "end_line_no": 81, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_F_AxisStatusToString.st_0-25", "title": "电子凸轮运动实训-FUN\\F_AxisStatusToString.st", "text": "FUNCTION F_AxisStatusToString : STRING\nVAR_INPUT\n\tfbReadStatus\t:\tMC_ReadStatus;\t\t//轴状态读取功能块\nEND_VAR\n\n// 根据轴状态返回对应的字符串描述\n// 按优先级顺序检查状态\n\nIF fbReadStatus.Errorstop THEN\n\tF_AxisStatusToString := 'Errorstop';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Disabled THEN\n\tF_AxisStatusToString := 'Disabled';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Homing THEN\n\tF_AxisStatusToString := 'Homing';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Stopping THEN\n\tF_AxisStatusToString := 'Stopping';\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\F_AxisStatusToString.st"], "repo": "电子凸轮运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_F_AxisStatusToString.st_0-30", "title": "电子凸轮运动实训-FUN\\F_AxisStatusToString.st", "text": "FUNCTION F_AxisStatusToString : STRING\nVAR_INPUT\n\tfbReadStatus\t:\tMC_ReadStatus;\t\t//轴状态读取功能块\nEND_VAR\n\n// 根据轴状态返回对应的字符串描述\n// 按优先级顺序检查状态\n\nIF fbReadStatus.Errorstop THEN\n\tF_AxisStatusToString := 'Errorstop';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Disabled THEN\n\tF_AxisStatusToString := 'Disabled';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Homing THEN\n\tF_AxisStatusToString := 'Homing';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Stopping THEN\n\tF_AxisStatusToString := 'Stopping';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.SynchronizedMotion THEN\n\tF_AxisStatusToString := 'SynchronizedMotion';\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\F_AxisStatusToString.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_F_AxisStatusToString.st_0-35", "title": "电子凸轮运动实训-FUN\\F_AxisStatusToString.st", "text": "FUNCTION F_AxisStatusToString : STRING\nVAR_INPUT\n\tfbReadStatus\t:\tMC_ReadStatus;\t\t//轴状态读取功能块\nEND_VAR\n\n// 根据轴状态返回对应的字符串描述\n// 按优先级顺序检查状态\n\nIF fbReadStatus.Errorstop THEN\n\tF_AxisStatusToString := 'Errorstop';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Disabled THEN\n\tF_AxisStatusToString := 'Disabled';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Homing THEN\n\tF_AxisStatusToString := 'Homing';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Stopping THEN\n\tF_AxisStatusToString := 'Stopping';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.SynchronizedMotion THEN\n\tF_AxisStatusToString := 'SynchronizedMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.ContinuousMotion THEN\n\tF_AxisStatusToString := 'ContinuousMotion';\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\F_AxisStatusToString.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_F_AxisStatusToString.st_0-40", "title": "电子凸轮运动实训-FUN\\F_AxisStatusToString.st", "text": "FUNCTION F_AxisStatusToString : STRING\nVAR_INPUT\n\tfbReadStatus\t:\tMC_ReadStatus;\t\t//轴状态读取功能块\nEND_VAR\n\n// 根据轴状态返回对应的字符串描述\n// 按优先级顺序检查状态\n\nIF fbReadStatus.Errorstop THEN\n\tF_AxisStatusToString := 'Errorstop';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Disabled THEN\n\tF_AxisStatusToString := 'Disabled';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Homing THEN\n\tF_AxisStatusToString := 'Homing';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Stopping THEN\n\tF_AxisStatusToString := 'Stopping';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.SynchronizedMotion THEN\n\tF_AxisStatusToString := 'SynchronizedMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.ContinuousMotion THEN\n\tF_AxisStatusToString := 'ContinuousMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.DiscreteMotion THEN\n\tF_AxisStatusToString := 'DiscreteMotion';\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\F_AxisStatusToString.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_F_AxisStatusToString.st_0-45", "title": "电子凸轮运动实训-FUN\\F_AxisStatusToString.st", "text": "FUNCTION F_AxisStatusToString : STRING\nVAR_INPUT\n\tfbReadStatus\t:\tMC_ReadStatus;\t\t//轴状态读取功能块\nEND_VAR\n\n// 根据轴状态返回对应的字符串描述\n// 按优先级顺序检查状态\n\nIF fbReadStatus.Errorstop THEN\n\tF_AxisStatusToString := 'Errorstop';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Disabled THEN\n\tF_AxisStatusToString := 'Disabled';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Homing THEN\n\tF_AxisStatusToString := 'Homing';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Stopping THEN\n\tF_AxisStatusToString := 'Stopping';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.SynchronizedMotion THEN\n\tF_AxisStatusToString := 'SynchronizedMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.ContinuousMotion THEN\n\tF_AxisStatusToString := 'ContinuousMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.DiscreteMotion THEN\n\tF_AxisStatusToString := 'DiscreteMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.StandStill THEN\n\tF_AxisStatusToString := 'StandStill';\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\F_AxisStatusToString.st"], "repo": "电子凸轮运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_F_AxisStatusToString.st_0-50", "title": "电子凸轮运动实训-FUN\\F_AxisStatusToString.st", "text": "FUNCTION F_AxisStatusToString : STRING\nVAR_INPUT\n\tfbReadStatus\t:\tMC_ReadStatus;\t\t//轴状态读取功能块\nEND_VAR\n\n// 根据轴状态返回对应的字符串描述\n// 按优先级顺序检查状态\n\nIF fbReadStatus.Errorstop THEN\n\tF_AxisStatusToString := 'Errorstop';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Disabled THEN\n\tF_AxisStatusToString := 'Disabled';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Homing THEN\n\tF_AxisStatusToString := 'Homing';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Stopping THEN\n\tF_AxisStatusToString := 'Stopping';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.SynchronizedMotion THEN\n\tF_AxisStatusToString := 'SynchronizedMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.ContinuousMotion THEN\n\tF_AxisStatusToString := 'ContinuousMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.DiscreteMotion THEN\n\tF_AxisStatusToString := 'DiscreteMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.StandStill THEN\n\tF_AxisStatusToString := 'StandStill';\n\tRETURN;\nEND_IF\n\n// 默认状态\nF_AxisStatusToString := 'Unknown';\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\F_AxisStatusToString.st"], "repo": "电子凸轮运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_F_AxisStatusToString.st_5-51", "title": "电子凸轮运动实训-FUN\\F_AxisStatusToString.st", "text": "// 根据轴状态返回对应的字符串描述\n// 按优先级顺序检查状态\n\nIF fbReadStatus.Errorstop THEN\n\tF_AxisStatusToString := 'Errorstop';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Disabled THEN\n\tF_AxisStatusToString := 'Disabled';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Homing THEN\n\tF_AxisStatusToString := 'Homing';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.Stopping THEN\n\tF_AxisStatusToString := 'Stopping';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.SynchronizedMotion THEN\n\tF_AxisStatusToString := 'SynchronizedMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.ContinuousMotion THEN\n\tF_AxisStatusToString := 'ContinuousMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.DiscreteMotion THEN\n\tF_AxisStatusToString := 'DiscreteMotion';\n\tRETURN;\nEND_IF\n\nIF fbReadStatus.StandStill THEN\n\tF_AxisStatusToString := 'StandStill';\n\tRETURN;\nEND_IF\n\n// 默认状态\nF_AxisStatusToString := 'Unknown';\n\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\F_AxisStatusToString.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 51, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_0-25", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "FUNCTION_BLOCK ResetAxis\nVAR_INPUT \n\tbExec\t:\tBOOL;\nEND_VAR\nVAR\n\tfbReset1\t:\tMC_Reset;\n\tfbReset2\t:\tMC_Reset;\n\t\n\tfbReadAxisError1\t:\tMC_ReadAxisError;\n\tfbReadAxisError2\t:\tMC_ReadAxisError;\n\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_0-30", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "FUNCTION_BLOCK ResetAxis\nVAR_INPUT \n\tbExec\t:\tBOOL;\nEND_VAR\nVAR\n\tfbReset1\t:\tMC_Reset;\n\tfbReset2\t:\tMC_Reset;\n\t\n\tfbReadAxisError1\t:\tMC_ReadAxisError;\n\tfbReadAxisError2\t:\tMC_ReadAxisError;\n\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_0-35", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "FUNCTION_BLOCK ResetAxis\nVAR_INPUT \n\tbExec\t:\tBOOL;\nEND_VAR\nVAR\n\tfbReset1\t:\tMC_Reset;\n\tfbReset2\t:\tMC_Reset;\n\t\n\tfbReadAxisError1\t:\tMC_ReadAxisError;\n\tfbReadAxisError2\t:\tMC_ReadAxisError;\n\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_0-40", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "FUNCTION_BLOCK ResetAxis\nVAR_INPUT \n\tbExec\t:\tBOOL;\nEND_VAR\nVAR\n\tfbReset1\t:\tMC_Reset;\n\tfbReset2\t:\tMC_Reset;\n\t\n\tfbReadAxisError1\t:\tMC_ReadAxisError;\n\tfbReadAxisError2\t:\tMC_ReadAxisError;\n\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_0-45", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "FUNCTION_BLOCK ResetAxis\nVAR_INPUT \n\tbExec\t:\tBOOL;\nEND_VAR\nVAR\n\tfbReset1\t:\tMC_Reset;\n\tfbReset2\t:\tMC_Reset;\n\t\n\tfbReadAxisError1\t:\tMC_ReadAxisError;\n\tfbReadAxisError2\t:\tMC_ReadAxisError;\n\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_0-50", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "FUNCTION_BLOCK ResetAxis\nVAR_INPUT \n\tbExec\t:\tBOOL;\nEND_VAR\nVAR\n\tfbReset1\t:\tMC_Reset;\n\tfbReset2\t:\tMC_Reset;\n\t\n\tfbReadAxisError1\t:\tMC_ReadAxisError;\n\tfbReadAxisError2\t:\tMC_ReadAxisError;\n\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_5-55", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "\tfbReset1\t:\tMC_Reset;\n\tfbReset2\t:\tMC_Reset;\n\t\n\tfbReadAxisError1\t:\tMC_ReadAxisError;\n\tfbReadAxisError2\t:\tMC_ReadAxisError;\n\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_10-60", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "\t\n\tfbReadStatus1\t:\tMC_ReadStatus;\n\tfbReadStatus2\t:\tMC_ReadStatus;\n\t\n\tfbExecTrig\t:\tR_TRIG;\n\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_15-65", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "\tnState \t:\tBYTE;\n\t\n\tbErrorX\t:\tBOOL;\n\tbErrorY\t:\tBOOL;\n\t\nEND_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t2:\n\t\tfbReset1(Axis := AxisX,Execute := bErrorX);\n\t\tfbReset2(Axis := AxisY,Execute := bErrorY);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_20-70", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "END_VAR\n\nVAR_OUTPUT \n\tDone\t:\tBOOL;\nEND_VAR\n\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t2:\n\t\tfbReset1(Axis := AxisX,Execute := bErrorX);\n\t\tfbReset2(Axis := AxisY,Execute := bErrorY);\n\t\t\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_25-75", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "\nfbExecTrig(CLK := bExec);\n\nCASE nState OF \n\t0:\n\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t2:\n\t\tfbReset1(Axis := AxisX,Execute := bErrorX);\n\t\tfbReset2(Axis := AxisY,Execute := bErrorY);\n\t\t\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF NOT fbReadAxisError1.AxisError AND NOT fbReadAxisError2.AxisError (* AND NOT fbReadStatus1.FBErrorOccured AND NOT fbReadStatus2.FBErrorOccured AND NOT fbReadStatus3.FBErrorOccured *)THEN\n\t\t\t\tnState := 0;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_30-80", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "\t\tIF fbExecTrig.Q THEN\n\t\t\tnState := 1;\n\t\t\tDone := FALSE;\n\t\tEND_IF\n\t1:\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t2:\n\t\tfbReset1(Axis := AxisX,Execute := bErrorX);\n\t\tfbReset2(Axis := AxisY,Execute := bErrorY);\n\t\t\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF NOT fbReadAxisError1.AxisError AND NOT fbReadAxisError2.AxisError (* AND NOT fbReadStatus1.FBErrorOccured AND NOT fbReadStatus2.FBErrorOccured AND NOT fbReadStatus3.FBErrorOccured *)THEN\n\t\t\t\tnState := 0;\n\t\t\t\tDone := TRUE;\n\t\t\t\t\n\t\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\t\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_35-85", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t2:\n\t\tfbReset1(Axis := AxisX,Execute := bErrorX);\n\t\tfbReset2(Axis := AxisY,Execute := bErrorY);\n\t\t\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF NOT fbReadAxisError1.AxisError AND NOT fbReadAxisError2.AxisError (* AND NOT fbReadStatus1.FBErrorOccured AND NOT fbReadStatus2.FBErrorOccured AND NOT fbReadStatus3.FBErrorOccured *)THEN\n\t\t\t\tnState := 0;\n\t\t\t\tDone := TRUE;\n\t\t\t\t\n\t\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\t\n\t\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\t\t\n\t\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 35, "start_line_no": 35, "end_line_no": 85, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_FUN_ResetAxis.st_40-88", "title": "电子凸轮运动实训-FUN\\ResetAxis.st", "text": "\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF fbReadAxisError1.AxisError OR fbReadStatus1.FBErrorOccured THEN\n\t\t\t\tbErrorX := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorX := FALSE;\n\t\t\tEND_IF\n\t\t\tIF fbReadAxisError2.AxisError OR fbReadStatus2.FBErrorOccured THEN\n\t\t\t\tbErrorY := TRUE;\n\t\t\tELSE\n\t\t\t\tbErrorY := FALSE;\n\t\t\tEND_IF\n\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\n\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\tnState := 2;\n\t\tEND_IF\n\t2:\n\t\tfbReset1(Axis := AxisX,Execute := bErrorX);\n\t\tfbReset2(Axis := AxisY,Execute := bErrorY);\n\t\t\n\t\tfbReadAxisError1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadAxisError2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tfbReadStatus1(Axis := AxisX ,Enable := TRUE);\n\t\tfbReadStatus2(Axis := AxisY ,Enable := TRUE);\n\t\t\n\t\tIF fbReadAxisError1.Valid AND fbReadAxisError2.Valid AND fbReadStatus1.Valid AND fbReadStatus2.Valid THEN\n\t\t\tIF NOT fbReadAxisError1.AxisError AND NOT fbReadAxisError2.AxisError (* AND NOT fbReadStatus1.FBErrorOccured AND NOT fbReadStatus2.FBErrorOccured AND NOT fbReadStatus3.FBErrorOccured *)THEN\n\t\t\t\tnState := 0;\n\t\t\t\tDone := TRUE;\n\t\t\t\t\n\t\t\t\tfbReadAxisError1(Axis := AxisX ,Enable := FALSE);\n\t\t\t\tfbReadAxisError2(Axis := AxisY ,Enable := FALSE);\n\t\t\t\t\n\t\t\t\tfbReset1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbReset2(Axis := AxisY,Execute := FALSE);\n\t\t\t\t\n\t\t\t\tfbReadStatus1(Axis := AxisX ,Enable := FALSE);\n\t\t\t\tfbReadStatus2(Axis := AxisY ,Enable := FALSE);\n\t\t\tEND_IF\n\t\tEND_IF\nEND_CASE", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "FUN\\ResetAxis.st"], "repo": "电子凸轮运动实训", "line_no": 40, "start_line_no": 40, "end_line_no": 88, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_0-25", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "PROGRAM Cam\nVAR\n\tfbResetAxis\t:\tResetAxis;// 实例化ResetAxis，用来使主从轴复位\n\tfbCamTableSelect\t:\tMC_CamTableSelect;// 实例化MC_CamTableSelect\n\tfbCamIn\t:\tMC_CamIn;// 实例化MC_CamIn，用来主从耦合\n\tfbCamOut\t:\tMC_CamOut;// 实例化MC_CamOut，用来解耦合\n\tfbMoveRel\t:\tMC_MoveRelative;// 实例化MC_MoveRelative\n\tfbMasterMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制主轴的运动\n\tfbSlaveMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制从轴的运动\n\tfbMasterHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制主轴停止\n\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_0-30", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "PROGRAM Cam\nVAR\n\tfbResetAxis\t:\tResetAxis;// 实例化ResetAxis，用来使主从轴复位\n\tfbCamTableSelect\t:\tMC_CamTableSelect;// 实例化MC_CamTableSelect\n\tfbCamIn\t:\tMC_CamIn;// 实例化MC_CamIn，用来主从耦合\n\tfbCamOut\t:\tMC_CamOut;// 实例化MC_CamOut，用来解耦合\n\tfbMoveRel\t:\tMC_MoveRelative;// 实例化MC_MoveRelative\n\tfbMasterMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制主轴的运动\n\tfbSlaveMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制从轴的运动\n\tfbMasterHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制主轴停止\n\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_0-35", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "PROGRAM Cam\nVAR\n\tfbResetAxis\t:\tResetAxis;// 实例化ResetAxis，用来使主从轴复位\n\tfbCamTableSelect\t:\tMC_CamTableSelect;// 实例化MC_CamTableSelect\n\tfbCamIn\t:\tMC_CamIn;// 实例化MC_CamIn，用来主从耦合\n\tfbCamOut\t:\tMC_CamOut;// 实例化MC_CamOut，用来解耦合\n\tfbMoveRel\t:\tMC_MoveRelative;// 实例化MC_MoveRelative\n\tfbMasterMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制主轴的运动\n\tfbSlaveMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制从轴的运动\n\tfbMasterHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制主轴停止\n\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_0-40", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "PROGRAM Cam\nVAR\n\tfbResetAxis\t:\tResetAxis;// 实例化ResetAxis，用来使主从轴复位\n\tfbCamTableSelect\t:\tMC_CamTableSelect;// 实例化MC_CamTableSelect\n\tfbCamIn\t:\tMC_CamIn;// 实例化MC_CamIn，用来主从耦合\n\tfbCamOut\t:\tMC_CamOut;// 实例化MC_CamOut，用来解耦合\n\tfbMoveRel\t:\tMC_MoveRelative;// 实例化MC_MoveRelative\n\tfbMasterMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制主轴的运动\n\tfbSlaveMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制从轴的运动\n\tfbMasterHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制主轴停止\n\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_0-45", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "PROGRAM Cam\nVAR\n\tfbResetAxis\t:\tResetAxis;// 实例化ResetAxis，用来使主从轴复位\n\tfbCamTableSelect\t:\tMC_CamTableSelect;// 实例化MC_CamTableSelect\n\tfbCamIn\t:\tMC_CamIn;// 实例化MC_CamIn，用来主从耦合\n\tfbCamOut\t:\tMC_CamOut;// 实例化MC_CamOut，用来解耦合\n\tfbMoveRel\t:\tMC_MoveRelative;// 实例化MC_MoveRelative\n\tfbMasterMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制主轴的运动\n\tfbSlaveMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制从轴的运动\n\tfbMasterHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制主轴停止\n\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_0-50", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "PROGRAM Cam\nVAR\n\tfbResetAxis\t:\tResetAxis;// 实例化ResetAxis，用来使主从轴复位\n\tfbCamTableSelect\t:\tMC_CamTableSelect;// 实例化MC_CamTableSelect\n\tfbCamIn\t:\tMC_CamIn;// 实例化MC_CamIn，用来主从耦合\n\tfbCamOut\t:\tMC_CamOut;// 实例化MC_CamOut，用来解耦合\n\tfbMoveRel\t:\tMC_MoveRelative;// 实例化MC_MoveRelative\n\tfbMasterMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制主轴的运动\n\tfbSlaveMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制从轴的运动\n\tfbMasterHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制主轴停止\n\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_5-55", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tfbCamOut\t:\tMC_CamOut;// 实例化MC_CamOut，用来解耦合\n\tfbMoveRel\t:\tMC_MoveRelative;// 实例化MC_MoveRelative\n\tfbMasterMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制主轴的运动\n\tfbSlaveMoveVel\t:\tMC_MoveVelocity;// 实例化MC_MoveVelocity，用来控制从轴的运动\n\tfbMasterHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制主轴停止\n\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_10-60", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tfbSlaveHalt\t:\tMC_Halt;// 实例化MC_Halt，用来控制从轴停止\n\t\n\tfbSetActPos1\t:\tMC_SetPosition;//用来设置主轴当前位置\n\tfbSetActPos2\t:\tMC_SetPosition;//用来设置从轴当前位置\n\t\n\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_15-65", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tbMasterStop\t:\tBOOL;//控制主轴停止运动，与视图中主轴停止按钮相关联\n\tbSlaveStop\t:\tBOOL;//控制从轴停止运动，与视图中从轴停止按钮相关联\n\tbMasterRun\t:\tBOOL;//控制主轴开始运动，与视图中主轴起动按钮相关联\n\tbSlaveRun\t:\tBOOL;//控制从轴开始运动，与视图中从轴起动按钮相关联\n\t\n\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_20-70", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tbReset\t:\tBOOL;//控制整个过程复位\n\tbGear\t:\tBOOL;//控制主从轴耦合，与视图中主从耦合按钮相关联\n\tbGearOut\t:\tBOOL;//控制主从轴解耦合，与视图中解耦合按钮相关联\n\tnState\t:\tBYTE;\t\n\tbIsNeg\t:\tBOOL;\n\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_25-75", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tstr\t:\tSTRING := '';\n\tfbStopRtrig\t:\tR_TRIG;\n\tfbStartRtrig\t:\tR_TRIG;\n\tfbResetRtrig\t:\tR_TRIG;\n\n\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_30-80", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tfbReadStatusMaster\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取主轴状态信息\n\tfbReadStatusSlave\t:\tMC_ReadStatus;//实例化MC_ReadStatus，用来读取从轴状态信息\n\t\n\t//初始化以下四个变量，这四个变量也可以在视图运行过程中，\"主轴设定速度:\"label后面的Textfield中重新赋值\n\tmasterMotorVel\t:\tLREAL := 1;//主轴设定速度\n\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_35-85", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tmasterMotorAcc\t:\tLREAL := 20;\t\n\tslaveMotorVel\t:\tLREAL := 1;//从轴设定速度\n\tslaveMotorAcc\t:\tLREAL := 20;\n\n\tmasterMotorVelTemp\t:\tLREAL;\n\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 35, "start_line_no": 35, "end_line_no": 85, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_40-90", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tmasterMotorAccTemp\t:\tLREAL;\t\n\tslaveMotorVelTemp\t:\tLREAL;\n\tslaveMotorAccTemp\t:\tLREAL;\n\t\n\tbSetMasterActPos\t:\tBOOL;//与“设置主轴的实际位置为：”button相关联\n\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 40, "start_line_no": 40, "end_line_no": 90, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_45-95", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tbSetSlaveActPos\t:\tBOOL;//与“设置从轴的实际位置为：”button相关联\n\tsetMasterPos\t:\tREAL;//与“设置主轴的实际位置为：”button后面的空Textfield相关联\n\tsetSlavePos\t:\tREAL;//与“设置从轴的实际位置为：”button后面的空Textfield相关联\n\t\n\t//以下三个变量用于控制启动模式，即MC_CamIn功能块中的StartMode\n\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 45, "start_line_no": 45, "end_line_no": 95, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_50-100", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tbPeriodic\t:\tBOOL := TRUE;//与“凸轮周期性执行”button相关联\n\tbMasterAbs\t:\tBOOL := TRUE;//与“凸轮主轴位置绝对”button相关联\n\tbSlaveAbs\t:\tBOOL := TRUE;//与“凸轮从轴位置绝对”button相关联\n\t\n\tmasterOff\t:\tREAL;\n\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 50, "start_line_no": 50, "end_line_no": 100, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_55-105", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tslaveOff\t:\tREAL;\n\tmasterSca\t:\tREAL := 1;\n\tslaveSca\t:\tREAL := 1;\n\t\n\t//以下三个BOOL变量与视图中启动模式下的三个button相关联\n\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 55, "start_line_no": 55, "end_line_no": 105, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_60-110", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tbAbs\t:\tBOOL := TRUE;//绝对模式\n\tbRel\t:\tBOOL;\t\t//相对模式\n\tbRamp\t:\tBOOL;\n\t\n\tstartMode\t:\tMC_STARTMODE := MC_STARTMODE.absolute;// 定义startMode为absolute，在下面的程序中作为初始化值\n\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 60, "start_line_no": 60, "end_line_no": 110, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_65-115", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tfbRtrig1\t:\tR_TRIG;\n\tfbRtrig2\t:\tR_TRIG;\n\tfbRtrig3\t:\tR_TRIG;\n\tmasterStateStr\t:\tSTRING;\n\tslaveStateStr\t:\tSTRING;\nEND_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 65, "start_line_no": 65, "end_line_no": 115, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_70-120", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "END_VAR\n\nPowerAxis();//调用该函数，使主从轴使能\n\nIF bRunReset AND PowerAxis.bPowerDone THEN\n\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 70, "start_line_no": 70, "end_line_no": 120, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_75-125", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tnState := 0;\n\tRunReset();\n\tIF RunReset.bDone THEN\n\t\tbRunReset := FALSE;\n\tEND_IF\n\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 75, "start_line_no": 75, "end_line_no": 125, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_80-130", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tRETURN;\nEND_IF\n//为下面四个变量赋初值，在视图中主轴设定速度等处为masterMotorVel等赋值，来相应的改变masterMotorVelTemp等的值，从而控制主从轴的运动\nmasterMotorVelTemp := masterMotorVel / 60.0 * 360;\nmasterMotorAccTemp := masterMotorAcc * 360;\n\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 80, "start_line_no": 80, "end_line_no": 130, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_85-135", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\nslaveMotorVelTemp := slaveMotorVel / 60.0 * 360;\nslaveMotorAccTemp := slaveMotorAcc * 360;\n//对应在视图中的启动模式（三种）\nfbRtrig1(CLK := bAbs);\nIF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 85, "start_line_no": 85, "end_line_no": 135, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_90-140", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "IF fbRtrig1.Q THEN\n\tbRel := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.absolute;//数据类型：MC_StartMODE 0：absolute 绝对位置:1：relative 相对位置: 2：ramp_in ( 斜坡切入) 3：ramp_in_pos（正向斜坡切入）4：ramp_in_neg 反向斜坡切入\nEND_IF\nfbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 90, "start_line_no": 90, "end_line_no": 140, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_95-145", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "fbRtrig2(CLK := bRel);\nIF fbRtrig2.Q THEN\n\tbAbs := FALSE;\n\tbRamp := FALSE;\n\tstartMode := MC_STARTMODE.relative;\nEND_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 95, "start_line_no": 95, "end_line_no": 145, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_100-150", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "END_IF\nfbRtrig3(CLK := bRamp);\nIF fbRtrig3.Q THEN\n\tbRel := FALSE;\n\tbAbs := FALSE;\n\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 3;\n\t\tEND_IF\n\t\t//设置主从轴的实际位置\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 100, "start_line_no": 100, "end_line_no": 150, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_105-155", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\tstartMode := MC_STARTMODE.ramp_in;\nEND_IF\n\nCASE nState OF\n\t0:(* 初始化 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 3;\n\t\tEND_IF\n\t\t//设置主从轴的实际位置\n\t\tfbSetActPos1(Axis := AxisX,Execute := bSetMasterActPos,Mode := FALSE,Position := setMasterPos);\n\t\tfbSetActPos2(Axis := AxisY,Execute := bSetSlaveActPos,Mode := FALSE,Position := setSlavePos);\n\n\t\t//控制主从轴以一定的速度运动\n\t\tfbMasterMoveVel(Execute := bMasterRun,Axis := AxisX,Velocity := masterMotorVelTemp,Acceleration := masterMotorAccTemp,Deceleration := masterMotorAccTemp,Direction := MC_DIRECTION.positive);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 105, "start_line_no": 105, "end_line_no": 155, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_110-160", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\n\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 3;\n\t\tEND_IF\n\t\t//设置主从轴的实际位置\n\t\tfbSetActPos1(Axis := AxisX,Execute := bSetMasterActPos,Mode := FALSE,Position := setMasterPos);\n\t\tfbSetActPos2(Axis := AxisY,Execute := bSetSlaveActPos,Mode := FALSE,Position := setSlavePos);\n\n\t\t//控制主从轴以一定的速度运动\n\t\tfbMasterMoveVel(Execute := bMasterRun,Axis := AxisX,Velocity := masterMotorVelTemp,Acceleration := masterMotorAccTemp,Deceleration := masterMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\tfbSlaveMoveVel(Execute := bSlaveRun,Axis := AxisY,Velocity := slaveMotorVelTemp,Acceleration := slaveMotorAccTemp,Deceleration := slaveMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\t\n\t\t//凸轮耦合\n\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := bGear,Periodic := bPeriodic,MasterAbsolute := bMasterAbs,SlaveAbsolute := bSlaveAbs);\n\t\tfbCamIn(Execute := fbCamTableSelect.Done,Master := AxisX,Slave := AxisY ,MasterOffset := masterOff,SlaveOffset := slaveOff,MasterScaling := masterSca,SlaveScaling := slaveSca,StartMode := startMode,CamTableID := fbCamTableSelect.CamTableID);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 110, "start_line_no": 110, "end_line_no": 160, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_115-165", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\t1:(* 初始化 *)\n\t\tIF PowerAxis.bPowerDone THEN\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 3;\n\t\tEND_IF\n\t\t//设置主从轴的实际位置\n\t\tfbSetActPos1(Axis := AxisX,Execute := bSetMasterActPos,Mode := FALSE,Position := setMasterPos);\n\t\tfbSetActPos2(Axis := AxisY,Execute := bSetSlaveActPos,Mode := FALSE,Position := setSlavePos);\n\n\t\t//控制主从轴以一定的速度运动\n\t\tfbMasterMoveVel(Execute := bMasterRun,Axis := AxisX,Velocity := masterMotorVelTemp,Acceleration := masterMotorAccTemp,Deceleration := masterMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\tfbSlaveMoveVel(Execute := bSlaveRun,Axis := AxisY,Velocity := slaveMotorVelTemp,Acceleration := slaveMotorAccTemp,Deceleration := slaveMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\t\n\t\t//凸轮耦合\n\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := bGear,Periodic := bPeriodic,MasterAbsolute := bMasterAbs,SlaveAbsolute := bSlaveAbs);\n\t\tfbCamIn(Execute := fbCamTableSelect.Done,Master := AxisX,Slave := AxisY ,MasterOffset := masterOff,SlaveOffset := slaveOff,MasterScaling := masterSca,SlaveScaling := slaveSca,StartMode := startMode,CamTableID := fbCamTableSelect.CamTableID);\n\t\tfbCamOut(Slave := AxisY,Execute := bGearOut);\t\n\t\t\n\t\t//轴停止\n\t\tfbMasterHalt(Axis := AxisX,Execute := bMasterStop,Deceleration := masterMotorAccTemp);\n\t\tfbSlaveHalt(Axis := AxisY,Execute := bSlaveStop,Deceleration := slaveMotorAccTemp);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 115, "start_line_no": 115, "end_line_no": 165, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_120-170", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 3;\n\t\tEND_IF\n\t\t//设置主从轴的实际位置\n\t\tfbSetActPos1(Axis := AxisX,Execute := bSetMasterActPos,Mode := FALSE,Position := setMasterPos);\n\t\tfbSetActPos2(Axis := AxisY,Execute := bSetSlaveActPos,Mode := FALSE,Position := setSlavePos);\n\n\t\t//控制主从轴以一定的速度运动\n\t\tfbMasterMoveVel(Execute := bMasterRun,Axis := AxisX,Velocity := masterMotorVelTemp,Acceleration := masterMotorAccTemp,Deceleration := masterMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\tfbSlaveMoveVel(Execute := bSlaveRun,Axis := AxisY,Velocity := slaveMotorVelTemp,Acceleration := slaveMotorAccTemp,Deceleration := slaveMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\t\n\t\t//凸轮耦合\n\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := bGear,Periodic := bPeriodic,MasterAbsolute := bMasterAbs,SlaveAbsolute := bSlaveAbs);\n\t\tfbCamIn(Execute := fbCamTableSelect.Done,Master := AxisX,Slave := AxisY ,MasterOffset := masterOff,SlaveOffset := slaveOff,MasterScaling := masterSca,SlaveScaling := slaveSca,StartMode := startMode,CamTableID := fbCamTableSelect.CamTableID);\n\t\tfbCamOut(Slave := AxisY,Execute := bGearOut);\t\n\t\t\n\t\t//轴停止\n\t\tfbMasterHalt(Axis := AxisX,Execute := bMasterStop,Deceleration := masterMotorAccTemp);\n\t\tfbSlaveHalt(Axis := AxisY,Execute := bSlaveStop,Deceleration := slaveMotorAccTemp);\n\t\t\n\t3:(* 将轴复位 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 120, "start_line_no": 120, "end_line_no": 170, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_125-175", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\t\t\tfbSetActPos1(Axis := AxisX,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := TRUE,Mode := FALSE,Position := 0);\n\t\t\tIF fbSetActPos1.Done AND fbSetActPos2.Done THEN\n\t\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE);\n\t\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE);\n\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 3;\n\t\tEND_IF\n\t\t//设置主从轴的实际位置\n\t\tfbSetActPos1(Axis := AxisX,Execute := bSetMasterActPos,Mode := FALSE,Position := setMasterPos);\n\t\tfbSetActPos2(Axis := AxisY,Execute := bSetSlaveActPos,Mode := FALSE,Position := setSlavePos);\n\n\t\t//控制主从轴以一定的速度运动\n\t\tfbMasterMoveVel(Execute := bMasterRun,Axis := AxisX,Velocity := masterMotorVelTemp,Acceleration := masterMotorAccTemp,Deceleration := masterMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\tfbSlaveMoveVel(Execute := bSlaveRun,Axis := AxisY,Velocity := slaveMotorVelTemp,Acceleration := slaveMotorAccTemp,Deceleration := slaveMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\t\n\t\t//凸轮耦合\n\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := bGear,Periodic := bPeriodic,MasterAbsolute := bMasterAbs,SlaveAbsolute := bSlaveAbs);\n\t\tfbCamIn(Execute := fbCamTableSelect.Done,Master := AxisX,Slave := AxisY ,MasterOffset := masterOff,SlaveOffset := slaveOff,MasterScaling := masterSca,SlaveScaling := slaveSca,StartMode := startMode,CamTableID := fbCamTableSelect.CamTableID);\n\t\tfbCamOut(Slave := AxisY,Execute := bGearOut);\t\n\t\t\n\t\t//轴停止\n\t\tfbMasterHalt(Axis := AxisX,Execute := bMasterStop,Deceleration := masterMotorAccTemp);\n\t\tfbSlaveHalt(Axis := AxisY,Execute := bSlaveStop,Deceleration := slaveMotorAccTemp);\n\t\t\n\t3:(* 将轴复位 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\nEND_CASE\n//将主从轴的状态信息显示在视图中（使用F_AxisStatusToString函数）\nfbReadStatusMaster(Axis := AxisX, Enable := TRUE);\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 125, "start_line_no": 125, "end_line_no": 175, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_Cam.st_130-180", "title": "电子凸轮运动实训-PRG\\Cam.st", "text": "\t\t\t\tnState := 2;\n\t\t\tEND_IF\n\t\tEND_IF\n\t2:\n\t\tfbResetRtrig(CLK := bReset);\n\t\tIF fbResetRtrig.Q THEN  //判断是否复位，若复位，则将所有功能置为复位状态\n\t\t\tfbMasterMoveVel(Execute := FALSE,Axis := AxisX);\n\t\t\tfbSlaveMoveVel(Execute := FALSE,Axis := AxisY);\n\t\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := FALSE);\n\t\t\tfbCamIn(Execute := FALSE,Master := AxisX,Slave := AxisY);\n\t\t\tfbCamOut(Slave := AxisY,Execute := FALSE);\t\n\t\t\tfbMasterHalt(Axis := AxisX,Execute := FALSE);\n\t\t\tfbSlaveHalt(Axis := AxisY,Execute := FALSE);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tfbSetActPos1(Axis := AxisX,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbSetActPos2(Axis := AxisY,Execute := FALSE,Mode := FALSE,Position := 0);\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 3;\n\t\tEND_IF\n\t\t//设置主从轴的实际位置\n\t\tfbSetActPos1(Axis := AxisX,Execute := bSetMasterActPos,Mode := FALSE,Position := setMasterPos);\n\t\tfbSetActPos2(Axis := AxisY,Execute := bSetSlaveActPos,Mode := FALSE,Position := setSlavePos);\n\n\t\t//控制主从轴以一定的速度运动\n\t\tfbMasterMoveVel(Execute := bMasterRun,Axis := AxisX,Velocity := masterMotorVelTemp,Acceleration := masterMotorAccTemp,Deceleration := masterMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\tfbSlaveMoveVel(Execute := bSlaveRun,Axis := AxisY,Velocity := slaveMotorVelTemp,Acceleration := slaveMotorAccTemp,Deceleration := slaveMotorAccTemp,Direction := MC_DIRECTION.positive);\n\t\t\n\t\t//凸轮耦合\n\t\tfbCamTableSelect(Master := AxisX,Slave := AxisY,CamTable := CamTable,Execute := bGear,Periodic := bPeriodic,MasterAbsolute := bMasterAbs,SlaveAbsolute := bSlaveAbs);\n\t\tfbCamIn(Execute := fbCamTableSelect.Done,Master := AxisX,Slave := AxisY ,MasterOffset := masterOff,SlaveOffset := slaveOff,MasterScaling := masterSca,SlaveScaling := slaveSca,StartMode := startMode,CamTableID := fbCamTableSelect.CamTableID);\n\t\tfbCamOut(Slave := AxisY,Execute := bGearOut);\t\n\t\t\n\t\t//轴停止\n\t\tfbMasterHalt(Axis := AxisX,Execute := bMasterStop,Deceleration := masterMotorAccTemp);\n\t\tfbSlaveHalt(Axis := AxisY,Execute := bSlaveStop,Deceleration := slaveMotorAccTemp);\n\t\t\n\t3:(* 将轴复位 *)\n\t\tfbResetAxis(bExec := TRUE);\n\t\tIF fbResetAxis.Done THEN\n\t\t\tfbResetAxis(bExec := FALSE);\n\t\t\tnState := 1;\n\t\tEND_IF\nEND_CASE\n//将主从轴的状态信息显示在视图中（使用F_AxisStatusToString函数）\nfbReadStatusMaster(Axis := AxisX, Enable := TRUE);\nfbReadStatusSlave(Axis := AxisY, Enable := TRUE);\n\n// 使用F_AxisStatusToString函数转换状态\nmasterStateStr := F_AxisStatusToString(fbReadStatus := fbReadStatusMaster);\nslaveStateStr := F_AxisStatusToString(fbReadStatus := fbReadStatusSlave);", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\Cam.st"], "repo": "电子凸轮运动实训", "line_no": 130, "start_line_no": 130, "end_line_no": 180, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_PowerAxis.st_0-18", "title": "电子凸轮运动实训-PRG\\PowerAxis.st", "text": "PROGRAM PowerAxis\nVAR\n\tfbDualPower\t\t:\tFB_DualAxisPower;\t//双轴电源控制功能块\n\tbPowerOn\t\t:\tBOOL;\nEND_VAR\nVAR_OUTPUT \n\tbPowerDone\t\t:\tBOOL;\nEND_VAR\n\n// 使用双轴电源控制功能块\nfbDualPower(\n\tAxis1 := AxisX,\n\tAxis2 := AxisY,\n\tbPowerOn := bPowerOn\n);\n\n// 输出状态\nbPowerDone := fbDualPower.bPowerDone;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\PowerAxis.st"], "repo": "电子凸轮运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 18, "window_size": 50, "slice_size": 5}]}
{"_id": "电子凸轮运动实训_PRG_RunReset.st_0-18", "title": "电子凸轮运动实训-PRG\\RunReset.st", "text": "PROGRAM RunReset\nVAR\n\tfbDualReset\t\t:\tFB_DualAxisReset;\t//双轴复位功能块\n\tbExecuteReset\t:\tBOOL := TRUE;\t\t//自动执行复位\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\nEND_VAR\n\n// 使用双轴复位功能块\nfbDualReset(\n\tAxis1 := AxisX,\n\tAxis2 := AxisY,\n\tbExecute := bExecuteReset\n);\n\n// 输出复位完成状态\nbDone := fbDualReset.bDone;\n", "metadata": [{"fpath_tuple": ["电子凸轮运动实训", "PRG\\RunReset.st"], "repo": "电子凸轮运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 18, "window_size": 50, "slice_size": 5}]}
