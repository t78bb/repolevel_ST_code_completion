{"_id": "PT1Filter/0", "text": "FUNCTION_BLOCK FB_PT1Filter\nVAR_INPUT\n\trInput: REAL:= 0.0; \t\t\t\t\t\t\t\t//输入数据\n\trK: REAL:= 1.0; \t\t\t\t\t\t\t\t\t//增益\n\ttT: TIME; \t\t\t\t\t\t\t\t\t\t\t//时间参数\nEND_VAR\nVAR_OUTPUT\n\trOutput: REAL:= 0.0;  \t\t\t\t\t\t\t\t//输出数据\nEND_VAR", "metadata": {"task_id": "PT1Filter/0", "ground_truth": "FUNCTION_BLOCK FB_PT1Filter\nVAR_INPUT\n\trInput: REAL:= 0.0; \t\t\t\t\t\t\t\t//输入数据\n\trK: REAL:= 1.0; \t\t\t\t\t\t\t\t\t//增益\n\ttT: TIME; \t\t\t\t\t\t\t\t\t\t\t//时间参数\nEND_VAR\nVAR_OUTPUT\n\trOutput: REAL:= 0.0;  \t\t\t\t\t\t\t\t//输出数据\nEND_VAR\nVAR\n\t_rT: LREAL;\n\t_rY: LREAL;\nEND_VAR\n\nIF _rT = 0.0 THEN\n\trOutput:= rInput; \t\t\t\t\t\t\t\t\t//输出数据初始化\nEND_IF\n\n_rT:= TIME_TO_REAL(tT) /10;\t\t\t\t\t\t\t\t//10为PLC的采样周期，单位为ms\n\nIF ABS(rOutput - rInput) < 1E-6 THEN\n\trOutput:= rInput; \t\t\t\t\t\t\t\t\t//防止除零\nELSIF _rT > 0.0 THEN\n\trOutput:= (rK / _rT) * rInput + (1.0 - (1.0 / _rT)) * _rY;\nELSE\n\trOutput:= rInput;  \t\t\t\t\t\t\t\t\t//如果时间常数小于等于零请输出等于输入\nEND_IF\n_rY:= rOutput;", "fpath_tuple": ["FB_PT1Filter.st"], "context_start_lineno": 0, "lineno": 10, "function_name": "FB_PT1Filter", "line_no": 10}}
