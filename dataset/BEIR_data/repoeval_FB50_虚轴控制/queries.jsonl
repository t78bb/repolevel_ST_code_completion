{"_id": "FB50_虚轴控制/0", "text": "FUNCTION_BLOCK FB_轴停止触发块\nVAR_IN_OUT\n\tStopExcute: BOOL;\nEND_VAR", "metadata": {"task_id": "FB50_虚轴控制/0", "ground_truth": "FUNCTION_BLOCK FB_轴停止触发块\nVAR_IN_OUT\n\tStopExcute: BOOL;\nEND_VAR\nVAR\n\tTON0: TON;\nEND_VAR\n\n\nTON0(IN:= StopExcute, PT:= T#0.3S, Q=> , ET=> );\n\nIF TON0.Q THEN\n\tStopExcute:=FALSE;\nEND_IF", "fpath_tuple": ["FB101_功能块", "F04_轴控操作", "FB_轴停止触发块.st"], "context_start_lineno": 0, "lineno": 5, "function_name": "FB_轴停止触发块", "line_no": 5}}
{"_id": "FB50_虚轴控制/1", "text": "FUNCTION_BLOCK FB_轴控块\nVAR_INPUT\n\tEnable: BOOL;\n\t\n\tJogFor: BOOL;\n\tJogBack: BOOL;\t\t\n\tJogVelocity :LREAL;\n\t\n\tStopExcute: BOOL;\n\tResetExcute: BOOL;\n\t\n\tAbsExcute: BOOL;\t\n\tAbsPosition: LREAL;\n\tAbsVelocity: LREAL;\n\tAbsAcceleration: LREAL;\n\tAbsDeceleration: LREAL;\n\t\n\tRelExcute: BOOL;\n\tRelPosition: LREAL;\n\tRelVelocity: LREAL;\n\tRelAcceleration: LREAL;\n\tRelDeceleration: LREAL;\n\t\n\tVelExcute: BOOL;\n\tVelVelocity: LREAL;\n\t\n    InchForward: BOOL;\n\tInchBackward: BOOL;\t\n\tInchDistance: LREAL;\n\tInchVelocity: LREAL;\n\tInchAcceleration: LREAL;\n\tInchDeceleration: LREAL;\n\t\n\tSetPosExcute: BOOL;\n\n\tReStartSlaveEx: BOOL;\nEND_VAR\nVAR_OUTPUT\n\tEnableStatus: BOOL;\n\tStopDone: BOOL;\n\tAbsDone: BOOL;\n\tRelDone: BOOL;\n\tVelBusy: BOOL;\t\n\tInchBusy: BOOL;\n\tJogBusy: BOOL;\n\tAbsBusy: BOOL;\n\tRelBusy: BOOL;\n\tAxisStandstill: BOOL;\n\tAxisError: BOOL;\n\tAxisAccing: BOOL;\n\tAxisDecing: BOOL;\n\tFBErrorOccured: BOOL;\n\tHoming: BOOL;\n\tStopping: BOOL;\t\n\tErrorID: SMC_ERROR;\n\t\n\tSetPosDone: BOOL;\t\n\n\tbOperational: BOOL;\n\teComState: SM3_Basic.SMC_CommunicationState;\n\twComState: WORD;\n\t\n\tReStartSlaveDone: BOOL;\nEND_VAR", "metadata": {"task_id": "FB50_虚轴控制/1", "ground_truth": "FUNCTION_BLOCK FB_轴控块\nVAR_INPUT\n\tEnable: BOOL;\n\t\n\tJogFor: BOOL;\n\tJogBack: BOOL;\t\t\n\tJogVelocity :LREAL;\n\t\n\tStopExcute: BOOL;\n\tResetExcute: BOOL;\n\t\n\tAbsExcute: BOOL;\t\n\tAbsPosition: LREAL;\n\tAbsVelocity: LREAL;\n\tAbsAcceleration: LREAL;\n\tAbsDeceleration: LREAL;\n\t\n\tRelExcute: BOOL;\n\tRelPosition: LREAL;\n\tRelVelocity: LREAL;\n\tRelAcceleration: LREAL;\n\tRelDeceleration: LREAL;\n\t\n\tVelExcute: BOOL;\n\tVelVelocity: LREAL;\n\t\n    InchForward: BOOL;\n\tInchBackward: BOOL;\t\n\tInchDistance: LREAL;\n\tInchVelocity: LREAL;\n\tInchAcceleration: LREAL;\n\tInchDeceleration: LREAL;\n\t\n\tSetPosExcute: BOOL;\n\n\tReStartSlaveEx: BOOL;\nEND_VAR\nVAR_OUTPUT\n\tEnableStatus: BOOL;\n\tStopDone: BOOL;\n\tAbsDone: BOOL;\n\tRelDone: BOOL;\n\tVelBusy: BOOL;\t\n\tInchBusy: BOOL;\n\tJogBusy: BOOL;\n\tAbsBusy: BOOL;\n\tRelBusy: BOOL;\n\tAxisStandstill: BOOL;\n\tAxisError: BOOL;\n\tAxisAccing: BOOL;\n\tAxisDecing: BOOL;\n\tFBErrorOccured: BOOL;\n\tHoming: BOOL;\n\tStopping: BOOL;\t\n\tErrorID: SMC_ERROR;\n\t\n\tSetPosDone: BOOL;\t\n\n\tbOperational: BOOL;\n\teComState: SM3_Basic.SMC_CommunicationState;\n\twComState: WORD;\n\t\n\tReStartSlaveDone: BOOL;\nEND_VAR\nVAR\n\tMC_Power0: MC_Power;\n\tMC_Jog0: MC_Jog;\n\tMC_Stop0: MC_Stop;\n\tMC_Reset0: MC_Reset;\n\tMC_MoveAbsolute0: MC_MoveAbsolute;\n\tMC_MoveRelative0: MC_MoveRelative;\n\tMC_MoveVelocity0: MC_MoveVelocity;\n\tMC_ReadStatus0: MC_ReadStatus;\n\tSMC_Inch0: SMC_Inch;\n\tMC_SetPosition0: MC_SetPosition;\n\tSMC_CheckAxisCommunication0: SMC_CheckAxisCommunication;\n\tSMC3_ReinitDrive0: SMC3_ReinitDrive;\nEND_VAR\n\nVAR_IN_OUT\n\tAxisName: SM3_BASIC.AXIS_REF_SM3;\nEND_VAR\n\nMC_Power0(\n\tAxis:= AxisName, \n\tEnable:= TRUE, \n\tbRegulatorOn:= Enable, \n\tbDriveStart:= TRUE, \n\tStatus=> EnableStatus, \n\tbRegulatorRealState=> , \n\tbDriveStartRealState=> , \n\tBusy=> , \n\tError=> , \n\tErrorID=> );\n\t\nMC_Jog0(\n\tAxis:= AxisName, \n\tJogForward:= JogFor, \n\tJogBackward:= JogBack, \n\tVelocity:= JogVelocity,  \n\tAcceleration:= JogVelocity*10000, \n\tDeceleration:= JogVelocity*10000, \n\tJerk:= , \n\tBusy=> JogBusy, \n\tCommandAborted=> , \n\tError=> , \n\tErrorId=> );\n\t\nMC_Stop0(\n\tAxis:= AxisName, \n\tExecute:= StopExcute, \n\tDeceleration:= 100000000, \n\tJerk:= , \n\tDone=> StopDone, \n\tBusy=> , \n\tError=> , \n\tErrorID=> );\n\t\nMC_Reset0(\n\tAxis:= AxisName, \n\tExecute:= ResetExcute, \n\tDone=> , \n\tBusy=> , \n\tError=> , \n\tErrorID=> );\n\t\n\t\nMC_SetPosition0(\n\tAxis:= AxisName, \n\tExecute:= SetPosExcute, \n\tPosition:= 0, \n\tMode:= 0, \n\tDone=> SetPosDone, \n\tBusy=> , \n\tError=> , \n\tErrorID=> );\n\t\nMC_MoveAbsolute0(\n\tAxis:= AxisName, \n\tExecute:= AbsExcute, \n\tPosition:= AbsPosition, \n\tVelocity:= AbsVelocity, \n\tAcceleration:= AbsAcceleration, \n\tDeceleration:= AbsDeceleration, \n\tJerk:= , \n\tDirection:= , \n\tDone=> AbsDone, \n\tBusy=> AbsBusy, \n\tCommandAborted=> , \n\tError=> , \n\tErrorID=> );\n\t\nMC_MoveRelative0(\n\tAxis:= AxisName, \n\tExecute:= RelExcute, \n\tDistance:= RelPosition, \n\tVelocity:= RelVelocity, \n\tAcceleration:= RelAcceleration, \n\tDeceleration:= RelDeceleration, \n\tJerk:= , \n\tDone=> RelDone, \n\tBusy=> RelBusy, \n\tCommandAborted=> , \n\tError=> , \n\tErrorID=> );\n\t\nMC_MoveVelocity0(\n\tAxis:= AxisName, \n\tExecute:= VelExcute, \n\tVelocity:= VelVelocity, \n\tAcceleration:= VelVelocity*10000, \n\tDeceleration:= VelVelocity*10000, \n\tJerk:= , \n\tDirection:= , \n\tInVelocity=> , \n\tBusy=> VelBusy, \n\tCommandAborted=> , \n\tError=> , \n\tErrorID=> );\t\n\t\nMC_ReadStatus0(\n\tAxis:= AxisName, \n\tEnable:= TRUE, \n\tValid=> , \n\tBusy=> , \n\tError=> , \n\tErrorID=> ErrorID, \n\tDisabled=> , \n\tErrorstop=> AxisError, \n\tStopping=> Stopping, \n\tStandStill=> AxisStandstill, \n\tDiscreteMotion=> , \n\tContinuousMotion=> , \n\tSynchronizedMotion=> , \n\tHoming=> Homing, \n\tConstantVelocity=> , \n\tAccelerating=> AxisAccing, \n\tDecelerating=> AxisDecing, \n\tFBErrorOccured=> FBErrorOccured);\n\t\nSMC_Inch0(\n\tAxis:= AxisName, \n\tInchForward:= InchForward, \n\tInchBackward:= InchBackward, \n\tDistance:= InchDistance, \n\tVelocity:= InchVelocity, \n\tAcceleration:= InchAcceleration, \n\tDeceleration:= InchDeceleration, \n\tJerk:= , \n\tBusy=> InchBusy, \n\tCommandAborted=> , \n\tError=> , \n\tErrorId=> );\n\t\nSMC_CheckAxisCommunication0(\n\tAxis:= AxisName, \n\tbEnable:= TRUE, \n\tbValid=> , \n\tbError=> , \n\teErrorID=> , \n\tbOperational=> bOperational, \n\teComState=> eComState, \n\twComState=> wComState);\t\n\t\nSMC3_ReinitDrive0(\n\tAxis:= AxisName, \n\tbExecute:= ReStartSlaveEx, \n\tbVirtual:= , \n\tbDone=> ReStartSlaveDone, \n\tbBusy=> , \n\tbError=> , \n\tnErrorID=> );", "fpath_tuple": ["FB101_功能块", "F04_轴控操作", "FB_轴控块.st"], "context_start_lineno": 0, "lineno": 65, "function_name": "FB_轴控块", "line_no": 65}}
{"_id": "FB50_虚轴控制/2", "text": "FUNCTION_BLOCK FB_轴通讯状态块\nVAR_INPUT\n\tAxis_bCommunication: BOOL;\n\tAxis_wCommunicationState: WORD;\nEND_VAR\nVAR_OUTPUT\n\tEtherCATBusOK: BOOL;\nEND_VAR", "metadata": {"task_id": "FB50_虚轴控制/2", "ground_truth": "FUNCTION_BLOCK FB_轴通讯状态块\nVAR_INPUT\n\tAxis_bCommunication: BOOL;\n\tAxis_wCommunicationState: WORD;\nEND_VAR\nVAR_OUTPUT\n\tEtherCATBusOK: BOOL;\nEND_VAR\nVAR\nEND_VAR\n\nEtherCATBusOK := (Axis_wCommunicationState = 100) AND Axis_bCommunication;", "fpath_tuple": ["FB101_功能块", "F04_轴控操作", "FB_轴通讯状态块.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "FB_轴通讯状态块", "line_no": 9}}
