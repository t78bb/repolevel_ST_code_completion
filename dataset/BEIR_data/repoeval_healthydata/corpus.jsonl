{"_id": "healthydata_FUN_CommandExecutor.st_0-25", "title": "healthydata-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor.st_0-30", "title": "healthydata-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor.st_0-31", "title": "healthydata-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 31, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-25", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-30", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-35", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-40", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-45", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-50", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_5-52", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\t\nEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 52, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave.st_0-12", "title": "healthydata-FUN\\fileSave.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_close.st_0-17", "title": "healthydata-FUN\\fileSave_close.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_close.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_createDir.st_0-19", "title": "healthydata-FUN\\fileSave_createDir.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_createDir.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 19, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-25", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-30", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-35", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-40", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-45", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-50", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_5-55", "title": "healthydata-FUN\\fileSave_new.st", "text": "END_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_10-60", "title": "healthydata-FUN\\fileSave_new.st", "text": "\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_15-64", "title": "healthydata-FUN\\fileSave_new.st", "text": "\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n\n\tfileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_WRITE, pResult:= ADR(F_err));\n\tlineCount := -1;\n\t//fileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_APPEND, pResult:= ADR(F_err));", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 15, "end_line_no": 64, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-25", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-30", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-35", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-39", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n\t\n\tSysFileWrite(hFile:=fileHandle , pbyBuffer:= ADR(data) , ulSize:= DINT_TO_DWORD(SysStrLen(data)) , pResult:= ADR(F_err));\t\t// 写入数据\n\nEND_IF", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_percentCalc.st_0-25", "title": "healthydata-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\percentCalc.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_percentCalc.st_0-28", "title": "healthydata-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n\t\tp := gDev.sky[idx].sensor.extendVal - gDev.sky[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\percentCalc.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-25", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-30", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-35", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-40", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-45", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-48", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 48, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-25", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-30", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-35", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-40", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-44", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n\t    tcpConnector.Disconnect();\n\t\ttcpState := 0;\n\nEND_CASE", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 44, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-25", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-30", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-35", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-40", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-45", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-50", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_5-53", "title": "healthydata-FUN\\updateDevStatus.st", "text": "END_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\nEND_CASE\n\nupdateDevStatus := stat;", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 53, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gCan.st_0-25", "title": "healthydata-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gCan.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gCan.st_0-28", "title": "healthydata-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n//*)\n\nEND_VAR", "metadata": [{"fpath_tuple": ["healthydata", "global\\gCan.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gController.st_0-6", "title": "healthydata-global\\gController.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t//发送至SWMC的比例阀的控制指令\n\tsky\t\t:ARRAY[0..10] OF CmdPercentSet;\n\tgrd\t\t:ARRAY[1..10] OF CmdPercentSet;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gController.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gDev.st_0-5", "title": "healthydata-global\\gDev.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tsky\t\t:ARRAY[0..10] OF DeviceUnit;\n\tgrd\t\t:ARRAY[1..10] OF DeviceUnit;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gDev.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 5, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gModbus.st_0-8", "title": "healthydata-global\\gModbus.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL CONSTANT\n\tg_modbusDataSizeMax\t:  UINT:=65535; // 从机保持寄存器数量\nEND_VAR\nVAR_GLOBAL\n\tsrv\t\t\t\t:mdbsStruct;\t\t//modbus-service\n\tmodbusBuffer\t:ARRAY[0..g_modbusDataSizeMax] OF WORD;\t//输入寄存器数据区\t\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gModbus.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gUI.st_0-13", "title": "healthydata-global\\gUI.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t\n\tmode\t:UIMode;\t\t\t\t\t//模式设定\n\n\tsky\t\t:ARRAY[0..10] OF UIUnit;\t//挡板2组\n\tgrd\t\t:ARRAY[1..10] OF UIUnit;\t//挡板1组\n\t\n\tpid\t\t:UiPid;\t\t\t\t\t\t//pid测试界面参数\n\t\n\t\n\t\nEND_VAR", "metadata": [{"fpath_tuple": ["healthydata", "global\\gUI.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-25", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-30", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-35", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-40", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-45", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-50", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_5-55", "title": "healthydata-PRG\\FileSaver.st", "text": "\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_10-60", "title": "healthydata-PRG\\FileSaver.st", "text": "\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_15-65", "title": "healthydata-PRG\\FileSaver.st", "text": "\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_20-70", "title": "healthydata-PRG\\FileSaver.st", "text": "\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_25-75", "title": "healthydata-PRG\\FileSaver.st", "text": "\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getSkyData();\n\t\t //write\n\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t ELSE\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_30-80", "title": "healthydata-PRG\\FileSaver.st", "text": "\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getSkyData();\n\t\t //write\n\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t ELSE\n\t\t IF flag[2, si] = 1 THEN\n\t\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t\t\t sav[2, si].close();\n\t\t\t flag[2, si] := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_35-83", "title": "healthydata-PRG\\FileSaver.st", "text": "\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getSkyData();\n\t\t //write\n\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t ELSE\n\t\t IF flag[2, si] = 1 THEN\n\t\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t\t\t sav[2, si].close();\n\t\t\t flag[2, si] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 35, "start_line_no": 35, "end_line_no": 83, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver_getGrdData.st_0-8", "title": "healthydata-PRG\\FileSaver_getGrdData.st", "text": "//进制转换 到0.01mm\nlastPosition[1, gi] := nowPosition[1, gi];\nnowPosition[1, gi] := REAL_TO_INT(10 * gDev.grd[gi].sensor.position);\n\nspeed := REAL_TO_INT(gDev.grd[gi].sensor.speed);\n\n\nstate[1, gi] := gDev.grd[gi].state;", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver_getGrdData.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver_getSkyData.st_0-8", "title": "healthydata-PRG\\FileSaver_getSkyData.st", "text": "//进制转换 到0.01mm\nlastPosition[2, si] := nowPosition[2, si];\nnowPosition[2, si] := REAL_TO_INT(10 * gDev.sky[si].sensor.position);\n\nspeed := REAL_TO_INT(gDev.sky[si].sensor.speed);\n\n\nstate[2, si] := gDev.sky[si].state;", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver_getSkyData.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader.st_0-21", "title": "healthydata-PRG\\TcpUploader.st", "text": "PROGRAM TcpUploader\nVAR\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\ttcpConnector(InetAddress := destIp,port:= destPort);\nEND_IF\n\nprepareMetaData();\n\ntcpConnector.send(dataLength := myDataLen, sendBuf := myData);\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 21, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-25", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-30", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-35", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-40", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-45", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-50", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_5-55", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_10-60", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_15-65", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\nFOR si := 0 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.sky[si].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_20-70", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "END_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\nFOR si := 0 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.sky[si].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.sky[si].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_25-75", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "myData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\nFOR si := 0 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.sky[si].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.sky[si].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_CmdPercentSet.st_0-6", "title": "healthydata-struct\\CmdPercentSet.st", "text": "TYPE CmdPercentSet :\nSTRUCT\n\textendPercent\t\t:WORD;\t\t//0-65535\n\tretractPercent\t\t:WORD;\t\t//0-65535\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\CmdPercentSet.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_DeviceUnit.st_0-17", "title": "healthydata-struct\\DeviceUnit.st", "text": "TYPE DeviceUnit :\nSTRUCT\n\t\t\n\tsensor\t\t\t:SensorInfo;\t\t//传感器参数\n\tctrl\t\t\t:DevPid;\t\t\t//pid等计算控制执行参数\t\n\t\n\tvector\t\t\t:TargetDirect;\t\t//指令运行方向 1-伸出 2-缩回 3-停止\n\tstate\t\t\t:DevStatus;\t\t\t//设备状态 0-未知 1-运行 2-伸出到位 3-缩回到位 4-错误\n\t\n\ttimeCounter\t\t:INT;\t\t\t\t//timeoutCounter超时计数器\n\texeCounter\t\t:INT;\t\t\t\t//ExecuteCounter额外执行时间计数\n\n\tcurrent\t\t\t:ARRAY[1..2] OF WORD;\t//电流mA\t[i,j] -> 地轨挡板i的电流，j=1伸出电流，j=2缩回电流\n\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\DeviceUnit.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_DevStatus.st_0-15", "title": "healthydata-struct\\DevStatus.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE DevStatus :\n(\n\tunknown \t:= 0,\n\t\n\truning\t\t:= 1,\n\t\n\textended\t:= 2,\n\t\n\tretracted\t:= 3,\n\t\n\terror\t\t:= 4\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\DevStatus.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 15, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_SensorInfo.st_0-12", "title": "healthydata-struct\\SensorInfo.st", "text": "TYPE SensorInfo :\nSTRUCT\n\t\n\tposition\t:REAL;\t//实时位移\n\tspeed\t\t:REAL;\t//实时速度\n\t\n\t//记录最大最小位移值\n\tretractVal\t:REAL;\t//缩回到位值\n\textendVal\t:REAL;\t//伸出到位值\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\SensorInfo.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_TargetDirect.st_0-11", "title": "healthydata-struct\\TargetDirect.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE TargetDirect :\n(\n\textend \t:= 1,\t//伸出\n\t\n\tretract := 2,\t//缩回\n\t\n\tstop\t:= 3\t//停止\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\TargetDirect.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_UIMode.st_0-16", "title": "healthydata-struct\\UIMode.st", "text": "TYPE UIMode :\nSTRUCT\n\tmanualButtonSet\t\t\t:BOOL;\t\t//手动复位按钮模式\n\tusePID\t\t\t\t\t:BOOL;\t\t//使用pid\n\tautoEnable\t\t\t\t:BOOL;\t\t//自动使能\n\tmanualPercentSet\t\t:BOOL;\t\t//手动设定比例量\n\tmanualSetPid\t\t\t:BOOL;\t\t//手动调节pid参数，可通过pid测试界面设定目标位移值\n\t\n\tsyncExt\t\t\t\t\t:BOOL;\t\t//同步伸\n\tsyncRct\t\t\t\t\t:BOOL;\t\t//同步缩\n\t\n\thydPowerOn\t\t\t\t:BOOL;\t\t//液压站开启 modbus 使用\n\thydPowerOff\t\t\t\t:BOOL;\t\t//液压站关闭 modbus 使用\n\thydPowerReset\t\t\t:BOOL;\t\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\UIMode.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_UIUnit.st_0-24", "title": "healthydata-struct\\UIUnit.st", "text": "TYPE UIUnit :\nSTRUCT\n\t//cmd\n\tpwrEnable\t\t\t:BOOL;\t\t//比例阀使能   power-enable\n\tpwrPercent\t\t\t:REAL;\t\t//比例阀百分比 power-percent 0-100\n\t\n\t//button\n\tbtnExtend\t\t\t:BOOL;\n\tbtnRetract\t\t\t:BOOL;\n\tbtnStop\t\t\t\t:BOOL;\n\tbtnLast\t\t\t\t:TargetDirect;\t//上次动作方向\n\t\n\t//info display\n\tname\t\t\t\t:STRING;\t//挡板名\n\twname\t\t\t\t:WSTRING;\t//山河命名\n\thzname\t\t\t\t:WSTRING;\t//hua zhong ming ming\n\tpostion\t\t\t\t:REAL;\t\t//位移值\n\tspeed\t\t\t\t:REAL;\n\textendPercent\t\t:REAL;\t\t//伸出百分比 extend-percent\n\t\n\t\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\UIUnit.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 24, "window_size": 50, "slice_size": 5}]}
