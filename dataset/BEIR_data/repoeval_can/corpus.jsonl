{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-25", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-30", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-35", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-40", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n\t\tframe.data[3] := 0;\n\t\tframe.data[4] := 0;\n\t\tframe.data[5] := 0;\n\t\tframe.data[6] := 0;\n\t\tframe.data[7] := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-43", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n\t\tframe.data[3] := 0;\n\t\tframe.data[4] := 0;\n\t\tframe.data[5] := 0;\n\t\tframe.data[6] := 0;\n\t\tframe.data[7] := 0;\n\t\tframe.data[8] := 0;\nEND_CASE\nCan_Read_data_SWMC := frame;", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 43, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-25", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-30", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-35", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-40", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-45", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-46", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 46, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor.st_0-25", "title": "can-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor.st_0-30", "title": "can-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor.st_0-31", "title": "can-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 31, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-25", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-30", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-35", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-40", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-45", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-50", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_5-52", "title": "can-FUN\\CommandExecutor0.st", "text": "\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\t\nEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 52, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave.st_0-12", "title": "can-FUN\\fileSave.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_close.st_0-17", "title": "can-FUN\\fileSave_close.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_close.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_createDir.st_0-19", "title": "can-FUN\\fileSave_createDir.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_createDir.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 19, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-25", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-30", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-35", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-40", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-45", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-50", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_5-55", "title": "can-FUN\\fileSave_new.st", "text": "END_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_10-60", "title": "can-FUN\\fileSave_new.st", "text": "\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_15-64", "title": "can-FUN\\fileSave_new.st", "text": "\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n\n\tfileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_WRITE, pResult:= ADR(F_err));\n\tlineCount := -1;\n\t//fileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_APPEND, pResult:= ADR(F_err));", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 15, "start_line_no": 15, "end_line_no": 64, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-25", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-30", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-35", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-39", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n\t\n\tSysFileWrite(hFile:=fileHandle , pbyBuffer:= ADR(data) , ulSize:= DINT_TO_DWORD(SysStrLen(data)) , pResult:= ADR(F_err));\t\t// 写入数据\n\nEND_IF", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_percentCalc.st_0-25", "title": "can-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\percentCalc.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_percentCalc.st_0-28", "title": "can-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n\t\tp := gDev.sky[idx].sensor.extendVal - gDev.sky[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\percentCalc.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-25", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-30", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-35", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-40", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-45", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-48", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 48, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-25", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-30", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-35", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-40", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-44", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n\t    tcpConnector.Disconnect();\n\t\ttcpState := 0;\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 44, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-25", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-30", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-35", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-40", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-45", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-50", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_5-53", "title": "can-FUN\\updateDevStatus.st", "text": "END_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\nEND_CASE\n\nupdateDevStatus := stat;", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 53, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gCan.st_0-25", "title": "can-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n", "metadata": [{"fpath_tuple": ["can", "global\\gCan.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gCan.st_0-28", "title": "can-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n//*)\n\nEND_VAR", "metadata": [{"fpath_tuple": ["can", "global\\gCan.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gController.st_0-6", "title": "can-global\\gController.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t//发送至SWMC的比例阀的控制指令\n\tsky\t\t:ARRAY[0..10] OF CmdPercentSet;\n\tgrd\t\t:ARRAY[1..10] OF CmdPercentSet;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "global\\gController.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gDev.st_0-5", "title": "can-global\\gDev.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tsky\t\t:ARRAY[0..10] OF DeviceUnit;\n\tgrd\t\t:ARRAY[1..10] OF DeviceUnit;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "global\\gDev.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 5, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gModbus.st_0-8", "title": "can-global\\gModbus.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL CONSTANT\n\tg_modbusDataSizeMax\t:  UINT:=65535; // 从机保持寄存器数量\nEND_VAR\nVAR_GLOBAL\n\tsrv\t\t\t\t:mdbsStruct;\t\t//modbus-service\n\tmodbusBuffer\t:ARRAY[0..g_modbusDataSizeMax] OF WORD;\t//输入寄存器数据区\t\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "global\\gModbus.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gUI.st_0-13", "title": "can-global\\gUI.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t\n\tmode\t:UIMode;\t\t\t\t\t//模式设定\n\n\tsky\t\t:ARRAY[0..10] OF UIUnit;\t//挡板2组\n\tgrd\t\t:ARRAY[1..10] OF UIUnit;\t//挡板1组\n\t\n\tpid\t\t:UiPid;\t\t\t\t\t\t//pid测试界面参数\n\t\n\t\n\t\nEND_VAR", "metadata": [{"fpath_tuple": ["can", "global\\gUI.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx.st_0-17", "title": "can-PRG\\CanRx.st", "text": "PROGRAM CanRx\nVAR\n\tcount\t\t:UINT;\nEND_VAR\n\ncount := count + 1;\nIF count > 1000 THEN\n\tcount := 1;\nEND_IF\n\nC01_Rx();\nC02_Rx();\nC03_Rx();\nC04_Rx();\nC05_Rx();\nC06_Rx();\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n\t\t\t16#601:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n\t\t\t16#601:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-39", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n\t\t\t16#601:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\n\tEND_FOR\n\tgCan.C1RxCounter := gCan.C1RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-35", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-37", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 37, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C02_Rx_method.st", "text": "METHOD C02_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C2RxMsg.RxCounter <>  gCan.C2RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C2RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(2,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#610:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#611:\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C02_Rx_method.st", "text": "METHOD C02_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C2RxMsg.RxCounter <>  gCan.C2RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C2RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(2,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#610:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#611:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C02_Rx_method.st", "text": "METHOD C02_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C2RxMsg.RxCounter <>  gCan.C2RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C2RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(2,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#610:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#611:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C2RxCounter := gCan.C2RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C02_Tx_method.st", "text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C02_Tx_method.st", "text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[2].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#511,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Tx_method.st_0-33", "title": "can-PRG\\CanRx_C02_Tx_method.st", "text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[2].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#511,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 33, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-40", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-45", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-50", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[5].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_5-55", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[5].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[6].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[6].current[2] := cur;\n\t\t\t\t\n\t\t\t\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_10-60", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "END_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[5].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[6].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[6].current[2] := cur;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C3RxCounter := gCan.C3RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[6].retractPercent);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-35", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#521,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-37", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#521,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 37, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C04_Rx_method.st", "text": "METHOD C04_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\t\nEND_VAR\n\nIF gCan.C4RxMsg.RxCounter <>  gCan.C4RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C4RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(4,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#630:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#631:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C04_Rx_method.st", "text": "METHOD C04_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\t\nEND_VAR\n\nIF gCan.C4RxMsg.RxCounter <>  gCan.C4RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C4RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(4,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#630:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#631:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\tEND_FOR\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Rx_method.st_0-32", "title": "can-PRG\\CanRx_C04_Rx_method.st", "text": "METHOD C04_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\t\nEND_VAR\n\nIF gCan.C4RxMsg.RxCounter <>  gCan.C4RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C4RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(4,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#630:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#631:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C4RxCounter := gCan.C4RxMsg.RxCounter;\nEND_IF\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 32, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C04_Tx_method.st", "text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\t\t\n\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Tx_method.st_0-26", "title": "can-PRG\\CanRx_C04_Tx_method.st", "text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 26, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n\t\t\t16#641:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n\t\t\t16#641:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-39", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n\t\t\t16#641:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n\n\tEND_FOR\n\tgCan.C5RxCounter := gCan.C5RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C05_Tx_method.st", "text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //发送ID 0x460到C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C05_Tx_method.st", "text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //发送ID 0x460到C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#541,senddata);   //发送ID 0x460到C6\t\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Tx_method.st_0-32", "title": "can-PRG\\CanRx_C05_Tx_method.st", "text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //发送ID 0x460到C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#541,senddata);   //发送ID 0x460到C6\t\t\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 32, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n\t\t\t16#651:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n\t\t\t16#651:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-38", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n\t\t\t16#651:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C6RxCounter := gCan.C6RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 38, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C06_Tx_method.st", "text": "METHOD C06_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#550,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[9].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C06_Tx_method.st", "text": "METHOD C06_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#550,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[10].retractPercent);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Tx_method.st_0-34", "title": "can-PRG\\CanRx_C06_Tx_method.st", "text": "METHOD C06_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#550,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#551,senddata);   //发送ID 0x460到C6\n\t\t\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 34, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanTx.st_0-16", "title": "can-PRG\\CanTx.st", "text": "PROGRAM CanTx\nVAR\n\tcount\t\t:UINT;\nEND_VAR\n\ncount := count + 1;\nIF count > 1000 THEN\n\tcount := 1;\nEND_IF\n\nC01_Tx();\nC02_Tx();\nC03_Tx();\nC04_Tx();\nC05_Tx();\nC06_Tx();", "metadata": [{"fpath_tuple": ["can", "PRG\\CanTx.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_baseframe.st_0-6", "title": "can-struct\\Can_baseframe.st", "text": "TYPE Can_baseframe :\nSTRUCT\n\tid\t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_baseframe.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_BUS_8Inputs.st_0-13", "title": "can-struct\\Can_BUS_8Inputs.st", "text": "TYPE Can_BUS_8Inputs :          //输入缓存结构 EL2721-8Message_IN\nSTRUCT\n\tTxCounter\t\t\t: UINT;\n\tRxCounter\t\t\t: UINT;\n\tNoOfRxMessages \t \t: UINT;\n\tTransactionNumber\t: UINT;\n\tRXMsg\t\t\t\t: ARRAY[1..8] OF Can_Bus_RXMsg_Buff;\n\tCAN_State\t\t\t: UINT;\n\tAlign\t\t\t\t: UINT;\n\tRX_Error_Cnt\t\t: BYTE;\n\tTX_Error_Cnt\t\t: BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_BUS_8Inputs.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_BUS_8Outputs.st_0-9", "title": "can-struct\\Can_BUS_8Outputs.st", "text": "TYPE Can_BUS_8Outputs :\t\t//输出缓存结构 EL2721-8Message_OUT\nSTRUCT\n\tTxCounter\t\t: UINT;\n\tRxCounter\t\t: UINT;\n\tNoOfTxMessages \t: UINT;\n\tTXMsg\t\t\t: ARRAY[1..8] OF Can_Bus_TXMsg_Buff;\n\tCAN_Control\t\t: UINT;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_BUS_8Outputs.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 9, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_Bus_RXMsg_Buff.st_0-6", "title": "can-struct\\Can_Bus_RXMsg_Buff.st", "text": "TYPE Can_Bus_RXMsg_Buff:\nSTRUCT\n\tRxMsg_CobId\t\t: UINT;\n\tRxMsg_Byte  \t: ARRAY[1..8] OF BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_Bus_RXMsg_Buff.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_Bus_TXMsg_Buff.st_0-7", "title": "can-struct\\Can_Bus_TXMsg_Buff.st", "text": "TYPE Can_Bus_TXMsg_Buff :\nSTRUCT\n\tTxMsg_TransactionNumber\t\t: UINT;\n\tTxMsg_CobId\t\t\t\t\t: UINT;\n\tTxMsg_Byte  \t\t\t\t: ARRAY[1..8] OF BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_Bus_TXMsg_Buff.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 7, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_CmdPercentSet.st_0-6", "title": "can-struct\\CmdPercentSet.st", "text": "TYPE CmdPercentSet :\nSTRUCT\n\textendPercent\t\t:WORD;\t\t//0-65535\n\tretractPercent\t\t:WORD;\t\t//0-65535\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\CmdPercentSet.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_DeviceUnit.st_0-17", "title": "can-struct\\DeviceUnit.st", "text": "TYPE DeviceUnit :\nSTRUCT\n\t\t\n\tsensor\t\t\t:SensorInfo;\t\t//传感器参数\n\tctrl\t\t\t:DevPid;\t\t\t//pid等计算控制执行参数\t\n\t\n\tvector\t\t\t:TargetDirect;\t\t//指令运行方向 1-伸出 2-缩回 3-停止\n\tstate\t\t\t:DevStatus;\t\t\t//设备状态 0-未知 1-运行 2-伸出到位 3-缩回到位 4-错误\n\t\n\ttimeCounter\t\t:INT;\t\t\t\t//timeoutCounter超时计数器\n\texeCounter\t\t:INT;\t\t\t\t//ExecuteCounter额外执行时间计数\n\n\tcurrent\t\t\t:ARRAY[1..2] OF WORD;\t//电流mA\t[i,j] -> 地轨挡板i的电流，j=1伸出电流，j=2缩回电流\n\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\DeviceUnit.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_DevStatus.st_0-15", "title": "can-struct\\DevStatus.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE DevStatus :\n(\n\tunknown \t:= 0,\n\t\n\truning\t\t:= 1,\n\t\n\textended\t:= 2,\n\t\n\tretracted\t:= 3,\n\t\n\terror\t\t:= 4\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\DevStatus.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 15, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_SensorInfo.st_0-12", "title": "can-struct\\SensorInfo.st", "text": "TYPE SensorInfo :\nSTRUCT\n\t\n\tposition\t:REAL;\t//实时位移\n\tspeed\t\t:REAL;\t//实时速度\n\t\n\t//记录最大最小位移值\n\tretractVal\t:REAL;\t//缩回到位值\n\textendVal\t:REAL;\t//伸出到位值\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\SensorInfo.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_TargetDirect.st_0-11", "title": "can-struct\\TargetDirect.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE TargetDirect :\n(\n\textend \t:= 1,\t//伸出\n\t\n\tretract := 2,\t//缩回\n\t\n\tstop\t:= 3\t//停止\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\TargetDirect.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_UIMode.st_0-16", "title": "can-struct\\UIMode.st", "text": "TYPE UIMode :\nSTRUCT\n\tmanualButtonSet\t\t\t:BOOL;\t\t//手动复位按钮模式\n\tusePID\t\t\t\t\t:BOOL;\t\t//使用pid\n\tautoEnable\t\t\t\t:BOOL;\t\t//自动使能\n\tmanualPercentSet\t\t:BOOL;\t\t//手动设定比例量\n\tmanualSetPid\t\t\t:BOOL;\t\t//手动调节pid参数，可通过pid测试界面设定目标位移值\n\t\n\tsyncExt\t\t\t\t\t:BOOL;\t\t//同步伸\n\tsyncRct\t\t\t\t\t:BOOL;\t\t//同步缩\n\t\n\thydPowerOn\t\t\t\t:BOOL;\t\t//液压站开启 modbus 使用\n\thydPowerOff\t\t\t\t:BOOL;\t\t//液压站关闭 modbus 使用\n\thydPowerReset\t\t\t:BOOL;\t\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\UIMode.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_UIUnit.st_0-24", "title": "can-struct\\UIUnit.st", "text": "TYPE UIUnit :\nSTRUCT\n\t//cmd\n\tpwrEnable\t\t\t:BOOL;\t\t//比例阀使能   power-enable\n\tpwrPercent\t\t\t:REAL;\t\t//比例阀百分比 power-percent 0-100\n\t\n\t//button\n\tbtnExtend\t\t\t:BOOL;\n\tbtnRetract\t\t\t:BOOL;\n\tbtnStop\t\t\t\t:BOOL;\n\tbtnLast\t\t\t\t:TargetDirect;\t//上次动作方向\n\t\n\t//info display\n\tname\t\t\t\t:STRING;\t//挡板名\n\twname\t\t\t\t:WSTRING;\t//山河命名\n\thzname\t\t\t\t:WSTRING;\t//hua zhong ming ming\n\tpostion\t\t\t\t:REAL;\t\t//位移值\n\tspeed\t\t\t\t:REAL;\n\textendPercent\t\t:REAL;\t\t//伸出百分比 extend-percent\n\t\n\t\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\UIUnit.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 24, "window_size": 50, "slice_size": 5}]}
