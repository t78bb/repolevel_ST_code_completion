{"_id": "modbus/0", "text": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR", "metadata": {"task_id": "modbus/0", "ground_truth": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR\n\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nEND_IF\nIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nEND_IF", "fpath_tuple": ["FUN", "DataReverse_cmdReverse.st"], "context_start_lineno": 0, "lineno": 5, "function_name": "cmdReverse", "line_no": 5}}
{"_id": "modbus/1", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR", "metadata": {"task_id": "modbus/1", "ground_truth": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tgrd7\n\t\tEND_CASE\n\t4://区域限定4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\n\t\t\t2:\tphyIdx := 3;\n\t\t\t3:\tphyIdx := 4;\n\t\t\t4:\tphyIdx := 5;\n\t\t\t5:\tphyIdx := 6;\n\t\t\t6:\tphyIdx := 8;\n\t\t\t7:\tphyIdx := 9;\n\t\t\t8:\tphyIdx := 10;\n\t\t\t9:\tphyIdx := 2;\n\t\t\t10:\tphyIdx := 7;\n\t\tEND_CASE\nEND_CASE", "fpath_tuple": ["FUN", "mdbsLogicToPhy.st"], "context_start_lineno": 0, "lineno": 11, "function_name": "mdbsLogicToPhy", "line_no": 11}}
{"_id": "modbus/2", "text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR", "metadata": {"task_id": "modbus/2", "ground_truth": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//地轨\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n\t\t52020:\tlevel := 2;\tidx := 7;\n\t\t53000:\tlevel := 2;\tidx := 0;\n\t\t53010:\tlevel := 2;\tidx := 0;\n\tEND_CASE\nEND_IF", "fpath_tuple": ["FUN", "mdbsNumToIdx.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "mdbsNumToIdx", "line_no": 9}}
{"_id": "modbus/3", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR", "metadata": {"task_id": "modbus/3", "ground_truth": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t纵2\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t横6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t横7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t横8\t\n\t\tEND_CASE\n\t\n\t4://区域限定(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t起竖\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t横1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t横2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t横3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t横4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t横5\n\t\t\t7:\tlgcIdx := 184;\t\t//sky7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 180;\t\t//sky8r\t->\t横6\n\t\t\t9:\tlgcIdx := 181;\t\t//sky9r\t->\t横7\n\t\t\t10:\tlgcIdx := 182;\t\t//sky10r->\t横8\n\t\tEND_CASE\nEND_CASE", "fpath_tuple": ["FUN", "mdbsPhyToLogic.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "mdbsPhyToLogic", "line_no": 9}}
{"_id": "modbus/4", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR", "metadata": {"task_id": "modbus/4", "ground_truth": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "fpath_tuple": ["FUN", "setButtonByDirect.st"], "context_start_lineno": 0, "lineno": 7, "function_name": "setButtonByDirect", "line_no": 7}}
