{"_id": "can/0", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR", "metadata": {"task_id": "can/0", "ground_truth": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n\t\tframe.data[3] := 0;\n\t\tframe.data[4] := 0;\n\t\tframe.data[5] := 0;\n\t\tframe.data[6] := 0;\n\t\tframe.data[7] := 0;\n\t\tframe.data[8] := 0;\nEND_CASE\nCan_Read_data_SWMC := frame;", "fpath_tuple": ["FUN", "CAN_Read_Data_SWMC.st"], "context_start_lineno": 0, "lineno": 6, "function_name": "CAN_Read_Data_SWMC", "line_no": 6}}
{"_id": "can/1", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR", "metadata": {"task_id": "can/1", "ground_truth": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\nEND_CASE", "fpath_tuple": ["FUN", "CAN_Send_Data_SWMC.st"], "context_start_lineno": 0, "lineno": 7, "function_name": "CAN_Send_Data_SWMC", "line_no": 7}}
{"_id": "core/0", "text": "FUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": {"task_id": "core/0", "ground_truth": "FUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "fpath_tuple": ["FUN", "CommandExecutor.st"], "context_start_lineno": 0, "lineno": 10, "function_name": "CommandExecutor", "line_no": 10}}
{"_id": "core/1", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": {"task_id": "core/1", "ground_truth": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\t\nEND_CASE", "fpath_tuple": ["FUN", "CommandExecutor0.st"], "context_start_lineno": 0, "lineno": 10, "function_name": "CommandExecutor0", "line_no": 10}}
{"_id": "modbus/0", "text": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR", "metadata": {"task_id": "modbus/0", "ground_truth": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR\n\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nEND_IF\nIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nEND_IF", "fpath_tuple": ["FUN", "DataReverse_cmdReverse.st"], "context_start_lineno": 0, "lineno": 5, "function_name": "cmdReverse", "line_no": 5}}
{"_id": "modbus/1", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR", "metadata": {"task_id": "modbus/1", "ground_truth": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tgrd7\n\t\tEND_CASE\n\t4://区域限定4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\n\t\t\t2:\tphyIdx := 3;\n\t\t\t3:\tphyIdx := 4;\n\t\t\t4:\tphyIdx := 5;\n\t\t\t5:\tphyIdx := 6;\n\t\t\t6:\tphyIdx := 8;\n\t\t\t7:\tphyIdx := 9;\n\t\t\t8:\tphyIdx := 10;\n\t\t\t9:\tphyIdx := 2;\n\t\t\t10:\tphyIdx := 7;\n\t\tEND_CASE\nEND_CASE", "fpath_tuple": ["FUN", "mdbsLogicToPhy.st"], "context_start_lineno": 0, "lineno": 11, "function_name": "mdbsLogicToPhy", "line_no": 11}}
{"_id": "modbus/2", "text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR", "metadata": {"task_id": "modbus/2", "ground_truth": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//地轨\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n\t\t52020:\tlevel := 2;\tidx := 7;\n\t\t53000:\tlevel := 2;\tidx := 0;\n\t\t53010:\tlevel := 2;\tidx := 0;\n\tEND_CASE\nEND_IF", "fpath_tuple": ["FUN", "mdbsNumToIdx.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "mdbsNumToIdx", "line_no": 9}}
{"_id": "modbus/3", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR", "metadata": {"task_id": "modbus/3", "ground_truth": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t纵2\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t横6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t横7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t横8\t\n\t\tEND_CASE\n\t\n\t4://区域限定(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t起竖\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t横1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t横2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t横3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t横4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t横5\n\t\t\t7:\tlgcIdx := 184;\t\t//sky7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 180;\t\t//sky8r\t->\t横6\n\t\t\t9:\tlgcIdx := 181;\t\t//sky9r\t->\t横7\n\t\t\t10:\tlgcIdx := 182;\t\t//sky10r->\t横8\n\t\tEND_CASE\nEND_CASE", "fpath_tuple": ["FUN", "mdbsPhyToLogic.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "mdbsPhyToLogic", "line_no": 9}}
{"_id": "modbus/4", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR", "metadata": {"task_id": "modbus/4", "ground_truth": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "fpath_tuple": ["FUN", "setButtonByDirect.st"], "context_start_lineno": 0, "lineno": 7, "function_name": "setButtonByDirect", "line_no": 7}}
{"_id": "healthydata/0", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR", "metadata": {"task_id": "healthydata/0", "ground_truth": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "fpath_tuple": ["FUN", "fileSave_close.st"], "context_start_lineno": 0, "lineno": 6, "function_name": "fileSave", "line_no": 6}}
{"_id": "healthydata/1", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR", "metadata": {"task_id": "healthydata/1", "ground_truth": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "fpath_tuple": ["FUN", "fileSave_createDir.st"], "context_start_lineno": 0, "lineno": 7, "function_name": "fileSave", "line_no": 7}}
{"_id": "healthydata/2", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR", "metadata": {"task_id": "healthydata/2", "ground_truth": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n\n\tfileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_WRITE, pResult:= ADR(F_err));\n\tlineCount := -1;\n\t//fileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_APPEND, pResult:= ADR(F_err));", "fpath_tuple": ["FUN", "fileSave_new.st"], "context_start_lineno": 0, "lineno": 7, "function_name": "fileSave", "line_no": 7}}
{"_id": "healthydata/3", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR", "metadata": {"task_id": "healthydata/3", "ground_truth": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n\t\n\tSysFileWrite(hFile:=fileHandle , pbyBuffer:= ADR(data) , ulSize:= DINT_TO_DWORD(SysStrLen(data)) , pResult:= ADR(F_err));\t\t// 写入数据\n\nEND_IF", "fpath_tuple": ["FUN", "fileSave_write.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "fileSave", "line_no": 9}}
