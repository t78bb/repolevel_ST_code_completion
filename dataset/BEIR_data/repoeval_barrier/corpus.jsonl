{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-25", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-30", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-35", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-40", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n\t\tframe.data[3] := 0;\n\t\tframe.data[4] := 0;\n\t\tframe.data[5] := 0;\n\t\tframe.data[6] := 0;\n\t\tframe.data[7] := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Read_Data_SWMC.st_0-43", "title": "can-FUN\\CAN_Read_Data_SWMC.st", "text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//接收SWMC控制ID\n\tI\t \t :UINT;      //接收缓冲区域\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n\t\tframe.data[3] := 0;\n\t\tframe.data[4] := 0;\n\t\tframe.data[5] := 0;\n\t\tframe.data[6] := 0;\n\t\tframe.data[7] := 0;\n\t\tframe.data[8] := 0;\nEND_CASE\nCan_Read_data_SWMC := frame;", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Read_Data_SWMC.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 43, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-25", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-30", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-35", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-40", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-45", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CAN_Send_Data_SWMC.st_0-46", "title": "can-FUN\\CAN_Send_Data_SWMC.st", "text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "FUN\\CAN_Send_Data_SWMC.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 46, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor.st_0-25", "title": "can-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor.st_0-30", "title": "can-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor.st_0-31", "title": "can-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 31, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-25", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-30", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-35", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-40", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-45", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_0-50", "title": "can-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_CommandExecutor0.st_5-52", "title": "can-FUN\\CommandExecutor0.st", "text": "\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\t\nEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\CommandExecutor0.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 52, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave.st_0-12", "title": "can-FUN\\fileSave.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_close.st_0-17", "title": "can-FUN\\fileSave_close.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_close.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_createDir.st_0-19", "title": "can-FUN\\fileSave_createDir.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_createDir.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 19, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-25", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-30", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-35", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-40", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-45", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_0-50", "title": "can-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_5-55", "title": "can-FUN\\fileSave_new.st", "text": "END_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_10-60", "title": "can-FUN\\fileSave_new.st", "text": "\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_new.st_15-64", "title": "can-FUN\\fileSave_new.st", "text": "\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n\n\tfileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_WRITE, pResult:= ADR(F_err));\n\tlineCount := -1;\n\t//fileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_APPEND, pResult:= ADR(F_err));", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_new.st"], "repo": "can", "line_no": 15, "start_line_no": 15, "end_line_no": 64, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-25", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-30", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-35", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_fileSave_write.st_0-39", "title": "can-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n\t\n\tSysFileWrite(hFile:=fileHandle , pbyBuffer:= ADR(data) , ulSize:= DINT_TO_DWORD(SysStrLen(data)) , pResult:= ADR(F_err));\t\t// 写入数据\n\nEND_IF", "metadata": [{"fpath_tuple": ["can", "FUN\\fileSave_write.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_percentCalc.st_0-25", "title": "can-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\percentCalc.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_percentCalc.st_0-28", "title": "can-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n\t\tp := gDev.sky[idx].sensor.extendVal - gDev.sky[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\percentCalc.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-25", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-30", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-35", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-40", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-45", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_setButtonByDirect.st_0-48", "title": "can-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "metadata": [{"fpath_tuple": ["can", "FUN\\setButtonByDirect.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 48, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-25", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-30", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-35", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-40", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_tcpUpload_send.st_0-44", "title": "can-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n\t    tcpConnector.Disconnect();\n\t\ttcpState := 0;\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "FUN\\tcpUpload_send.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 44, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-25", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-30", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-35", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-40", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-45", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_0-50", "title": "can-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\n", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_FUN_updateDevStatus.st_5-53", "title": "can-FUN\\updateDevStatus.st", "text": "END_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\nEND_CASE\n\nupdateDevStatus := stat;", "metadata": [{"fpath_tuple": ["can", "FUN\\updateDevStatus.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 53, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gCan.st_0-25", "title": "can-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n", "metadata": [{"fpath_tuple": ["can", "global\\gCan.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gCan.st_0-28", "title": "can-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n//*)\n\nEND_VAR", "metadata": [{"fpath_tuple": ["can", "global\\gCan.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gController.st_0-6", "title": "can-global\\gController.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t//发送至SWMC的比例阀的控制指令\n\tsky\t\t:ARRAY[0..10] OF CmdPercentSet;\n\tgrd\t\t:ARRAY[1..10] OF CmdPercentSet;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "global\\gController.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gDev.st_0-5", "title": "can-global\\gDev.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tsky\t\t:ARRAY[0..10] OF DeviceUnit;\n\tgrd\t\t:ARRAY[1..10] OF DeviceUnit;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "global\\gDev.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 5, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gModbus.st_0-8", "title": "can-global\\gModbus.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL CONSTANT\n\tg_modbusDataSizeMax\t:  UINT:=65535; // 从机保持寄存器数量\nEND_VAR\nVAR_GLOBAL\n\tsrv\t\t\t\t:mdbsStruct;\t\t//modbus-service\n\tmodbusBuffer\t:ARRAY[0..g_modbusDataSizeMax] OF WORD;\t//输入寄存器数据区\t\nEND_VAR\n", "metadata": [{"fpath_tuple": ["can", "global\\gModbus.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "can_global_gUI.st_0-13", "title": "can-global\\gUI.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t\n\tmode\t:UIMode;\t\t\t\t\t//模式设定\n\n\tsky\t\t:ARRAY[0..10] OF UIUnit;\t//挡板2组\n\tgrd\t\t:ARRAY[1..10] OF UIUnit;\t//挡板1组\n\t\n\tpid\t\t:UiPid;\t\t\t\t\t\t//pid测试界面参数\n\t\n\t\n\t\nEND_VAR", "metadata": [{"fpath_tuple": ["can", "global\\gUI.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx.st_0-17", "title": "can-PRG\\CanRx.st", "text": "PROGRAM CanRx\nVAR\n\tcount\t\t:UINT;\nEND_VAR\n\ncount := count + 1;\nIF count > 1000 THEN\n\tcount := 1;\nEND_IF\n\nC01_Rx();\nC02_Rx();\nC03_Rx();\nC04_Rx();\nC05_Rx();\nC06_Rx();\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n\t\t\t16#601:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n\t\t\t16#601:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Rx_method.st_0-39", "title": "can-PRG\\CanRx_C01_Rx_method.st", "text": "METHOD C01_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C1RxMsg.RxCounter <>  gCan.C1RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C1RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(1,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#600:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.position := pos * 0.1;\n\t\t\t16#601:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\n\tEND_FOR\n\tgCan.C1RxCounter := gCan.C1RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-35", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C01_Tx_method.st_0-37", "title": "can-PRG\\CanRx_C01_Tx_method.st", "text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C01_Tx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 37, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C02_Rx_method.st", "text": "METHOD C02_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C2RxMsg.RxCounter <>  gCan.C2RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C2RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(2,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#610:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#611:\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C02_Rx_method.st", "text": "METHOD C02_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C2RxMsg.RxCounter <>  gCan.C2RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C2RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(2,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#610:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#611:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C02_Rx_method.st", "text": "METHOD C02_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\nEND_VAR\n\nIF gCan.C2RxMsg.RxCounter <>  gCan.C2RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C2RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(2,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#610:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#611:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[0].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[2].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C2RxCounter := gCan.C2RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C02_Tx_method.st", "text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C02_Tx_method.st", "text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[2].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#511,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C02_Tx_method.st_0-33", "title": "can-PRG\\CanRx_C02_Tx_method.st", "text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[2].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#511,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C02_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 33, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-40", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-45", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_0-50", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "METHOD C03_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[5].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_5-55", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\tcur\t\t\t\t:WORD;\t//current\nEND_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[5].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[6].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[6].current[2] := cur;\n\t\t\t\t\n\t\t\t\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Rx_method.st_10-60", "title": "can-PRG\\CanRx_C03_Rx_method.st", "text": "END_VAR\n\nIF gCan.C3RxMsg.RxCounter <>  gCan.C3RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C3RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(3,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#620:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.position := pos * 0.1;\n\t\t\t16#621:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[6].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[3].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\t\t16#622:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[3].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[3].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[4].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[4].current[2] := cur;\n\t\t\t16#623:\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[5].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[5].current[2] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[6].current[1] := cur;\n\t\t\t\tcur := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[6].current[2] := cur;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C3RxCounter := gCan.C3RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[6].retractPercent);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-35", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#521,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C03_Tx_method.st_0-37", "title": "can-PRG\\CanRx_C03_Tx_method.st", "text": "METHOD C03_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#520,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(3, 16#521,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C03_Tx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 37, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C04_Rx_method.st", "text": "METHOD C04_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\t\nEND_VAR\n\nIF gCan.C4RxMsg.RxCounter <>  gCan.C4RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C4RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(4,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#630:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#631:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C04_Rx_method.st", "text": "METHOD C04_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\t\nEND_VAR\n\nIF gCan.C4RxMsg.RxCounter <>  gCan.C4RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C4RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(4,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#630:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#631:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\tEND_FOR\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Rx_method.st_0-32", "title": "can-PRG\\CanRx_C04_Rx_method.st", "text": "METHOD C04_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\n\tspd\t\t\t\t:WORD;\n\t\nEND_VAR\n\nIF gCan.C4RxMsg.RxCounter <>  gCan.C4RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C4RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(4,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#630:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.position := pos * 0.1;\n\t\n\t\t\t16#631:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[1].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[2].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C4RxCounter := gCan.C4RxMsg.RxCounter;\nEND_IF\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 32, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C04_Tx_method.st", "text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\t\t\n\n\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C04_Tx_method.st_0-26", "title": "can-PRG\\CanRx_C04_Tx_method.st", "text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //发送ID 0x460到C6\n\t\t\n\t\t\n\t\t\n\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C04_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 26, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n\t\t\t16#641:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n\t\t\t16#641:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Rx_method.st_0-39", "title": "can-PRG\\CanRx_C05_Rx_method.st", "text": "METHOD C05_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C5RxMsg.RxCounter <>  gCan.C5RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C5RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(5,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#640:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.position := pos * 0.1;\n\t\t\t16#641:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.sky[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.sky[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.sky[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.sky[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n\n\tEND_FOR\n\tgCan.C5RxCounter := gCan.C5RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C05_Tx_method.st", "text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //发送ID 0x460到C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C05_Tx_method.st", "text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //发送ID 0x460到C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#541,senddata);   //发送ID 0x460到C6\t\t\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C05_Tx_method.st_0-32", "title": "can-PRG\\CanRx_C05_Tx_method.st", "text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //发送ID 0x460到C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#541,senddata);   //发送ID 0x460到C6\t\t\n\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C05_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 32, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-25", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-30", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n\t\t\t16#651:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-35", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n\t\t\t16#651:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Rx_method.st_0-38", "title": "can-PRG\\CanRx_C06_Rx_method.st", "text": "METHOD C06_Rx\nVAR_INPUT\nEND_VAR\nVAR\n\tframe\t \t    :Can_baseframe;\n\tI\t\t\t\t:UINT;\n\tfId\t\t\t\t:UINT;\n\tpos\t\t\t\t:WORD;\t//位置\n\tspd\t\t\t\t:WORD;\t//速度\nEND_VAR\n\nIF gCan.C6RxMsg.RxCounter <>  gCan.C6RxCounter THEN    //接收到新的数据\n\tFOR I := 1 TO gCan.C6RxMsg.NoOfRxMessages DO\n\t\tframe := CAN_Read_Data_SWMC(6,I);\n\t\tfId := frame.id;\n\t\tCASE fId OF\n\t\t\t16#650:\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.position := pos * 0.1;\n\t\t\t\tpos := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.position := pos * 0.1;\n\t\t\t16#651:\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 1 ]) OR SHL(BYTE_TO_WORD(frame.data[ 2 ]),8);\n\t\t\t\tgDev.grd[7].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 3 ]) OR SHL(BYTE_TO_WORD(frame.data[ 4 ]),8);\n\t\t\t\tgDev.grd[8].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 5 ]) OR SHL(BYTE_TO_WORD(frame.data[ 6 ]),8);\n\t\t\t\tgDev.grd[9].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\n\t\t\t\tspd := BYTE_TO_WORD(frame.data[ 7 ]) OR SHL(BYTE_TO_WORD(frame.data[ 8 ]),8);\n\t\t\t\tgDev.grd[10].sensor.speed := INT_TO_REAL(WORD_TO_INT(spd));\t\n\t\tEND_CASE\n\tEND_FOR\n\tgCan.C6RxCounter := gCan.C6RxMsg.RxCounter;\nEND_IF", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Rx_method.st"], "repo": "can", "line_no": 15, "start_line_no": 0, "end_line_no": 38, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Tx_method.st_0-25", "title": "can-PRG\\CanRx_C06_Tx_method.st", "text": "METHOD C06_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#550,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[9].extendPercent,8));\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Tx_method.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Tx_method.st_0-30", "title": "can-PRG\\CanRx_C06_Tx_method.st", "text": "METHOD C06_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#550,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[10].retractPercent);\n", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Tx_method.st"], "repo": "can", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanRx_C06_Tx_method.st_0-34", "title": "can-PRG\\CanRx_C06_Tx_method.st", "text": "METHOD C06_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#550,senddata);   //发送ID 0x460到C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#551,senddata);   //发送ID 0x460到C6\n\t\t\nEND_CASE", "metadata": [{"fpath_tuple": ["can", "PRG\\CanRx_C06_Tx_method.st"], "repo": "can", "line_no": 10, "start_line_no": 0, "end_line_no": 34, "window_size": 50, "slice_size": 5}]}
{"_id": "can_PRG_CanTx.st_0-16", "title": "can-PRG\\CanTx.st", "text": "PROGRAM CanTx\nVAR\n\tcount\t\t:UINT;\nEND_VAR\n\ncount := count + 1;\nIF count > 1000 THEN\n\tcount := 1;\nEND_IF\n\nC01_Tx();\nC02_Tx();\nC03_Tx();\nC04_Tx();\nC05_Tx();\nC06_Tx();", "metadata": [{"fpath_tuple": ["can", "PRG\\CanTx.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_baseframe.st_0-6", "title": "can-struct\\Can_baseframe.st", "text": "TYPE Can_baseframe :\nSTRUCT\n\tid\t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_baseframe.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_BUS_8Inputs.st_0-13", "title": "can-struct\\Can_BUS_8Inputs.st", "text": "TYPE Can_BUS_8Inputs :          //输入缓存结构 EL2721-8Message_IN\nSTRUCT\n\tTxCounter\t\t\t: UINT;\n\tRxCounter\t\t\t: UINT;\n\tNoOfRxMessages \t \t: UINT;\n\tTransactionNumber\t: UINT;\n\tRXMsg\t\t\t\t: ARRAY[1..8] OF Can_Bus_RXMsg_Buff;\n\tCAN_State\t\t\t: UINT;\n\tAlign\t\t\t\t: UINT;\n\tRX_Error_Cnt\t\t: BYTE;\n\tTX_Error_Cnt\t\t: BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_BUS_8Inputs.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_BUS_8Outputs.st_0-9", "title": "can-struct\\Can_BUS_8Outputs.st", "text": "TYPE Can_BUS_8Outputs :\t\t//输出缓存结构 EL2721-8Message_OUT\nSTRUCT\n\tTxCounter\t\t: UINT;\n\tRxCounter\t\t: UINT;\n\tNoOfTxMessages \t: UINT;\n\tTXMsg\t\t\t: ARRAY[1..8] OF Can_Bus_TXMsg_Buff;\n\tCAN_Control\t\t: UINT;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_BUS_8Outputs.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 9, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_Bus_RXMsg_Buff.st_0-6", "title": "can-struct\\Can_Bus_RXMsg_Buff.st", "text": "TYPE Can_Bus_RXMsg_Buff:\nSTRUCT\n\tRxMsg_CobId\t\t: UINT;\n\tRxMsg_Byte  \t: ARRAY[1..8] OF BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_Bus_RXMsg_Buff.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_Can_Bus_TXMsg_Buff.st_0-7", "title": "can-struct\\Can_Bus_TXMsg_Buff.st", "text": "TYPE Can_Bus_TXMsg_Buff :\nSTRUCT\n\tTxMsg_TransactionNumber\t\t: UINT;\n\tTxMsg_CobId\t\t\t\t\t: UINT;\n\tTxMsg_Byte  \t\t\t\t: ARRAY[1..8] OF BYTE;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\Can_Bus_TXMsg_Buff.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 7, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_CmdPercentSet.st_0-6", "title": "can-struct\\CmdPercentSet.st", "text": "TYPE CmdPercentSet :\nSTRUCT\n\textendPercent\t\t:WORD;\t\t//0-65535\n\tretractPercent\t\t:WORD;\t\t//0-65535\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\CmdPercentSet.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_DeviceUnit.st_0-17", "title": "can-struct\\DeviceUnit.st", "text": "TYPE DeviceUnit :\nSTRUCT\n\t\t\n\tsensor\t\t\t:SensorInfo;\t\t//传感器参数\n\tctrl\t\t\t:DevPid;\t\t\t//pid等计算控制执行参数\t\n\t\n\tvector\t\t\t:TargetDirect;\t\t//指令运行方向 1-伸出 2-缩回 3-停止\n\tstate\t\t\t:DevStatus;\t\t\t//设备状态 0-未知 1-运行 2-伸出到位 3-缩回到位 4-错误\n\t\n\ttimeCounter\t\t:INT;\t\t\t\t//timeoutCounter超时计数器\n\texeCounter\t\t:INT;\t\t\t\t//ExecuteCounter额外执行时间计数\n\n\tcurrent\t\t\t:ARRAY[1..2] OF WORD;\t//电流mA\t[i,j] -> 地轨挡板i的电流，j=1伸出电流，j=2缩回电流\n\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\DeviceUnit.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_DevStatus.st_0-15", "title": "can-struct\\DevStatus.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE DevStatus :\n(\n\tunknown \t:= 0,\n\t\n\truning\t\t:= 1,\n\t\n\textended\t:= 2,\n\t\n\tretracted\t:= 3,\n\t\n\terror\t\t:= 4\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\DevStatus.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 15, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_SensorInfo.st_0-12", "title": "can-struct\\SensorInfo.st", "text": "TYPE SensorInfo :\nSTRUCT\n\t\n\tposition\t:REAL;\t//实时位移\n\tspeed\t\t:REAL;\t//实时速度\n\t\n\t//记录最大最小位移值\n\tretractVal\t:REAL;\t//缩回到位值\n\textendVal\t:REAL;\t//伸出到位值\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\SensorInfo.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_TargetDirect.st_0-11", "title": "can-struct\\TargetDirect.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE TargetDirect :\n(\n\textend \t:= 1,\t//伸出\n\t\n\tretract := 2,\t//缩回\n\t\n\tstop\t:= 3\t//停止\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\TargetDirect.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_UIMode.st_0-16", "title": "can-struct\\UIMode.st", "text": "TYPE UIMode :\nSTRUCT\n\tmanualButtonSet\t\t\t:BOOL;\t\t//手动复位按钮模式\n\tusePID\t\t\t\t\t:BOOL;\t\t//使用pid\n\tautoEnable\t\t\t\t:BOOL;\t\t//自动使能\n\tmanualPercentSet\t\t:BOOL;\t\t//手动设定比例量\n\tmanualSetPid\t\t\t:BOOL;\t\t//手动调节pid参数，可通过pid测试界面设定目标位移值\n\t\n\tsyncExt\t\t\t\t\t:BOOL;\t\t//同步伸\n\tsyncRct\t\t\t\t\t:BOOL;\t\t//同步缩\n\t\n\thydPowerOn\t\t\t\t:BOOL;\t\t//液压站开启 modbus 使用\n\thydPowerOff\t\t\t\t:BOOL;\t\t//液压站关闭 modbus 使用\n\thydPowerReset\t\t\t:BOOL;\t\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\UIMode.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "can_struct_UIUnit.st_0-24", "title": "can-struct\\UIUnit.st", "text": "TYPE UIUnit :\nSTRUCT\n\t//cmd\n\tpwrEnable\t\t\t:BOOL;\t\t//比例阀使能   power-enable\n\tpwrPercent\t\t\t:REAL;\t\t//比例阀百分比 power-percent 0-100\n\t\n\t//button\n\tbtnExtend\t\t\t:BOOL;\n\tbtnRetract\t\t\t:BOOL;\n\tbtnStop\t\t\t\t:BOOL;\n\tbtnLast\t\t\t\t:TargetDirect;\t//上次动作方向\n\t\n\t//info display\n\tname\t\t\t\t:STRING;\t//挡板名\n\twname\t\t\t\t:WSTRING;\t//山河命名\n\thzname\t\t\t\t:WSTRING;\t//hua zhong ming ming\n\tpostion\t\t\t\t:REAL;\t\t//位移值\n\tspeed\t\t\t\t:REAL;\n\textendPercent\t\t:REAL;\t\t//伸出百分比 extend-percent\n\t\n\t\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["can", "struct\\UIUnit.st"], "repo": "can", "line_no": 0, "start_line_no": 0, "end_line_no": 24, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_0-25", "title": "core-FUN\\BasePIDCtrl.st", "text": "FUNCTION_BLOCK BasePIDCtrl\nVAR_INPUT\n\tAct_Val \t:REAL;\t\t\t//实际值\n\tSet_Val\t\t:REAL;\t\t\t//设定值\n\tKp\t\t\t:REAL;\t\t\t\n\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tY_MAX\t\t:REAL;\n\tY_MIN\t\t:REAL;\n\trCycle\t\t:REAL;\t\t\t//单位/s\n\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_0-30", "title": "core-FUN\\BasePIDCtrl.st", "text": "FUNCTION_BLOCK BasePIDCtrl\nVAR_INPUT\n\tAct_Val \t:REAL;\t\t\t//实际值\n\tSet_Val\t\t:REAL;\t\t\t//设定值\n\tKp\t\t\t:REAL;\t\t\t\n\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tY_MAX\t\t:REAL;\n\tY_MIN\t\t:REAL;\n\trCycle\t\t:REAL;\t\t\t//单位/s\n\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_0-35", "title": "core-FUN\\BasePIDCtrl.st", "text": "FUNCTION_BLOCK BasePIDCtrl\nVAR_INPUT\n\tAct_Val \t:REAL;\t\t\t//实际值\n\tSet_Val\t\t:REAL;\t\t\t//设定值\n\tKp\t\t\t:REAL;\t\t\t\n\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tY_MAX\t\t:REAL;\n\tY_MIN\t\t:REAL;\n\trCycle\t\t:REAL;\t\t\t//单位/s\n\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_0-40", "title": "core-FUN\\BasePIDCtrl.st", "text": "FUNCTION_BLOCK BasePIDCtrl\nVAR_INPUT\n\tAct_Val \t:REAL;\t\t\t//实际值\n\tSet_Val\t\t:REAL;\t\t\t//设定值\n\tKp\t\t\t:REAL;\t\t\t\n\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tY_MAX\t\t:REAL;\n\tY_MIN\t\t:REAL;\n\trCycle\t\t:REAL;\t\t\t//单位/s\n\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\nCycleTime := REAL_TO_TIME (TIME_TO_REAL(T#1S) * fCycle);\nton (IN := NOT ton.Q ,PT := CycleTime ,Q =>);\ntrig (CLK := ton.Q  ,Q =>);\n\nIF trig.Q THEN \t\t\t//PID计算\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_0-45", "title": "core-FUN\\BasePIDCtrl.st", "text": "FUNCTION_BLOCK BasePIDCtrl\nVAR_INPUT\n\tAct_Val \t:REAL;\t\t\t//实际值\n\tSet_Val\t\t:REAL;\t\t\t//设定值\n\tKp\t\t\t:REAL;\t\t\t\n\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tY_MAX\t\t:REAL;\n\tY_MIN\t\t:REAL;\n\trCycle\t\t:REAL;\t\t\t//单位/s\n\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\nCycleTime := REAL_TO_TIME (TIME_TO_REAL(T#1S) * fCycle);\nton (IN := NOT ton.Q ,PT := CycleTime ,Q =>);\ntrig (CLK := ton.Q  ,Q =>);\n\nIF trig.Q THEN \t\t\t//PID计算\n\tErr := Set_Val - Act_Val;  //误差计算\n\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tKdErr := Err -LastErr;    //微分计算\n\tLastErr := Err;\n\t(*IF ABS(Err) < 10 THEN\t\t//误差较低时才开启积分\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_0-50", "title": "core-FUN\\BasePIDCtrl.st", "text": "FUNCTION_BLOCK BasePIDCtrl\nVAR_INPUT\n\tAct_Val \t:REAL;\t\t\t//实际值\n\tSet_Val\t\t:REAL;\t\t\t//设定值\n\tKp\t\t\t:REAL;\t\t\t\n\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tY_MAX\t\t:REAL;\n\tY_MIN\t\t:REAL;\n\trCycle\t\t:REAL;\t\t\t//单位/s\n\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\nCycleTime := REAL_TO_TIME (TIME_TO_REAL(T#1S) * fCycle);\nton (IN := NOT ton.Q ,PT := CycleTime ,Q =>);\ntrig (CLK := ton.Q  ,Q =>);\n\nIF trig.Q THEN \t\t\t//PID计算\n\tErr := Set_Val - Act_Val;  //误差计算\n\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tKdErr := Err -LastErr;    //微分计算\n\tLastErr := Err;\n\t(*IF ABS(Err) < 10 THEN\t\t//误差较低时才开启积分\n\t\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tEND_IF*)\n\tResult :=  Kp * Err + Ki * KiErrSum + Kd * KdErr;  \nEND_IF\n\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_5-55", "title": "core-FUN\\BasePIDCtrl.st", "text": "\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tY_MAX\t\t:REAL;\n\tY_MIN\t\t:REAL;\n\trCycle\t\t:REAL;\t\t\t//单位/s\n\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\nCycleTime := REAL_TO_TIME (TIME_TO_REAL(T#1S) * fCycle);\nton (IN := NOT ton.Q ,PT := CycleTime ,Q =>);\ntrig (CLK := ton.Q  ,Q =>);\n\nIF trig.Q THEN \t\t\t//PID计算\n\tErr := Set_Val - Act_Val;  //误差计算\n\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tKdErr := Err -LastErr;    //微分计算\n\tLastErr := Err;\n\t(*IF ABS(Err) < 10 THEN\t\t//误差较低时才开启积分\n\t\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tEND_IF*)\n\tResult :=  Kp * Err + Ki * KiErrSum + Kd * KdErr;  \nEND_IF\n\nIF Result > Y_MAX  THEN         //限幅度输出\n\tResult_OUT := Y_MAX ;\n\tLimitActive := TRUE ;\nELSIF Result < Y_MIN THEN\n\tResult_OUT := Y_MIN  ;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_10-60", "title": "core-FUN\\BasePIDCtrl.st", "text": "\tReset\t\t:BOOL;\nEND_VAR\nVAR_OUTPUT\n\tY\t\t\t:REAL;\n\tLimitActive\t:BOOL;\nEND_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\nCycleTime := REAL_TO_TIME (TIME_TO_REAL(T#1S) * fCycle);\nton (IN := NOT ton.Q ,PT := CycleTime ,Q =>);\ntrig (CLK := ton.Q  ,Q =>);\n\nIF trig.Q THEN \t\t\t//PID计算\n\tErr := Set_Val - Act_Val;  //误差计算\n\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tKdErr := Err -LastErr;    //微分计算\n\tLastErr := Err;\n\t(*IF ABS(Err) < 10 THEN\t\t//误差较低时才开启积分\n\t\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tEND_IF*)\n\tResult :=  Kp * Err + Ki * KiErrSum + Kd * KdErr;  \nEND_IF\n\nIF Result > Y_MAX  THEN         //限幅度输出\n\tResult_OUT := Y_MAX ;\n\tLimitActive := TRUE ;\nELSIF Result < Y_MIN THEN\n\tResult_OUT := Y_MIN  ;\n\tLimitActive := TRUE ;\nELSE \n\tResult_OUT := Result ;\n\tLimitActive :=FALSE ;\nEND_IF\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_15-65", "title": "core-FUN\\BasePIDCtrl.st", "text": "END_VAR\nVAR\n\tfCycle\t\t\t:REAL;    \n\tCycleTime\t\t:TIME ;\n\tErr\t\t\t\t:REAL;    \t\t//本次误差\n\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\nCycleTime := REAL_TO_TIME (TIME_TO_REAL(T#1S) * fCycle);\nton (IN := NOT ton.Q ,PT := CycleTime ,Q =>);\ntrig (CLK := ton.Q  ,Q =>);\n\nIF trig.Q THEN \t\t\t//PID计算\n\tErr := Set_Val - Act_Val;  //误差计算\n\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tKdErr := Err -LastErr;    //微分计算\n\tLastErr := Err;\n\t(*IF ABS(Err) < 10 THEN\t\t//误差较低时才开启积分\n\t\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tEND_IF*)\n\tResult :=  Kp * Err + Ki * KiErrSum + Kd * KdErr;  \nEND_IF\n\nIF Result > Y_MAX  THEN         //限幅度输出\n\tResult_OUT := Y_MAX ;\n\tLimitActive := TRUE ;\nELSIF Result < Y_MIN THEN\n\tResult_OUT := Y_MIN  ;\n\tLimitActive := TRUE ;\nELSE \n\tResult_OUT := Result ;\n\tLimitActive :=FALSE ;\nEND_IF\nIF Reset THEN   //pid 不输出\n\tKiErrSum := 0;\n\tKdErr := 0;\n\tLastErr\t:= 0;\n\tY := 0;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_BasePIDCtrl.st_20-68", "title": "core-FUN\\BasePIDCtrl.st", "text": "\tLastErr\t\t\t:REAL;    \t\t//上次误差\n\tKiErrSum\t\t:REAL;\t\t\t//积分累计误差\n\tKdErr\t\t\t:REAL;\t\t\t//微分误差\n\tResult\t\t\t:REAL;\t\t\t//计算结果\n\tResult_OUT\t\t:REAL;\t\t    //限制结果\n\ttrig\t\t\t:R_TRIG ;\n\tton\t\t\t\t:TON ;\nEND_VAR\n\nIF  rCycle < 0.01 THEN  //10ms最小\n\tfCycle := 0.01;\nELSE\n\tfCycle := rCycle;\nEND_IF\n\nCycleTime := REAL_TO_TIME (TIME_TO_REAL(T#1S) * fCycle);\nton (IN := NOT ton.Q ,PT := CycleTime ,Q =>);\ntrig (CLK := ton.Q  ,Q =>);\n\nIF trig.Q THEN \t\t\t//PID计算\n\tErr := Set_Val - Act_Val;  //误差计算\n\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tKdErr := Err -LastErr;    //微分计算\n\tLastErr := Err;\n\t(*IF ABS(Err) < 10 THEN\t\t//误差较低时才开启积分\n\t\tKiErrSum := KiErrSum + Err ;   //积分计算\n\tEND_IF*)\n\tResult :=  Kp * Err + Ki * KiErrSum + Kd * KdErr;  \nEND_IF\n\nIF Result > Y_MAX  THEN         //限幅度输出\n\tResult_OUT := Y_MAX ;\n\tLimitActive := TRUE ;\nELSIF Result < Y_MIN THEN\n\tResult_OUT := Y_MIN  ;\n\tLimitActive := TRUE ;\nELSE \n\tResult_OUT := Result ;\n\tLimitActive :=FALSE ;\nEND_IF\nIF Reset THEN   //pid 不输出\n\tKiErrSum := 0;\n\tKdErr := 0;\n\tLastErr\t:= 0;\n\tY := 0;\nELSE\n\tY := Result_OUT;\t\nEND_IF", "metadata": [{"fpath_tuple": ["core", "FUN\\BasePIDCtrl.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 68, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor.st_0-25", "title": "core-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor.st_0-30", "title": "core-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor.st_0-31", "title": "core-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 31, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor0.st_0-25", "title": "core-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor0.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor0.st_0-30", "title": "core-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor0.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor0.st_0-35", "title": "core-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor0.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor0.st_0-40", "title": "core-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor0.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor0.st_0-45", "title": "core-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor0.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor0.st_0-50", "title": "core-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor0.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_CommandExecutor0.st_5-52", "title": "core-FUN\\CommandExecutor0.st", "text": "\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\t\nEND_CASE\n", "metadata": [{"fpath_tuple": ["core", "FUN\\CommandExecutor0.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 52, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave.st_0-12", "title": "core-FUN\\fileSave.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_close.st_0-17", "title": "core-FUN\\fileSave_close.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_close.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_createDir.st_0-19", "title": "core-FUN\\fileSave_createDir.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_createDir.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 19, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_0-25", "title": "core-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_0-30", "title": "core-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_0-35", "title": "core-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_0-40", "title": "core-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_0-45", "title": "core-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_0-50", "title": "core-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_5-55", "title": "core-FUN\\fileSave_new.st", "text": "END_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_10-60", "title": "core-FUN\\fileSave_new.st", "text": "\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_new.st_15-64", "title": "core-FUN\\fileSave_new.st", "text": "\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n\n\tfileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_WRITE, pResult:= ADR(F_err));\n\tlineCount := -1;\n\t//fileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_APPEND, pResult:= ADR(F_err));", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_new.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 64, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_write.st_0-25", "title": "core-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_write.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_write.st_0-30", "title": "core-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_write.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_write.st_0-35", "title": "core-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_write.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_fileSave_write.st_0-39", "title": "core-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n\t\n\tSysFileWrite(hFile:=fileHandle , pbyBuffer:= ADR(data) , ulSize:= DINT_TO_DWORD(SysStrLen(data)) , pResult:= ADR(F_err));\t\t// 写入数据\n\nEND_IF", "metadata": [{"fpath_tuple": ["core", "FUN\\fileSave_write.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_0-25", "title": "core-FUN\\grdPosCtrl.st", "text": "FUNCTION_BLOCK grdPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_0-30", "title": "core-FUN\\grdPosCtrl.st", "text": "FUNCTION_BLOCK grdPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_0-35", "title": "core-FUN\\grdPosCtrl.st", "text": "FUNCTION_BLOCK grdPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_0-40", "title": "core-FUN\\grdPosCtrl.st", "text": "FUNCTION_BLOCK grdPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_0-45", "title": "core-FUN\\grdPosCtrl.st", "text": "FUNCTION_BLOCK grdPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_0-50", "title": "core-FUN\\grdPosCtrl.st", "text": "FUNCTION_BLOCK grdPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nELSE \n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_5-55", "title": "core-FUN\\grdPosCtrl.st", "text": "END_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nELSE \n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.grd[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_10-60", "title": "core-FUN\\grdPosCtrl.st", "text": "END_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nELSE \n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.grd[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_15-65", "title": "core-FUN\\grdPosCtrl.st", "text": "\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nELSE \n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.grd[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n\tLimitActive=> );\n\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_20-70", "title": "core-FUN\\grdPosCtrl.st", "text": "controller := gDev.grd[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.grd[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nELSE \n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.grd[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n\tLimitActive=> );\n\nout := spdPid.Y + overBase;\t\t\nIF out > controller.spd.Max_Val THEN\n\tout := controller.spd.Max_Val;\nEND_IF\nIF out < -controller.spd.Max_Val THEN\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_25-75", "title": "core-FUN\\grdPosCtrl.st", "text": "\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.1,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nELSE \n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.grd[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n\tLimitActive=> );\n\nout := spdPid.Y + overBase;\t\t\nIF out > controller.spd.Max_Val THEN\n\tout := controller.spd.Max_Val;\nEND_IF\nIF out < -controller.spd.Max_Val THEN\n\tout := -controller.spd.Max_Val;\nEND_IF\nIF isReset\tTHEN out := 0;\tEND_IF\ncontroller.spd.OUT := out;\ngDev.grd[idx].ctrl := controller;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_grdPosCtrl.st_30-76", "title": "core-FUN\\grdPosCtrl.st", "text": "\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nELSE \n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.grd[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n\tLimitActive=> );\n\nout := spdPid.Y + overBase;\t\t\nIF out > controller.spd.Max_Val THEN\n\tout := controller.spd.Max_Val;\nEND_IF\nIF out < -controller.spd.Max_Val THEN\n\tout := -controller.spd.Max_Val;\nEND_IF\nIF isReset\tTHEN out := 0;\tEND_IF\ncontroller.spd.OUT := out;\ngDev.grd[idx].ctrl := controller;\nres := out;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\grdPosCtrl.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 76, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_percentCalc.st_0-25", "title": "core-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\percentCalc.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_percentCalc.st_0-28", "title": "core-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n\t\tp := gDev.sky[idx].sensor.extendVal - gDev.sky[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["core", "FUN\\percentCalc.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_setButtonByDirect.st_0-25", "title": "core-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\setButtonByDirect.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_setButtonByDirect.st_0-30", "title": "core-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n", "metadata": [{"fpath_tuple": ["core", "FUN\\setButtonByDirect.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_setButtonByDirect.st_0-35", "title": "core-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\setButtonByDirect.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_setButtonByDirect.st_0-40", "title": "core-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\setButtonByDirect.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_setButtonByDirect.st_0-45", "title": "core-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\setButtonByDirect.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_setButtonByDirect.st_0-48", "title": "core-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "metadata": [{"fpath_tuple": ["core", "FUN\\setButtonByDirect.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 48, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_0-25", "title": "core-FUN\\skyPosCtrl.st", "text": "FUNCTION_BLOCK skyPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_0-30", "title": "core-FUN\\skyPosCtrl.st", "text": "FUNCTION_BLOCK skyPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_0-35", "title": "core-FUN\\skyPosCtrl.st", "text": "FUNCTION_BLOCK skyPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_0-40", "title": "core-FUN\\skyPosCtrl.st", "text": "FUNCTION_BLOCK skyPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_0-45", "title": "core-FUN\\skyPosCtrl.st", "text": "FUNCTION_BLOCK skyPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_0-50", "title": "core-FUN\\skyPosCtrl.st", "text": "FUNCTION_BLOCK skyPosCtrl\nVAR_INPUT\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tisReset\t\t:BOOL;\n\tcycTimer\t:REAL;\nEND_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nEND_IF\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_5-55", "title": "core-FUN\\skyPosCtrl.st", "text": "END_VAR\n\t\n\nVAR_OUTPUT\n\tres\t\t:REAL;\t\t\nEND_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nEND_IF\nIF setSpeed < 0 THEN\t\n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_10-60", "title": "core-FUN\\skyPosCtrl.st", "text": "END_VAR\nVAR\n\tposPid\t\t:BasePIDCtrl;\n\tspdPid\t\t:BasePIDCtrl;\n\tsetSpeed\t:REAL;\n\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nEND_IF\nIF setSpeed < 0 THEN\t\n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.sky[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_15-65", "title": "core-FUN\\skyPosCtrl.st", "text": "\toverBase\t:REAL;\n\tout\t\t\t:REAL;\n\t//fb_Val\t\t:REAL;\n\tcontroller\t:DevPid;\nEND_VAR\n\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nEND_IF\nIF setSpeed < 0 THEN\t\n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.sky[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_20-70", "title": "core-FUN\\skyPosCtrl.st", "text": "\ncontroller := gDev.sky[idx].ctrl;\nposPid(\n\tAct_Val:= gDev.sky[idx].sensor.position, \n\tSet_Val:= controller.pos.Set_Point,\n\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nEND_IF\nIF setSpeed < 0 THEN\t\n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.sky[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n\tLimitActive=> );\n\nout := spdPid.Y + overBase;\t\n\n\t\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_25-75", "title": "core-FUN\\skyPosCtrl.st", "text": "\tKp:= controller.pos.Kp, \n\tKi:= controller.pos.Ki, \n\tKd:= controller.pos.Kd, \n\tY_MAX:= controller.pos.Max_Val,     //最大速度\n\tY_MIN:= -controller.pos.Max_Val,    //水平运动正反一致\n\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nEND_IF\nIF setSpeed < 0 THEN\t\n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.sky[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n\tLimitActive=> );\n\nout := spdPid.Y + overBase;\t\n\n\t\nIF out > controller.spd.Max_Val THEN\n\tout := controller.spd.Max_Val;\nEND_IF\nIF out < -controller.spd.Max_Val THEN\n\tout := -controller.spd.Max_Val;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_skyPosCtrl.st_30-80", "title": "core-FUN\\skyPosCtrl.st", "text": "\trCycle:= 0.05,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY => controller.pos.OUT, \n\tLimitActive=> );\n\nIF ABS(posPid.Y - setSpeed) > (cycTimer * controller.pos.Max_ACC) THEN\n\tIF posPid.Y > setSpeed THEN\n\t\tsetSpeed := setSpeed + (cycTimer * controller.pos.Max_ACC);\n\tELSE\n\t\tsetSpeed := setSpeed - (cycTimer * controller.pos.Max_ACC);\n\tEND_IF\nELSE\n\tsetSpeed := posPid.Y;\nEND_IF\n\ncontroller.spd.Set_Point := setSpeed;\n\nIF setSpeed > 0 THEN\n\toverBase := setSpeed * controller.ff.pstKv + controller.ff.pstThreshold;\nEND_IF\nIF setSpeed < 0 THEN\t\n\toverBase := setSpeed * controller.ff.negKv - controller.ff.negThreshold;\nEND_IF\n\nspdPid(\n\tAct_Val:= gDev.sky[idx].sensor.speed, \n\tSet_Val:= controller.spd.Set_Point,\n\tKp:= controller.spd.Kp, \n\tKi:= controller.spd.Ki, \n\tKd:= controller.spd.Kd, \n\tY_MAX:= controller.spd.Max_Val,     //最大速度\n\tY_MIN:= -controller.spd.Max_Val,    //水平运动正反一致\n\trCycle:= 0.02,   //位置计算周期 100ms\n\tReset:= isReset, \n\tY=> , \n\tLimitActive=> );\n\nout := spdPid.Y + overBase;\t\n\n\t\nIF out > controller.spd.Max_Val THEN\n\tout := controller.spd.Max_Val;\nEND_IF\nIF out < -controller.spd.Max_Val THEN\n\tout := -controller.spd.Max_Val;\nEND_IF\nIF isReset\tTHEN out := 0;\tEND_IF\ncontroller.spd.OUT := out;\ngDev.sky[idx].ctrl := controller;\nres := out;", "metadata": [{"fpath_tuple": ["core", "FUN\\skyPosCtrl.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_tcpUpload_send.st_0-25", "title": "core-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n", "metadata": [{"fpath_tuple": ["core", "FUN\\tcpUpload_send.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_tcpUpload_send.st_0-30", "title": "core-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\tcpUpload_send.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_tcpUpload_send.st_0-35", "title": "core-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n", "metadata": [{"fpath_tuple": ["core", "FUN\\tcpUpload_send.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_tcpUpload_send.st_0-40", "title": "core-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n", "metadata": [{"fpath_tuple": ["core", "FUN\\tcpUpload_send.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_tcpUpload_send.st_0-44", "title": "core-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n\t    tcpConnector.Disconnect();\n\t\ttcpState := 0;\n\nEND_CASE", "metadata": [{"fpath_tuple": ["core", "FUN\\tcpUpload_send.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 44, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_updateDevStatus.st_0-25", "title": "core-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n", "metadata": [{"fpath_tuple": ["core", "FUN\\updateDevStatus.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_updateDevStatus.st_0-30", "title": "core-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["core", "FUN\\updateDevStatus.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_updateDevStatus.st_0-35", "title": "core-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n", "metadata": [{"fpath_tuple": ["core", "FUN\\updateDevStatus.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_updateDevStatus.st_0-40", "title": "core-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "FUN\\updateDevStatus.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_updateDevStatus.st_0-45", "title": "core-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["core", "FUN\\updateDevStatus.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_updateDevStatus.st_0-50", "title": "core-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\n", "metadata": [{"fpath_tuple": ["core", "FUN\\updateDevStatus.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_FUN_updateDevStatus.st_5-53", "title": "core-FUN\\updateDevStatus.st", "text": "END_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\nEND_CASE\n\nupdateDevStatus := stat;", "metadata": [{"fpath_tuple": ["core", "FUN\\updateDevStatus.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 53, "window_size": 50, "slice_size": 5}]}
{"_id": "core_global_gCan.st_0-25", "title": "core-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n", "metadata": [{"fpath_tuple": ["core", "global\\gCan.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_global_gCan.st_0-28", "title": "core-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n//*)\n\nEND_VAR", "metadata": [{"fpath_tuple": ["core", "global\\gCan.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "core_global_gController.st_0-6", "title": "core-global\\gController.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t//发送至SWMC的比例阀的控制指令\n\tsky\t\t:ARRAY[0..10] OF CmdPercentSet;\n\tgrd\t\t:ARRAY[1..10] OF CmdPercentSet;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["core", "global\\gController.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "core_global_gDev.st_0-5", "title": "core-global\\gDev.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tsky\t\t:ARRAY[0..10] OF DeviceUnit;\n\tgrd\t\t:ARRAY[1..10] OF DeviceUnit;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["core", "global\\gDev.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 5, "window_size": 50, "slice_size": 5}]}
{"_id": "core_global_gModbus.st_0-8", "title": "core-global\\gModbus.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL CONSTANT\n\tg_modbusDataSizeMax\t:  UINT:=65535; // 从机保持寄存器数量\nEND_VAR\nVAR_GLOBAL\n\tsrv\t\t\t\t:mdbsStruct;\t\t//modbus-service\n\tmodbusBuffer\t:ARRAY[0..g_modbusDataSizeMax] OF WORD;\t//输入寄存器数据区\t\nEND_VAR\n", "metadata": [{"fpath_tuple": ["core", "global\\gModbus.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "core_global_gUI.st_0-13", "title": "core-global\\gUI.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t\n\tmode\t:UIMode;\t\t\t\t\t//模式设定\n\n\tsky\t\t:ARRAY[0..10] OF UIUnit;\t//挡板2组\n\tgrd\t\t:ARRAY[1..10] OF UIUnit;\t//挡板1组\n\t\n\tpid\t\t:UiPid;\t\t\t\t\t\t//pid测试界面参数\n\t\n\t\n\t\nEND_VAR", "metadata": [{"fpath_tuple": ["core", "global\\gUI.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_0-25", "title": "core-PRG\\Barrier.st", "text": "PROGRAM Barrier\nVAR\n\tbInit\t\t\t:BOOL:=TRUE;\n\tinitCount\t\t:INT:= 100 * 2;\t\t//2s后开始初始化，执行\n\ttimeout\t\t\t:INT:= 100 * 16;\t//10ms间隔时 is 15 second\n\ttimeexe\t\t\t:INT:= 100 * 8;\t\t//需要停止时，额外执行指令时间\n\tcmdExecutor0\t:CommandExecutor0;\n\tcmdExecutor\t\t:CommandExecutor;\n\tgrdPid\t\t\t:ARRAY[1..10] OF grdPosCtrl;\n\tskyPid\t\t\t:ARRAY[0..10] OF skyPosCtrl;\n\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_0-30", "title": "core-PRG\\Barrier.st", "text": "PROGRAM Barrier\nVAR\n\tbInit\t\t\t:BOOL:=TRUE;\n\tinitCount\t\t:INT:= 100 * 2;\t\t//2s后开始初始化，执行\n\ttimeout\t\t\t:INT:= 100 * 16;\t//10ms间隔时 is 15 second\n\ttimeexe\t\t\t:INT:= 100 * 8;\t\t//需要停止时，额外执行指令时间\n\tcmdExecutor0\t:CommandExecutor0;\n\tcmdExecutor\t\t:CommandExecutor;\n\tgrdPid\t\t\t:ARRAY[1..10] OF grdPosCtrl;\n\tskyPid\t\t\t:ARRAY[0..10] OF skyPosCtrl;\n\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_0-35", "title": "core-PRG\\Barrier.st", "text": "PROGRAM Barrier\nVAR\n\tbInit\t\t\t:BOOL:=TRUE;\n\tinitCount\t\t:INT:= 100 * 2;\t\t//2s后开始初始化，执行\n\ttimeout\t\t\t:INT:= 100 * 16;\t//10ms间隔时 is 15 second\n\ttimeexe\t\t\t:INT:= 100 * 8;\t\t//需要停止时，额外执行指令时间\n\tcmdExecutor0\t:CommandExecutor0;\n\tcmdExecutor\t\t:CommandExecutor;\n\tgrdPid\t\t\t:ARRAY[1..10] OF grdPosCtrl;\n\tskyPid\t\t\t:ARRAY[0..10] OF skyPosCtrl;\n\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_0-40", "title": "core-PRG\\Barrier.st", "text": "PROGRAM Barrier\nVAR\n\tbInit\t\t\t:BOOL:=TRUE;\n\tinitCount\t\t:INT:= 100 * 2;\t\t//2s后开始初始化，执行\n\ttimeout\t\t\t:INT:= 100 * 16;\t//10ms间隔时 is 15 second\n\ttimeexe\t\t\t:INT:= 100 * 8;\t\t//需要停止时，额外执行指令时间\n\tcmdExecutor0\t:CommandExecutor0;\n\tcmdExecutor\t\t:CommandExecutor;\n\tgrdPid\t\t\t:ARRAY[1..10] OF grdPosCtrl;\n\tskyPid\t\t\t:ARRAY[0..10] OF skyPosCtrl;\n\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_0-45", "title": "core-PRG\\Barrier.st", "text": "PROGRAM Barrier\nVAR\n\tbInit\t\t\t:BOOL:=TRUE;\n\tinitCount\t\t:INT:= 100 * 2;\t\t//2s后开始初始化，执行\n\ttimeout\t\t\t:INT:= 100 * 16;\t//10ms间隔时 is 15 second\n\ttimeexe\t\t\t:INT:= 100 * 8;\t\t//需要停止时，额外执行指令时间\n\tcmdExecutor0\t:CommandExecutor0;\n\tcmdExecutor\t\t:CommandExecutor;\n\tgrdPid\t\t\t:ARRAY[1..10] OF grdPosCtrl;\n\tskyPid\t\t\t:ARRAY[0..10] OF skyPosCtrl;\n\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_0-50", "title": "core-PRG\\Barrier.st", "text": "PROGRAM Barrier\nVAR\n\tbInit\t\t\t:BOOL:=TRUE;\n\tinitCount\t\t:INT:= 100 * 2;\t\t//2s后开始初始化，执行\n\ttimeout\t\t\t:INT:= 100 * 16;\t//10ms间隔时 is 15 second\n\ttimeexe\t\t\t:INT:= 100 * 8;\t\t//需要停止时，额外执行指令时间\n\tcmdExecutor0\t:CommandExecutor0;\n\tcmdExecutor\t\t:CommandExecutor;\n\tgrdPid\t\t\t:ARRAY[1..10] OF grdPosCtrl;\n\tskyPid\t\t\t:ARRAY[0..10] OF skyPosCtrl;\n\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\nEND_IF\t\n\n//界面交互  \ninterfaceAct();\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_5-55", "title": "core-PRG\\Barrier.st", "text": "\ttimeexe\t\t\t:INT:= 100 * 8;\t\t//需要停止时，额外执行指令时间\n\tcmdExecutor0\t:CommandExecutor0;\n\tcmdExecutor\t\t:CommandExecutor;\n\tgrdPid\t\t\t:ARRAY[1..10] OF grdPosCtrl;\n\tskyPid\t\t\t:ARRAY[0..10] OF skyPosCtrl;\n\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\nEND_IF\t\n\n//界面交互  \ninterfaceAct();\n\n//状态更新\nupdateStatus(error := 1);\n\n//复位按钮模式/\nIF autoButtonMode THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier.st_10-60", "title": "core-PRG\\Barrier.st", "text": "\tresetPidParam\t:BOOL;\t\t\t\t\t\t\t//pid参数复位\n\tpidMode\t\t\t:BOOL;\t\t\t\t\t\t\t//使用pid控制\n\tautoButtonMode\t:BOOL;\t\t\t\t\t\t\t//手动复位按钮\n\tautoEnableMode\t:BOOL;\t\t\t\t\t\t\t//有动作时使能自动开启\n\tautoPctMode\t\t:BOOL;\n\tmanualPidPrmSet\t:BOOL;\t\t\t\t\t\t\t//manualPidParamSet,手动设定pid位置参数\n\n\tgi\t\t\t\t:INT;\t\t\t//ground-i\n\tsi\t\t\t\t:INT;\t\t\t//sky-i\n\n\tlevel\t\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT := -1 ;\t//挡板索引编号\nEND_VAR\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\nEND_IF\t\n\n//界面交互  \ninterfaceAct();\n\n//状态更新\nupdateStatus(error := 1);\n\n//复位按钮模式/\nIF autoButtonMode THEN\n\tautoResetButton();\nEND_IF\nIF autoEnableMode THEN\n\tautoEnable();\nEND_IF", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_0-25", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\nIF pidMode THEN \t//pid模式，没有动作指令时不执行输出\n\t\n\tIF NOT manualPidPrmSet THEN\n\t\tFOR gi := 1 TO 10 DO\n\t\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\t\t END_IF\n\t\tEND_FOR\n\t\t\n\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_0-30", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\nIF pidMode THEN \t//pid模式，没有动作指令时不执行输出\n\t\n\tIF NOT manualPidPrmSet THEN\n\t\tFOR gi := 1 TO 10 DO\n\t\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\t\t END_IF\n\t\tEND_FOR\n\t\t\n\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_0-35", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\nIF pidMode THEN \t//pid模式，没有动作指令时不执行输出\n\t\n\tIF NOT manualPidPrmSet THEN\n\t\tFOR gi := 1 TO 10 DO\n\t\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\t\t END_IF\n\t\tEND_FOR\n\t\t\n\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_0-40", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\nIF pidMode THEN \t//pid模式，没有动作指令时不执行输出\n\t\n\tIF NOT manualPidPrmSet THEN\n\t\tFOR gi := 1 TO 10 DO\n\t\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\t\t END_IF\n\t\tEND_FOR\n\t\t\n\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_0-45", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\nIF pidMode THEN \t//pid模式，没有动作指令时不执行输出\n\t\n\tIF NOT manualPidPrmSet THEN\n\t\tFOR gi := 1 TO 10 DO\n\t\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\t\t END_IF\n\t\tEND_FOR\n\t\t\n\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_0-50", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\nIF pidMode THEN \t//pid模式，没有动作指令时不执行输出\n\t\n\tIF NOT manualPidPrmSet THEN\n\t\tFOR gi := 1 TO 10 DO\n\t\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\t\t END_IF\n\t\tEND_FOR\n\t\t\n\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_5-55", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\t\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\t\t END_IF\n\t\tEND_FOR\n\t\t\n\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\tEND_IF\n\t END_IF\nEND_FOR\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_10-60", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\t\tFOR si := 1 TO 10 DO\n\t\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\t\tEND_IF\n\t\tEND_FOR\n\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\tEND_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].vector <> TargetDirect.stop THEN\t\t//运动状态，执行  PID或开关使能\n\t\tIF pidMode THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_15-65", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\t\t//起竖挡板执行开关量特判\n\t\tIF gDev.sky[0].vector = TargetDirect.stop THEN \n\t\t\tcmdExecutor(level := 2, idx := 0, percent := 0);\n\t\tEND_IF\n\tEND_IF\nELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\tEND_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].vector <> TargetDirect.stop THEN\t\t//运动状态，执行  PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t//停止状态，关闭 PID或开关使能\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_20-70", "title": "core-PRG\\Barrier_autoEnable.st", "text": "ELSE\t\t//开关量控制\n\t\n\tFOR gi := 1 TO 10 DO\n\t\t IF gDev.grd[gi].vector = TargetDirect.stop THEN\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\tEND_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].vector <> TargetDirect.stop THEN\t\t//运动状态，执行  PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t//停止状态，关闭 PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_25-75", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\t\t ELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\t END_IF\n\tEND_FOR\n\t\n\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\tEND_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].vector <> TargetDirect.stop THEN\t\t//运动状态，执行  PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t//停止状态，关闭 PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n\nIF gDev.sky[0].vector <> TargetDirect.stop THEN\n\tgUI.sky[0].pwrEnable := TRUE;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_30-80", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\tFOR si := 0 TO 10 DO\n\t\tIF gDev.sky[si].vector = TargetDirect.stop THEN\t\t\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\tEND_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].vector <> TargetDirect.stop THEN\t\t//运动状态，执行  PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t//停止状态，关闭 PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n\nIF gDev.sky[0].vector <> TargetDirect.stop THEN\n\tgUI.sky[0].pwrEnable := TRUE;\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);END_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);END_IF\nELSE\n\tgUI.sky[0].pwrEnable := FALSE;\n\tcmdExecutor(level := 2, idx := 0, percent := 0);\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoEnable.st_35-82", "title": "core-PRG\\Barrier_autoEnable.st", "text": "\t\tEND_IF\n\tEND_FOR\nEND_IF\n\n(*\nFOR gi := 1 TO 10 DO\n\t IF gDev.grd[gi].vector <> TargetDirect.stop THEN\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := TRUE;\n\t\tEND_IF\n\t ELSE\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 1, idx := gi, percent := 0);\n\t\tELSE\n\t\t\tgUI.grd[gi].pwrEnable := FALSE;\n\t\tEND_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].vector <> TargetDirect.stop THEN\t\t//运动状态，执行  PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := TRUE;\t\n\t\tEND_IF\n\tELSE\t\t\t\t\t\t\t\t\t\t\t\t\t//停止状态，关闭 PID或开关使能\n\t\tIF pidMode THEN\n\t\t\tcmdExecutor(level := 2, idx := si, percent := 0);\n\t\tELSE\n\t\t\tgUI.sky[si].pwrEnable := FALSE;\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n\nIF gDev.sky[0].vector <> TargetDirect.stop THEN\n\tgUI.sky[0].pwrEnable := TRUE;\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);END_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);END_IF\nELSE\n\tgUI.sky[0].pwrEnable := FALSE;\n\tcmdExecutor(level := 2, idx := 0, percent := 0);\nEND_IF\n*)\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoEnable.st"], "repo": "core", "line_no": 35, "start_line_no": 35, "end_line_no": 82, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_autoReseButton.st_0-10", "title": "core-PRG\\Barrier_autoReseButton.st", "text": "\n//更新Button\nFOR gi := 1 TO 10 DO\n\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\tsetButtonByDirect(2, si, gDev.sky[si].vector);\nEND_FOR\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_autoReseButton.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 10, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_0-25", "title": "core-PRG\\Barrier_initialize.st", "text": "//默认自动使能\ngUI.mode.autoEnable\t:= TRUE;\ngUI.mode.usePID := TRUE;\n\n//initialize boundary val\n\t//ground\n\tgDev.grd[\t1\t].sensor.retractVal\t:=\t4.4\t;\t\tgDev.grd[\t1\t].sensor.extendVal\t:=\t108 \t;\n\tgDev.grd[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t2\t].sensor.extendVal\t:=\t113.4\t;\n\tgDev.grd[\t3\t].sensor.retractVal\t:=\t4.1\t;\t\tgDev.grd[\t3\t].sensor.extendVal\t:=\t110 \t;\n\tgDev.grd[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.grd[\t4\t].sensor.extendVal\t:=\t112.3\t;\t\t//结构问题暂不动\n\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_0-30", "title": "core-PRG\\Barrier_initialize.st", "text": "//默认自动使能\ngUI.mode.autoEnable\t:= TRUE;\ngUI.mode.usePID := TRUE;\n\n//initialize boundary val\n\t//ground\n\tgDev.grd[\t1\t].sensor.retractVal\t:=\t4.4\t;\t\tgDev.grd[\t1\t].sensor.extendVal\t:=\t108 \t;\n\tgDev.grd[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t2\t].sensor.extendVal\t:=\t113.4\t;\n\tgDev.grd[\t3\t].sensor.retractVal\t:=\t4.1\t;\t\tgDev.grd[\t3\t].sensor.extendVal\t:=\t110 \t;\n\tgDev.grd[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.grd[\t4\t].sensor.extendVal\t:=\t112.3\t;\t\t//结构问题暂不动\n\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_0-35", "title": "core-PRG\\Barrier_initialize.st", "text": "//默认自动使能\ngUI.mode.autoEnable\t:= TRUE;\ngUI.mode.usePID := TRUE;\n\n//initialize boundary val\n\t//ground\n\tgDev.grd[\t1\t].sensor.retractVal\t:=\t4.4\t;\t\tgDev.grd[\t1\t].sensor.extendVal\t:=\t108 \t;\n\tgDev.grd[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t2\t].sensor.extendVal\t:=\t113.4\t;\n\tgDev.grd[\t3\t].sensor.retractVal\t:=\t4.1\t;\t\tgDev.grd[\t3\t].sensor.extendVal\t:=\t110 \t;\n\tgDev.grd[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.grd[\t4\t].sensor.extendVal\t:=\t112.3\t;\t\t//结构问题暂不动\n\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_0-40", "title": "core-PRG\\Barrier_initialize.st", "text": "//默认自动使能\ngUI.mode.autoEnable\t:= TRUE;\ngUI.mode.usePID := TRUE;\n\n//initialize boundary val\n\t//ground\n\tgDev.grd[\t1\t].sensor.retractVal\t:=\t4.4\t;\t\tgDev.grd[\t1\t].sensor.extendVal\t:=\t108 \t;\n\tgDev.grd[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t2\t].sensor.extendVal\t:=\t113.4\t;\n\tgDev.grd[\t3\t].sensor.retractVal\t:=\t4.1\t;\t\tgDev.grd[\t3\t].sensor.extendVal\t:=\t110 \t;\n\tgDev.grd[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.grd[\t4\t].sensor.extendVal\t:=\t112.3\t;\t\t//结构问题暂不动\n\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_0-45", "title": "core-PRG\\Barrier_initialize.st", "text": "//默认自动使能\ngUI.mode.autoEnable\t:= TRUE;\ngUI.mode.usePID := TRUE;\n\n//initialize boundary val\n\t//ground\n\tgDev.grd[\t1\t].sensor.retractVal\t:=\t4.4\t;\t\tgDev.grd[\t1\t].sensor.extendVal\t:=\t108 \t;\n\tgDev.grd[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t2\t].sensor.extendVal\t:=\t113.4\t;\n\tgDev.grd[\t3\t].sensor.retractVal\t:=\t4.1\t;\t\tgDev.grd[\t3\t].sensor.extendVal\t:=\t110 \t;\n\tgDev.grd[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.grd[\t4\t].sensor.extendVal\t:=\t112.3\t;\t\t//结构问题暂不动\n\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_0-50", "title": "core-PRG\\Barrier_initialize.st", "text": "//默认自动使能\ngUI.mode.autoEnable\t:= TRUE;\ngUI.mode.usePID := TRUE;\n\n//initialize boundary val\n\t//ground\n\tgDev.grd[\t1\t].sensor.retractVal\t:=\t4.4\t;\t\tgDev.grd[\t1\t].sensor.extendVal\t:=\t108 \t;\n\tgDev.grd[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t2\t].sensor.extendVal\t:=\t113.4\t;\n\tgDev.grd[\t3\t].sensor.retractVal\t:=\t4.1\t;\t\tgDev.grd[\t3\t].sensor.extendVal\t:=\t110 \t;\n\tgDev.grd[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.grd[\t4\t].sensor.extendVal\t:=\t112.3\t;\t\t//结构问题暂不动\n\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_5-55", "title": "core-PRG\\Barrier_initialize.st", "text": "\t//ground\n\tgDev.grd[\t1\t].sensor.retractVal\t:=\t4.4\t;\t\tgDev.grd[\t1\t].sensor.extendVal\t:=\t108 \t;\n\tgDev.grd[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t2\t].sensor.extendVal\t:=\t113.4\t;\n\tgDev.grd[\t3\t].sensor.retractVal\t:=\t4.1\t;\t\tgDev.grd[\t3\t].sensor.extendVal\t:=\t110 \t;\n\tgDev.grd[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.grd[\t4\t].sensor.extendVal\t:=\t112.3\t;\t\t//结构问题暂不动\n\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_10-60", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.grd[\t5\t].sensor.retractVal\t:=\t4.0\t;\t\tgDev.grd[\t5\t].sensor.extendVal\t:=\t107.1-0.5\t;\n\tgDev.grd[\t6\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t6\t].sensor.extendVal\t:=\t110.5\t;\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t109.7   ;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t4.8\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t109.2\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t108 -0.5 \t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_15-65", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.grd[\t10\t].sensor.retractVal\t:=\t6.9\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t112 \t;\n(*\t\n\tgDev.grd[\t7\t].sensor.retractVal\t:=\t3.6\t;\t\tgDev.grd[\t7\t].sensor.extendVal\t:=\t108.3\t;\n\tgDev.grd[\t8\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.grd[\t8\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.grd[\t9\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.grd[\t9\t].sensor.extendVal\t:=\t107.3\t;\n\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_20-70", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.grd[\t10\t].sensor.retractVal\t:=\t3.4\t;\t\tgDev.grd[\t10\t].sensor.extendVal\t:=\t113.5\t;*)\n\n\t//sky\t\n\tgDev.sky[\t0\t].sensor.retractVal\t:=\t3.7\t;\t\tgDev.sky[\t0\t].sensor.extendVal\t:=\t213.6\t;\n\tgDev.sky[\t1\t].sensor.retractVal\t:=\t8.8\t;\t\tgDev.sky[\t1\t].sensor.extendVal\t:=\t113.1\t;\n\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_25-75", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.sky[\t2\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t2\t].sensor.extendVal\t:=\t113.0\t;\n\tgDev.sky[\t3\t].sensor.retractVal\t:=\t3.5\t;\t\tgDev.sky[\t3\t].sensor.extendVal\t:=\t111.0\t;\n\tgDev.sky[\t4\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t4\t].sensor.extendVal\t:=\t58.2\t;\n\tgDev.sky[\t5\t].sensor.retractVal\t:=\t3.2\t;\t\tgDev.sky[\t5\t].sensor.extendVal\t:=\t106.6\t;\n\tgDev.sky[\t6\t].sensor.retractVal\t:=\t6.2\t;\t\tgDev.sky[\t6\t].sensor.extendVal\t:=\t109.8\t;\n(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_30-80", "title": "core-PRG\\Barrier_initialize.st", "text": "(*\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t113.4\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t112.2\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t112.3\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t1\t;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t66.3\t;\n*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_35-85", "title": "core-PRG\\Barrier_initialize.st", "text": "*)\n\t\n\tgDev.sky[\t7\t].sensor.retractVal\t:=\t5\t;\t\tgDev.sky[\t7\t].sensor.extendVal\t:=\t108.7\t;\t\t//default:115\n\tgDev.sky[\t8\t].sensor.retractVal\t:=\t8.6\t;\t\tgDev.sky[\t8\t].sensor.extendVal\t:=\t113.3\t;\n\tgDev.sky[\t9\t].sensor.retractVal\t:=\t12.9 ;\t\tgDev.sky[\t9\t].sensor.extendVal\t:=\t113.8\t;\n\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 35, "start_line_no": 35, "end_line_no": 85, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_40-90", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.sky[\t10\t].sensor.retractVal\t:=\t3.9 ;\t\tgDev.sky[\t10\t].sensor.extendVal\t:=\t111.5\t;\n\n\t\n//初始化默认伸缩比例量\n\tgDev.grd[1].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[1].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 40, "start_line_no": 40, "end_line_no": 90, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_45-95", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.grd[2].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[2].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[3].ctrl.exPct :=\t30\t\t;\t\t\tgDev.grd[3].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[4].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[4].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[5].ctrl.exPct :=\t33\t\t;\t\t\tgDev.grd[5].ctrl.rtPct :=\t33\t\t;\t\t//exPct:=26\trtPct:=21 二次比例\n\tgDev.grd[6].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[6].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 45, "start_line_no": 45, "end_line_no": 95, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_50-100", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.grd[7].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[7].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[8].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[8].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[9].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[9].ctrl.rtPct :=\t25\t\t;\n\tgDev.grd[10].ctrl.exPct :=\t28\t\t;\t\t\tgDev.grd[10].ctrl.rtPct :=\t25\t\t;\n\t\n\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].name\t:=\t'SKY_00'\t;\ngUI.grd[\t1\t].name\t:=\t'GRD_01'\t;\tgUI.sky[\t1\t].name\t:=\t'SKY_01'\t;\ngUI.grd[\t2\t].name\t:=\t'GRD_02'\t;\tgUI.sky[\t2\t].name\t:=\t'SKY_02'\t;\ngUI.grd[\t3\t].name\t:=\t'GRD_03'\t;\tgUI.sky[\t3\t].name\t:=\t'SKY_03'\t;\ngUI.grd[\t4\t].name\t:=\t'GRD_04'\t;\tgUI.sky[\t4\t].name\t:=\t'SKY_04'\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 50, "start_line_no": 50, "end_line_no": 100, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_55-105", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.sky[0].ctrl.exPct :=\t35\t\t;\t\t\tgDev.sky[0].ctrl.rtPct :=\t41\t\t;\n\tgDev.sky[1].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[1].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[2].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[2].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[3].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[3].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[4].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[4].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].name\t:=\t'SKY_00'\t;\ngUI.grd[\t1\t].name\t:=\t'GRD_01'\t;\tgUI.sky[\t1\t].name\t:=\t'SKY_01'\t;\ngUI.grd[\t2\t].name\t:=\t'GRD_02'\t;\tgUI.sky[\t2\t].name\t:=\t'SKY_02'\t;\ngUI.grd[\t3\t].name\t:=\t'GRD_03'\t;\tgUI.sky[\t3\t].name\t:=\t'SKY_03'\t;\ngUI.grd[\t4\t].name\t:=\t'GRD_04'\t;\tgUI.sky[\t4\t].name\t:=\t'SKY_04'\t;\ngUI.grd[\t5\t].name\t:=\t'GRD_05'\t;\tgUI.sky[\t5\t].name\t:=\t'SKY_05'\t;\ngUI.grd[\t6\t].name\t:=\t'GRD_06'\t;\tgUI.sky[\t6\t].name\t:=\t'SKY_06'\t;\ngUI.grd[\t7\t].name\t:=\t'GRD_07'\t;\tgUI.sky[\t7\t].name\t:=\t'SKY_07'\t;\ngUI.grd[\t8\t].name\t:=\t'GRD_08'\t;\tgUI.sky[\t8\t].name\t:=\t'SKY_08'\t;\ngUI.grd[\t9\t].name\t:=\t'GRD_09'\t;\tgUI.sky[\t9\t].name\t:=\t'SKY_09'\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 55, "start_line_no": 55, "end_line_no": 105, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_60-110", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.sky[5].ctrl.exPct :=\t27\t\t;\t\t\tgDev.sky[5].ctrl.rtPct :=\t30.5\t;\n\tgDev.sky[6].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[6].ctrl.rtPct :=\t29\t\t;\n\tgDev.sky[7].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[7].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[8].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[8].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[9].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[9].ctrl.rtPct :=\t28\t\t;\n\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].name\t:=\t'SKY_00'\t;\ngUI.grd[\t1\t].name\t:=\t'GRD_01'\t;\tgUI.sky[\t1\t].name\t:=\t'SKY_01'\t;\ngUI.grd[\t2\t].name\t:=\t'GRD_02'\t;\tgUI.sky[\t2\t].name\t:=\t'SKY_02'\t;\ngUI.grd[\t3\t].name\t:=\t'GRD_03'\t;\tgUI.sky[\t3\t].name\t:=\t'SKY_03'\t;\ngUI.grd[\t4\t].name\t:=\t'GRD_04'\t;\tgUI.sky[\t4\t].name\t:=\t'SKY_04'\t;\ngUI.grd[\t5\t].name\t:=\t'GRD_05'\t;\tgUI.sky[\t5\t].name\t:=\t'SKY_05'\t;\ngUI.grd[\t6\t].name\t:=\t'GRD_06'\t;\tgUI.sky[\t6\t].name\t:=\t'SKY_06'\t;\ngUI.grd[\t7\t].name\t:=\t'GRD_07'\t;\tgUI.sky[\t7\t].name\t:=\t'SKY_07'\t;\ngUI.grd[\t8\t].name\t:=\t'GRD_08'\t;\tgUI.sky[\t8\t].name\t:=\t'SKY_08'\t;\ngUI.grd[\t9\t].name\t:=\t'GRD_09'\t;\tgUI.sky[\t9\t].name\t:=\t'SKY_09'\t;\ngUI.grd[\t10\t].name\t:=\t'GRD_10'\t;\tgUI.sky[\t10\t].name\t:=\t'SKY_10'\t;\n\n\n\n//使用传感器当前位置作为初始化目标位移点\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 60, "start_line_no": 60, "end_line_no": 110, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_65-115", "title": "core-PRG\\Barrier_initialize.st", "text": "\tgDev.sky[10].ctrl.exPct :=\t25\t\t;\t\t\tgDev.sky[10].ctrl.rtPct :=\t28\t\t;\n\n\n\n//initialize device name\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].name\t:=\t'SKY_00'\t;\ngUI.grd[\t1\t].name\t:=\t'GRD_01'\t;\tgUI.sky[\t1\t].name\t:=\t'SKY_01'\t;\ngUI.grd[\t2\t].name\t:=\t'GRD_02'\t;\tgUI.sky[\t2\t].name\t:=\t'SKY_02'\t;\ngUI.grd[\t3\t].name\t:=\t'GRD_03'\t;\tgUI.sky[\t3\t].name\t:=\t'SKY_03'\t;\ngUI.grd[\t4\t].name\t:=\t'GRD_04'\t;\tgUI.sky[\t4\t].name\t:=\t'SKY_04'\t;\ngUI.grd[\t5\t].name\t:=\t'GRD_05'\t;\tgUI.sky[\t5\t].name\t:=\t'SKY_05'\t;\ngUI.grd[\t6\t].name\t:=\t'GRD_06'\t;\tgUI.sky[\t6\t].name\t:=\t'SKY_06'\t;\ngUI.grd[\t7\t].name\t:=\t'GRD_07'\t;\tgUI.sky[\t7\t].name\t:=\t'SKY_07'\t;\ngUI.grd[\t8\t].name\t:=\t'GRD_08'\t;\tgUI.sky[\t8\t].name\t:=\t'SKY_08'\t;\ngUI.grd[\t9\t].name\t:=\t'GRD_09'\t;\tgUI.sky[\t9\t].name\t:=\t'SKY_09'\t;\ngUI.grd[\t10\t].name\t:=\t'GRD_10'\t;\tgUI.sky[\t10\t].name\t:=\t'SKY_10'\t;\n\n\n\n//使用传感器当前位置作为初始化目标位移点\n//(*\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].sensor.position <> 0.0 THEN\n\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\tELSE\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 65, "start_line_no": 65, "end_line_no": 115, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_70-120", "title": "core-PRG\\Barrier_initialize.st", "text": "\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].wname\t:=\t\"天轨1#\"\t;\ngUI.grd[\t1\t].wname\t:=\t\"地轨1#\"\t;\tgUI.sky[\t1\t].wname\t:=\t\"天轨2#\"\t;\ngUI.grd[\t2\t].wname\t:=\t\"地轨2#\"\t;\tgUI.sky[\t2\t].wname\t:=\t\"天轨3#\"\t;\ngUI.grd[\t3\t].wname\t:=\t\"地轨3#\"\t;\tgUI.sky[\t3\t].wname\t:=\t\"天轨4#\"\t;\ngUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].name\t:=\t'SKY_00'\t;\ngUI.grd[\t1\t].name\t:=\t'GRD_01'\t;\tgUI.sky[\t1\t].name\t:=\t'SKY_01'\t;\ngUI.grd[\t2\t].name\t:=\t'GRD_02'\t;\tgUI.sky[\t2\t].name\t:=\t'SKY_02'\t;\ngUI.grd[\t3\t].name\t:=\t'GRD_03'\t;\tgUI.sky[\t3\t].name\t:=\t'SKY_03'\t;\ngUI.grd[\t4\t].name\t:=\t'GRD_04'\t;\tgUI.sky[\t4\t].name\t:=\t'SKY_04'\t;\ngUI.grd[\t5\t].name\t:=\t'GRD_05'\t;\tgUI.sky[\t5\t].name\t:=\t'SKY_05'\t;\ngUI.grd[\t6\t].name\t:=\t'GRD_06'\t;\tgUI.sky[\t6\t].name\t:=\t'SKY_06'\t;\ngUI.grd[\t7\t].name\t:=\t'GRD_07'\t;\tgUI.sky[\t7\t].name\t:=\t'SKY_07'\t;\ngUI.grd[\t8\t].name\t:=\t'GRD_08'\t;\tgUI.sky[\t8\t].name\t:=\t'SKY_08'\t;\ngUI.grd[\t9\t].name\t:=\t'GRD_09'\t;\tgUI.sky[\t9\t].name\t:=\t'SKY_09'\t;\ngUI.grd[\t10\t].name\t:=\t'GRD_10'\t;\tgUI.sky[\t10\t].name\t:=\t'SKY_10'\t;\n\n\n\n//使用传感器当前位置作为初始化目标位移点\n//(*\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].sensor.position <> 0.0 THEN\n\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\tELSE\n\t\tgDev.grd[gi].ctrl.isError := TRUE;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 70, "start_line_no": 70, "end_line_no": 120, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_75-125", "title": "core-PRG\\Barrier_initialize.st", "text": "gUI.grd[\t4\t].wname\t:=\t\"地轨4#\"\t;\tgUI.sky[\t4\t].wname\t:=\t\"天轨5#\"\t;\ngUI.grd[\t5\t].wname\t:=\t\"地轨5#\"\t;\tgUI.sky[\t5\t].wname\t:=\t\"天轨6#\"\t;\ngUI.grd[\t6\t].wname\t:=\t\"地轨6#\"\t;\tgUI.sky[\t6\t].wname\t:=\t\"天轨7#\"\t;\ngUI.grd[\t7\t].wname\t:=\t\"地轨7#\"\t;\tgUI.sky[\t7\t].wname\t:=\t\"天轨8#\"\t;\ngUI.grd[\t8\t].wname\t:=\t\"地轨8#\"\t;\tgUI.sky[\t8\t].wname\t:=\t\"天轨9#\"\t;\ngUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].name\t:=\t'SKY_00'\t;\ngUI.grd[\t1\t].name\t:=\t'GRD_01'\t;\tgUI.sky[\t1\t].name\t:=\t'SKY_01'\t;\ngUI.grd[\t2\t].name\t:=\t'GRD_02'\t;\tgUI.sky[\t2\t].name\t:=\t'SKY_02'\t;\ngUI.grd[\t3\t].name\t:=\t'GRD_03'\t;\tgUI.sky[\t3\t].name\t:=\t'SKY_03'\t;\ngUI.grd[\t4\t].name\t:=\t'GRD_04'\t;\tgUI.sky[\t4\t].name\t:=\t'SKY_04'\t;\ngUI.grd[\t5\t].name\t:=\t'GRD_05'\t;\tgUI.sky[\t5\t].name\t:=\t'SKY_05'\t;\ngUI.grd[\t6\t].name\t:=\t'GRD_06'\t;\tgUI.sky[\t6\t].name\t:=\t'SKY_06'\t;\ngUI.grd[\t7\t].name\t:=\t'GRD_07'\t;\tgUI.sky[\t7\t].name\t:=\t'SKY_07'\t;\ngUI.grd[\t8\t].name\t:=\t'GRD_08'\t;\tgUI.sky[\t8\t].name\t:=\t'SKY_08'\t;\ngUI.grd[\t9\t].name\t:=\t'GRD_09'\t;\tgUI.sky[\t9\t].name\t:=\t'SKY_09'\t;\ngUI.grd[\t10\t].name\t:=\t'GRD_10'\t;\tgUI.sky[\t10\t].name\t:=\t'SKY_10'\t;\n\n\n\n//使用传感器当前位置作为初始化目标位移点\n//(*\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].sensor.position <> 0.0 THEN\n\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\tELSE\n\t\tgDev.grd[gi].ctrl.isError := TRUE;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gDev.sky[si].sensor.position <> 0.0 THEN\n\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].sensor.position;\n\tELSE\n\t\tgDev.sky[si].ctrl.isError := TRUE;\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 75, "start_line_no": 75, "end_line_no": 125, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initialize.st_80-127", "title": "core-PRG\\Barrier_initialize.st", "text": "gUI.grd[\t9\t].wname\t:=\t\"地轨9#\"\t;\tgUI.sky[\t9\t].wname\t:=\t\"天轨10#\"\t;\ngUI.grd[\t10\t].wname\t:=\t\"地轨10#\"\t;\tgUI.sky[\t10\t].wname\t:=\t\"天轨11#\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].hzname\t:=\t\"天.起竖\"\t;\ngUI.grd[\t1\t].hzname\t:=\t\"地.横1\"\t;\tgUI.sky[\t1\t].hzname\t:=\t\"天.横1\"\t;\ngUI.grd[\t2\t].hzname\t:=\t\"地.纵1\"\t;\tgUI.sky[\t2\t].hzname\t:=\t\"天.纵1\"\t;\ngUI.grd[\t3\t].hzname\t:=\t\"地.横2\"\t;\tgUI.sky[\t3\t].hzname\t:=\t\"天.横2\"\t;\ngUI.grd[\t4\t].hzname\t:=\t\"地.横3\"\t;\tgUI.sky[\t4\t].hzname\t:=\t\"天.横3\"\t;\ngUI.grd[\t5\t].hzname\t:=\t\"地.横4\"\t;\tgUI.sky[\t5\t].hzname\t:=\t\"天.横4\"\t;\ngUI.grd[\t6\t].hzname\t:=\t\"地.横5\"\t;\tgUI.sky[\t6\t].hzname\t:=\t\"天.横5\"\t;\ngUI.grd[\t7\t].hzname\t:=\t\"地.纵2\"\t;\tgUI.sky[\t7\t].hzname\t:=\t\"天.纵2\"\t;\ngUI.grd[\t8\t].hzname\t:=\t\"地.横6\"\t;\tgUI.sky[\t8\t].hzname\t:=\t\"天.横6\"\t;\ngUI.grd[\t9\t].hzname\t:=\t\"地.横7\"\t;\tgUI.sky[\t9\t].hzname\t:=\t\"天.横7\"\t;\ngUI.grd[\t10\t].hzname\t:=\t\"地.横8\"\t;\tgUI.sky[\t10\t].hzname\t:=\t\"天.横8\"\t;\n\n\t\t\t\t\t\t\t\t\t\t\tgUI.sky[\t0\t].name\t:=\t'SKY_00'\t;\ngUI.grd[\t1\t].name\t:=\t'GRD_01'\t;\tgUI.sky[\t1\t].name\t:=\t'SKY_01'\t;\ngUI.grd[\t2\t].name\t:=\t'GRD_02'\t;\tgUI.sky[\t2\t].name\t:=\t'SKY_02'\t;\ngUI.grd[\t3\t].name\t:=\t'GRD_03'\t;\tgUI.sky[\t3\t].name\t:=\t'SKY_03'\t;\ngUI.grd[\t4\t].name\t:=\t'GRD_04'\t;\tgUI.sky[\t4\t].name\t:=\t'SKY_04'\t;\ngUI.grd[\t5\t].name\t:=\t'GRD_05'\t;\tgUI.sky[\t5\t].name\t:=\t'SKY_05'\t;\ngUI.grd[\t6\t].name\t:=\t'GRD_06'\t;\tgUI.sky[\t6\t].name\t:=\t'SKY_06'\t;\ngUI.grd[\t7\t].name\t:=\t'GRD_07'\t;\tgUI.sky[\t7\t].name\t:=\t'SKY_07'\t;\ngUI.grd[\t8\t].name\t:=\t'GRD_08'\t;\tgUI.sky[\t8\t].name\t:=\t'SKY_08'\t;\ngUI.grd[\t9\t].name\t:=\t'GRD_09'\t;\tgUI.sky[\t9\t].name\t:=\t'SKY_09'\t;\ngUI.grd[\t10\t].name\t:=\t'GRD_10'\t;\tgUI.sky[\t10\t].name\t:=\t'SKY_10'\t;\n\n\n\n//使用传感器当前位置作为初始化目标位移点\n//(*\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].sensor.position <> 0.0 THEN\n\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\tELSE\n\t\tgDev.grd[gi].ctrl.isError := TRUE;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gDev.sky[si].sensor.position <> 0.0 THEN\n\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].sensor.position;\n\tELSE\n\t\tgDev.sky[si].ctrl.isError := TRUE;\n\tEND_IF\nEND_FOR\n//*)", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initialize.st"], "repo": "core", "line_no": 80, "start_line_no": 80, "end_line_no": 127, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_0-25", "title": "core-PRG\\Barrier_initializePid.st", "text": "//PID param\ngDev.grd[\t1\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t1\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Kd\t:=\t0.02\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t2\t].ctrl.pos.Kp\t:=\t1.3\t;\tgDev.grd[\t2\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Kd\t:=\t0.002\t;\ngDev.grd[\t3\t].ctrl.pos.Kp\t:=\t1\t;\tgDev.grd[\t3\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_0-30", "title": "core-PRG\\Barrier_initializePid.st", "text": "//PID param\ngDev.grd[\t1\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t1\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Kd\t:=\t0.02\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t2\t].ctrl.pos.Kp\t:=\t1.3\t;\tgDev.grd[\t2\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Kd\t:=\t0.002\t;\ngDev.grd[\t3\t].ctrl.pos.Kp\t:=\t1\t;\tgDev.grd[\t3\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_0-35", "title": "core-PRG\\Barrier_initializePid.st", "text": "//PID param\ngDev.grd[\t1\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t1\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Kd\t:=\t0.02\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t2\t].ctrl.pos.Kp\t:=\t1.3\t;\tgDev.grd[\t2\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Kd\t:=\t0.002\t;\ngDev.grd[\t3\t].ctrl.pos.Kp\t:=\t1\t;\tgDev.grd[\t3\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_0-40", "title": "core-PRG\\Barrier_initializePid.st", "text": "//PID param\ngDev.grd[\t1\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t1\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Kd\t:=\t0.02\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t2\t].ctrl.pos.Kp\t:=\t1.3\t;\tgDev.grd[\t2\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Kd\t:=\t0.002\t;\ngDev.grd[\t3\t].ctrl.pos.Kp\t:=\t1\t;\tgDev.grd[\t3\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_0-45", "title": "core-PRG\\Barrier_initializePid.st", "text": "//PID param\ngDev.grd[\t1\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t1\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Kd\t:=\t0.02\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t2\t].ctrl.pos.Kp\t:=\t1.3\t;\tgDev.grd[\t2\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Kd\t:=\t0.002\t;\ngDev.grd[\t3\t].ctrl.pos.Kp\t:=\t1\t;\tgDev.grd[\t3\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_0-50", "title": "core-PRG\\Barrier_initializePid.st", "text": "//PID param\ngDev.grd[\t1\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t1\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t1\t].ctrl.spd.Kd\t:=\t0.02\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t2\t].ctrl.pos.Kp\t:=\t1.3\t;\tgDev.grd[\t2\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Kd\t:=\t0.002\t;\ngDev.grd[\t3\t].ctrl.pos.Kp\t:=\t1\t;\tgDev.grd[\t3\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_5-55", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[\t2\t].ctrl.pos.Kp\t:=\t1.3\t;\tgDev.grd[\t2\t].ctrl.spd.Kp\t:=\t0.05\t;\ngDev.grd[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t2\t].ctrl.spd.Kd\t:=\t0.002\t;\ngDev.grd[\t3\t].ctrl.pos.Kp\t:=\t1\t;\tgDev.grd[\t3\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_10-60", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[\t3\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t3\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_15-65", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t5\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t6\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.grd[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_20-70", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t6\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t6\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t7\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_25-75", "title": "core-PRG\\Barrier_initializePid.st", "text": "\t\t\t\t\t\t\t\t\t\t\t\ngDev.grd[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t8\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.grd[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t9\t].ctrl.spd.Kp\t:=\t0.05\t\t;\ngDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_30-80", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.grd[\t10\t].ctrl.spd.Kp\t:=\t0.02\t\t;\ngDev.grd[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.grd[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.grd[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_35-85", "title": "core-PRG\\Barrier_initializePid.st", "text": "\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t0\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t0\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t0\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t0\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 35, "start_line_no": 35, "end_line_no": 85, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_40-90", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[\t0\t].ctrl.pos.Kd\t:=\t0.1\t;\tgDev.sky[\t0\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t1\t].ctrl.pos.Kp\t:=\t1.0\t;\tgDev.sky[\t1\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t1\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t1\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t1\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 40, "start_line_no": 40, "end_line_no": 90, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_45-95", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[\t2\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t2\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t2\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t2\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t2\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t3\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t3\t].ctrl.spd.Kp\t:=\t0.02\t;\ngDev.sky[\t3\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t3\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 45, "start_line_no": 45, "end_line_no": 95, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_50-100", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[\t3\t].ctrl.pos.Kd\t:=\t0.02;\tgDev.sky[\t3\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t4\t].ctrl.pos.Kp\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t4\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t4\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 50, "start_line_no": 50, "end_line_no": 100, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_55-105", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[\t5\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t5\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t5\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t5\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t5\t].ctrl.spd.Kd\t:=\t0.001\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t6\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t6\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 55, "start_line_no": 55, "end_line_no": 105, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_60-110", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[\t6\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t6\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t6\t].ctrl.pos.Kd\t:=\t0.01;\tgDev.sky[\t6\t].ctrl.spd.Kd\t:=\t0.001\t;\ngDev.sky[\t7\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t7\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t7\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t7\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t7\t].ctrl.spd.Kd\t:=\t0\t\t;\n\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 60, "start_line_no": 60, "end_line_no": 110, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_65-115", "title": "core-PRG\\Barrier_initializePid.st", "text": "\t\t\t\t\t\t\t\t\t\t\t\ngDev.sky[\t8\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t8\t].ctrl.spd.Kp\t:=\t0.01\t;\ngDev.sky[\t8\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t8\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t8\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kp\t:=\t1.2\t;\tgDev.sky[\t9\t].ctrl.spd.Kp\t:=\t0.01\t\t;\ngDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 65, "start_line_no": 65, "end_line_no": 115, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_70-120", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[\t9\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t9\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t9\t].ctrl.spd.Kd\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kp\t:=\t1.1\t;\tgDev.sky[\t10\t].ctrl.spd.Kp\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Ki\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Ki\t:=\t0\t\t;\ngDev.sky[\t10\t].ctrl.pos.Kd\t:=\t0\t;\tgDev.sky[\t10\t].ctrl.spd.Kd\t:=\t0\t\t;\n\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 70, "start_line_no": 70, "end_line_no": 120, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_75-125", "title": "core-PRG\\Barrier_initializePid.st", "text": "\n\ngDev.grd[1\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[1\t].ctrl.ff.pstKv\t:=\t0.35 \t;\t\ngDev.grd[1\t].ctrl.ff.negThreshold\t:=\t15  \t;\tgDev.grd[1\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[2\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[2\t].ctrl.ff.pstKv\t:=\t0.27\t;\t\ngDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 75, "start_line_no": 75, "end_line_no": 125, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_80-130", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[2\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[2\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.grd[3\t].ctrl.ff.pstThreshold\t:=\t19  \t;\tgDev.grd[3\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[3\t].ctrl.ff.negThreshold\t:=\t16  \t;\tgDev.grd[3\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[4\t].ctrl.ff.pstThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.pstKv\t:=\t0   \t;\t\ngDev.grd[4\t].ctrl.ff.negThreshold\t:=\t0   \t;\tgDev.grd[4\t].ctrl.ff.negKv\t:=\t0   \t;\ngDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 80, "start_line_no": 80, "end_line_no": 130, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_85-135", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[5\t].ctrl.ff.pstThreshold\t:=\t18  \t;\tgDev.grd[5\t].ctrl.ff.pstKv\t:=\t0.3 \t;\t\ngDev.grd[5\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[5\t].ctrl.ff.negKv\t:=\t0.3 \t;\ngDev.grd[6\t].ctrl.ff.pstThreshold\t:=\t18.5\t;\tgDev.grd[6\t].ctrl.ff.pstKv\t:=\t0.28\t;\t\ngDev.grd[6\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[6\t].ctrl.ff.negKv\t:=\t0.28\t;\ngDev.grd[7\t].ctrl.ff.pstThreshold\t:=\t17   \t;\tgDev.grd[7\t].ctrl.ff.pstKv\t:=\t0.36  \t;\t\ngDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 85, "start_line_no": 85, "end_line_no": 135, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_90-140", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[7\t].ctrl.ff.negThreshold\t:=\t15   \t;\tgDev.grd[7\t].ctrl.ff.negKv\t:=\t0.29  \t;\ngDev.grd[8\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[8\t].ctrl.ff.pstKv\t:=\t0.4   \t;\t\ngDev.grd[8\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.grd[8\t].ctrl.ff.negKv\t:=\t0.3   \t;\ngDev.grd[9\t].ctrl.ff.pstThreshold\t:=\t18   \t;\tgDev.grd[9\t].ctrl.ff.pstKv\t:=\t0.45   \t;\t\ngDev.grd[9\t].ctrl.ff.negThreshold\t:=\t17   \t;\tgDev.grd[9\t].ctrl.ff.negKv\t:=\t0.28  \t;\ngDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 90, "start_line_no": 90, "end_line_no": 140, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_95-145", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[10\t].ctrl.ff.pstThreshold\t:=\t19   \t;\tgDev.grd[10\t].ctrl.ff.pstKv\t:=\t0.30   \t;\t\ngDev.grd[10\t].ctrl.ff.negThreshold\t:=\t19.5   \t;\tgDev.grd[10\t].ctrl.ff.negKv\t:=\t0.25   \t;\n\ngDev.sky[0\t].ctrl.ff.pstThreshold\t:=\t22\t\t;\tgDev.sky[0\t].ctrl.ff.pstKv\t:=\t0.29\t;\t\ngDev.sky[0\t].ctrl.ff.negThreshold\t:=\t18\t\t;\tgDev.sky[0\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 95, "start_line_no": 95, "end_line_no": 145, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_100-150", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[1\t].ctrl.ff.pstThreshold\t:=\t14.8\t;\tgDev.sky[1\t].ctrl.ff.pstKv\t:=\t0.4 \t;\t\ngDev.sky[1\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[1\t].ctrl.ff.negKv\t:=\t0.32\t;\ngDev.sky[2\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[2\t].ctrl.ff.pstKv\t:=\t0.33\t;\t\ngDev.sky[2\t].ctrl.ff.negThreshold\t:=\t18.3\t;\tgDev.sky[2\t].ctrl.ff.negKv\t:=\t0.26\t;\ngDev.sky[3\t].ctrl.ff.pstThreshold\t:=\t17.8\t;\tgDev.sky[3\t].ctrl.ff.pstKv\t:=\t0.37\t;\t\ngDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 100, "start_line_no": 100, "end_line_no": 150, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_105-155", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[3\t].ctrl.ff.negThreshold\t:=\t17.5\t;\tgDev.sky[3\t].ctrl.ff.negKv\t:=\t0.33\t;\ngDev.sky[4\t].ctrl.ff.pstThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.pstKv\t:=\t0\t\t;\t\ngDev.sky[4\t].ctrl.ff.negThreshold\t:=\t0\t\t;\tgDev.sky[4\t].ctrl.ff.negKv\t:=\t0\t\t;\ngDev.sky[5\t].ctrl.ff.pstThreshold\t:=\t18.0\t;\tgDev.sky[5\t].ctrl.ff.pstKv\t:=\t0.30\t;\t\ngDev.sky[5\t].ctrl.ff.negThreshold\t:=\t28.5\t;\tgDev.sky[5\t].ctrl.ff.negKv\t:=\t0.40\t;\ngDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 105, "start_line_no": 105, "end_line_no": 155, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_110-160", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[6\t].ctrl.ff.pstThreshold\t:=\t16.8\t;\tgDev.sky[6\t].ctrl.ff.pstKv\t:=\t0.35\t;\t\ngDev.sky[6\t].ctrl.ff.negThreshold\t:=\t18.8\t;\tgDev.sky[6\t].ctrl.ff.negKv\t:=\t0.29\t;\ngDev.sky[7\t].ctrl.ff.pstThreshold\t:=\t17.5\t;\tgDev.sky[7\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[7\t].ctrl.ff.negThreshold\t:=\t18.5\t;\tgDev.sky[7\t].ctrl.ff.negKv\t:=\t0.30\t;\ngDev.sky[8\t].ctrl.ff.pstThreshold\t:=\t18\t\t;\tgDev.sky[8\t].ctrl.ff.pstKv\t:=\t0.3\t\t;\t\ngDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 110, "start_line_no": 110, "end_line_no": 160, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_115-165", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[8\t].ctrl.ff.negThreshold\t:=\t20.5\t;\tgDev.sky[8\t].ctrl.ff.negKv\t:=\t0.25\t;\ngDev.sky[9\t].ctrl.ff.pstThreshold\t:=\t15.5\t;\tgDev.sky[9\t].ctrl.ff.pstKv\t:=\t0.38\t;\t\ngDev.sky[9\t].ctrl.ff.negThreshold\t:=\t17.0\t;\tgDev.sky[9\t].ctrl.ff.negKv\t:=\t0.27\t;\ngDev.sky[10\t].ctrl.ff.pstThreshold\t:=\t17\t\t;\tgDev.sky[10\t].ctrl.ff.pstKv\t:=\t0.32\t;\t\ngDev.sky[10\t].ctrl.ff.negThreshold\t:=\t17  \t;\tgDev.sky[10\t].ctrl.ff.negKv\t:=\t0.3\t\t;\n\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 115, "start_line_no": 115, "end_line_no": 165, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_120-170", "title": "core-PRG\\Barrier_initializePid.st", "text": "\n\n\n//更新pid伸缩设定位置\nFOR gi := 1 TO 10 DO\n\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 120, "start_line_no": 120, "end_line_no": 170, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_125-175", "title": "core-PRG\\Barrier_initializePid.st", "text": "\tgDev.grd[gi].ctrl.extVal := gDev.grd[gi].sensor.extendVal;\n\tgDev.grd[gi].ctrl.rtcVal := gDev.grd[gi].sensor.retractVal;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 125, "start_line_no": 125, "end_line_no": 175, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_130-180", "title": "core-PRG\\Barrier_initializePid.st", "text": "\tgDev.sky[si].ctrl.extVal := gDev.sky[si].sensor.extendVal;\n\tgDev.sky[si].ctrl.rtcVal := gDev.sky[si].sensor.retractVal;\nEND_FOR\n//天地轨伸出均可白嫖位移值,缩回动作不行\ngDev.grd[1].ctrl.extVal := gDev.grd[1].sensor.extendVal + 4;\ngDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 130, "start_line_no": 130, "end_line_no": 180, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_135-185", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[1].ctrl.rtcVal := gDev.grd[1].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.rtcVal := gDev.grd[2].sensor.retractVal - 5.4;\ngDev.grd[2].ctrl.extVal := gDev.grd[2].sensor.extendVal + 3;\ngDev.grd[3].ctrl.extVal := gDev.grd[3].sensor.extendVal + 6;\ngDev.grd[3].ctrl.rtcVal := gDev.grd[3].sensor.retractVal - 10.5;\ngDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 135, "start_line_no": 135, "end_line_no": 185, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_140-190", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[5].ctrl.extVal := gDev.grd[5].sensor.extendVal + 2.5;\ngDev.grd[5].ctrl.rtcVal := gDev.grd[5].sensor.retractVal - 1.2-2;\ngDev.grd[6].ctrl.extVal := gDev.grd[6].sensor.extendVal + 5.5;\ngDev.grd[6].ctrl.rtcVal := gDev.grd[6].sensor.retractVal - 5.5;\ngDev.grd[7].ctrl.extVal := gDev.grd[7].sensor.extendVal + 5.3;\ngDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 140, "start_line_no": 140, "end_line_no": 190, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_145-195", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.grd[7].ctrl.rtcVal := gDev.grd[7].sensor.retractVal - 15;\ngDev.grd[8].ctrl.extVal := gDev.grd[8].sensor.extendVal + 7.1;\ngDev.grd[8].ctrl.rtcVal := gDev.grd[8].sensor.retractVal - 16.5;\ngDev.grd[9].ctrl.extVal := gDev.grd[9].sensor.extendVal + 4  ;\ngDev.grd[9].ctrl.rtcVal := gDev.grd[9].sensor.retractVal - 4 ;\n\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 145, "start_line_no": 145, "end_line_no": 195, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_150-200", "title": "core-PRG\\Barrier_initializePid.st", "text": "\ngDev.sky[0].ctrl.rtcVal := gDev.sky[0].sensor.retractVal - 9.0;\t\t//2.7\ngDev.sky[1].ctrl.extVal := gDev.sky[1].sensor.extendVal + 7;\ngDev.sky[1].ctrl.rtcVal := gDev.sky[1].sensor.retractVal - 6.8;\ngDev.sky[2].ctrl.extVal := gDev.sky[2].sensor.extendVal + 2;\ngDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 150, "start_line_no": 150, "end_line_no": 200, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_155-205", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[2].ctrl.rtcVal := gDev.sky[2].sensor.retractVal - 3.5;\ngDev.sky[3].ctrl.extVal := gDev.sky[3].sensor.extendVal + 7.5;\ngDev.sky[3].ctrl.rtcVal := gDev.sky[3].sensor.retractVal - 8.5;\ngDev.sky[5].ctrl.extVal := gDev.sky[5].sensor.extendVal + 8 ;\ngDev.sky[5].ctrl.rtcVal := gDev.sky[5].sensor.retractVal - 13;\ngDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 155, "start_line_no": 155, "end_line_no": 205, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_160-210", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[6].ctrl.extVal := gDev.sky[6].sensor.extendVal + 6;\ngDev.sky[6].ctrl.rtcVal := gDev.sky[6].sensor.retractVal - 6;\ngDev.sky[7].ctrl.extVal := gDev.sky[7].sensor.extendVal + 5;\ngDev.sky[7].ctrl.rtcVal := gDev.sky[7].sensor.retractVal - 4.2;\ngDev.sky[9].ctrl.extVal := gDev.sky[9].sensor.extendVal + 2.2;\ngDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\nEND_IF\t\n\n//界面交互  \n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 160, "start_line_no": 160, "end_line_no": 210, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_165-215", "title": "core-PRG\\Barrier_initializePid.st", "text": "gDev.sky[9].ctrl.rtcVal := gDev.sky[9].sensor.retractVal - 11;\ngDev.sky[10].ctrl.extVal := gDev.sky[10].sensor.extendVal + 9;\ngDev.sky[10].ctrl.rtcVal := gDev.sky[10].sensor.retractVal - 11;\n\n\n\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\nEND_IF\t\n\n//界面交互  \ninterfaceAct();\n\n//状态更新\nupdateStatus(error := 1);\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 165, "start_line_no": 165, "end_line_no": 215, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_170-220", "title": "core-PRG\\Barrier_initializePid.st", "text": "\nFOR gi := 1 TO 10 DO\n\tgDev.grd[\tgi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.grd[\tgi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\nEND_IF\t\n\n//界面交互  \ninterfaceAct();\n\n//状态更新\nupdateStatus(error := 1);\n\n//复位按钮模式/\nIF autoButtonMode THEN\n\tautoResetButton();\nEND_IF\nIF autoEnableMode THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 170, "start_line_no": 170, "end_line_no": 220, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_initializePid.st_175-222", "title": "core-PRG\\Barrier_initializePid.st", "text": "\tgDev.grd[\tgi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tgDev.sky[\tsi\t].ctrl.pos.Max_Val\t:=\t60\t;\n\tgDev.sky[\tsi\t].ctrl.pos.Max_ACC\t:=\t120\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_Val\t:=\t40\t;\n\tgDev.sky[\tsi\t].ctrl.spd.Max_ACC\t:=\t150\t;\nEND_FOR\n\n\n//初始化\nIF initCount = 0 THEN\n\tIF bInit THEN\n\t\tinitialize();\n\t\tinitializePid();\n\t\tbInit := FALSE;\n\tEND_IF\nELSE\n\tinitCount := initCount - 1;\n\tRETURN;\t\nEND_IF\n\n//指令执行\npidTestUi();\n\nIF pidMode THEN\n\tpidCalc();\n\tpidExecute();\nELSE\n\tIF autoPctMode THEN setExecutePercent(); END_IF\n\tmanualExecute();\nEND_IF\t\n\n//界面交互  \ninterfaceAct();\n\n//状态更新\nupdateStatus(error := 1);\n\n//复位按钮模式/\nIF autoButtonMode THEN\n\tautoResetButton();\nEND_IF\nIF autoEnableMode THEN\n\tautoEnable();\nEND_IF", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_initializePid.st"], "repo": "core", "line_no": 175, "start_line_no": 175, "end_line_no": 222, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_0-25", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "//位移值及伸出百分比参数输出\t\nFOR gi := 1 TO 10 DO\n\tgUI.grd[gi].postion := gDev.grd[gi].sensor.position;\n\tgUI.grd[gi].speed := gDev.grd[gi].sensor.speed;\n\tgUI.grd[gi].extendPercent := percentCalc(1, gi);\nEND_FOR\nFOR si := 0 TO 10 DO\n\tgUI.sky[si].postion := gDev.sky[si].sensor.position;\n\tgUI.sky[si].speed := gDev.sky[si].sensor.speed;\n\tgUI.sky[si].extendPercent := percentCalc(2, si);\nEND_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_0-30", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "//位移值及伸出百分比参数输出\t\nFOR gi := 1 TO 10 DO\n\tgUI.grd[gi].postion := gDev.grd[gi].sensor.position;\n\tgUI.grd[gi].speed := gDev.grd[gi].sensor.speed;\n\tgUI.grd[gi].extendPercent := percentCalc(1, gi);\nEND_FOR\nFOR si := 0 TO 10 DO\n\tgUI.sky[si].postion := gDev.sky[si].sensor.position;\n\tgUI.sky[si].speed := gDev.sky[si].sensor.speed;\n\tgUI.sky[si].extendPercent := percentCalc(2, si);\nEND_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_0-35", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "//位移值及伸出百分比参数输出\t\nFOR gi := 1 TO 10 DO\n\tgUI.grd[gi].postion := gDev.grd[gi].sensor.position;\n\tgUI.grd[gi].speed := gDev.grd[gi].sensor.speed;\n\tgUI.grd[gi].extendPercent := percentCalc(1, gi);\nEND_FOR\nFOR si := 0 TO 10 DO\n\tgUI.sky[si].postion := gDev.sky[si].sensor.position;\n\tgUI.sky[si].speed := gDev.sky[si].sensor.speed;\n\tgUI.sky[si].extendPercent := percentCalc(2, si);\nEND_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_0-40", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "//位移值及伸出百分比参数输出\t\nFOR gi := 1 TO 10 DO\n\tgUI.grd[gi].postion := gDev.grd[gi].sensor.position;\n\tgUI.grd[gi].speed := gDev.grd[gi].sensor.speed;\n\tgUI.grd[gi].extendPercent := percentCalc(1, gi);\nEND_FOR\nFOR si := 0 TO 10 DO\n\tgUI.sky[si].postion := gDev.sky[si].sensor.position;\n\tgUI.sky[si].speed := gDev.sky[si].sensor.speed;\n\tgUI.sky[si].extendPercent := percentCalc(2, si);\nEND_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_0-45", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "//位移值及伸出百分比参数输出\t\nFOR gi := 1 TO 10 DO\n\tgUI.grd[gi].postion := gDev.grd[gi].sensor.position;\n\tgUI.grd[gi].speed := gDev.grd[gi].sensor.speed;\n\tgUI.grd[gi].extendPercent := percentCalc(1, gi);\nEND_FOR\nFOR si := 0 TO 10 DO\n\tgUI.sky[si].postion := gDev.sky[si].sensor.position;\n\tgUI.sky[si].speed := gDev.sky[si].sensor.speed;\n\tgUI.sky[si].extendPercent := percentCalc(2, si);\nEND_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_0-50", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "//位移值及伸出百分比参数输出\t\nFOR gi := 1 TO 10 DO\n\tgUI.grd[gi].postion := gDev.grd[gi].sensor.position;\n\tgUI.grd[gi].speed := gDev.grd[gi].sensor.speed;\n\tgUI.grd[gi].extendPercent := percentCalc(1, gi);\nEND_FOR\nFOR si := 0 TO 10 DO\n\tgUI.sky[si].postion := gDev.sky[si].sensor.position;\n\tgUI.sky[si].speed := gDev.sky[si].sensor.speed;\n\tgUI.sky[si].extendPercent := percentCalc(2, si);\nEND_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_5-55", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "END_FOR\nFOR si := 0 TO 10 DO\n\tgUI.sky[si].postion := gDev.sky[si].sensor.position;\n\tgUI.sky[si].speed := gDev.sky[si].sensor.speed;\n\tgUI.sky[si].extendPercent := percentCalc(2, si);\nEND_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend <> gUI.sky[si].btnRetract THEN\n\t\tgDev.sky[si].state := DevStatus.runing;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_10-60", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "END_FOR\n\n\n//模式判断\npidMode := gUI.mode.usePID;\nautoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend <> gUI.sky[si].btnRetract THEN\n\t\tgDev.sky[si].state := DevStatus.runing;\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.sky[si].btnRetract THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_15-65", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "autoEnableMode := gUI.mode.autoEnable;\nautoButtonMode := NOT gUI.mode.manualButtonSet;\nautoPctMode := NOT gUI.mode.manualPercentSet;\nmanualPidPrmSet := gUI.mode.manualSetPid;\n//command generetor\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend <> gUI.sky[si].btnRetract THEN\n\t\tgDev.sky[si].state := DevStatus.runing;\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.sky[si].btnRetract THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.sky[si].btnExtend THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_20-70", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "FOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend <> gUI.grd[gi].btnRetract THEN\n\t\tgDev.grd[gi].state := DevStatus.runing;\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend <> gUI.sky[si].btnRetract THEN\n\t\tgDev.sky[si].state := DevStatus.runing;\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.sky[si].btnRetract THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.sky[si].timeCounter := 0;\n\t\t\tgDev.sky[si].exeCounter := 0;\n\t\t\tIF gUI.sky[si].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_25-75", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "\t\t\tgUI.grd[gi].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.grd[gi].btnRetract THEN\n\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tgUI.grd[gi].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend <> gUI.sky[si].btnRetract THEN\n\t\tgDev.sky[si].state := DevStatus.runing;\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.sky[si].btnRetract THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.sky[si].timeCounter := 0;\n\t\t\tgDev.sky[si].exeCounter := 0;\n\t\t\tIF gUI.sky[si].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(2, si, gDev.sky[si].vector);\n\t\tELSE\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_30-80", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "\t\tEND_IF\n\tELSE\n\t\tIF gUI.grd[gi].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.grd[gi].timeCounter := 0;\n\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend <> gUI.sky[si].btnRetract THEN\n\t\tgDev.sky[si].state := DevStatus.runing;\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.sky[si].btnRetract THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.sky[si].timeCounter := 0;\n\t\t\tgDev.sky[si].exeCounter := 0;\n\t\t\tIF gUI.sky[si].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(2, si, gDev.sky[si].vector);\n\t\tELSE\n\t\t\tgDev.sky[si].vector := TargetDirect.stop;\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.sky[si].btnStop THEN\n\t\tgDev.sky[si].vector := TargetDirect.stop;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_interfaceAct.st_35-84", "title": "core-PRG\\Barrier_interfaceAct.st", "text": "\t\t\tgDev.grd[gi].exeCounter := 0;\n\t\t\tIF gUI.grd[gi].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.grd[gi].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\t\tELSE\n\t\t\tgDev.grd[gi].vector := TargetDirect.stop;\t\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.grd[gi].btnStop THEN\n\t\tgDev.grd[gi].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend <> gUI.sky[si].btnRetract THEN\n\t\tgDev.sky[si].state := DevStatus.runing;\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.extend;\n\t\tEND_IF\n\t\tIF gUI.sky[si].btnRetract THEN\n\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tgUI.sky[si].btnLast := TargetDirect.retract;\t\t\t\n\t\tEND_IF\n\tELSE\n\t\tIF gUI.sky[si].btnExtend THEN\n\t\t\t//伸缩指令不能同时发出，检测到后进行动作转换，重置计数器\n\t\t\tgDev.sky[si].timeCounter := 0;\n\t\t\tgDev.sky[si].exeCounter := 0;\n\t\t\tIF gUI.sky[si].btnLast = TargetDirect.retract THEN\n\t\t\t\tgDev.sky[si].vector := TargetDirect.extend;\n\t\t\tELSE\n\t\t\t\tgDev.sky[si].vector := TargetDirect.retract;\n\t\t\tEND_IF\n\t\t\tsetButtonByDirect(2, si, gDev.sky[si].vector);\n\t\tELSE\n\t\t\tgDev.sky[si].vector := TargetDirect.stop;\n\t\tEND_IF\n\tEND_IF\n\tIF gUI.sky[si].btnStop THEN\n\t\tgDev.sky[si].vector := TargetDirect.stop;\n\t\tsetButtonByDirect(1, gi, gDev.grd[gi].vector);\n\tEND_IF\nEND_FOR\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_interfaceAct.st"], "repo": "core", "line_no": 35, "start_line_no": 35, "end_line_no": 84, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_manualExecute_method.st_0-25", "title": "core-PRG\\Barrier_manualExecute_method.st", "text": "METHOD manualExecute\nVAR_INPUT\nEND_VAR\nVAR\n\t//targetDirect\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].pwrEnable THEN\n\t\tcmdExecutor0(level := 1, idx := gi, \n\t\t\t\t\tdirect := gDev.grd[gi].vector, \n\t\t\t\t\tpercent := gUI.grd[gi].pwrPercent);\n\tELSE\n\t\tcmdExecutor0(level := 1, idx := gi, direct := 3, percent := 0);\t\t\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].pwrEnable THEN\n\t\tcmdExecutor0(level := 2, idx := si, \n\t\t\t\t\tdirect := gDev.sky[si].vector, \n\t\t\t\t\tpercent := gUI.sky[si].pwrPercent);\t\n\tELSE\n\t\tcmdExecutor0(level := 2, idx := si, direct := 3, percent := 0);\t\t\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_manualExecute_method.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_manualExecute_method.st_0-27", "title": "core-PRG\\Barrier_manualExecute_method.st", "text": "METHOD manualExecute\nVAR_INPUT\nEND_VAR\nVAR\n\t//targetDirect\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].pwrEnable THEN\n\t\tcmdExecutor0(level := 1, idx := gi, \n\t\t\t\t\tdirect := gDev.grd[gi].vector, \n\t\t\t\t\tpercent := gUI.grd[gi].pwrPercent);\n\tELSE\n\t\tcmdExecutor0(level := 1, idx := gi, direct := 3, percent := 0);\t\t\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].pwrEnable THEN\n\t\tcmdExecutor0(level := 2, idx := si, \n\t\t\t\t\tdirect := gDev.sky[si].vector, \n\t\t\t\t\tpercent := gUI.sky[si].pwrPercent);\t\n\tELSE\n\t\tcmdExecutor0(level := 2, idx := si, direct := 3, percent := 0);\t\t\n\tEND_IF\nEND_FOR\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_manualExecute_method.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 27, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidCalc_method.st_0-25", "title": "core-PRG\\Barrier_pidCalc_method.st", "text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidCalc_method.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidCalc_method.st_0-30", "title": "core-PRG\\Barrier_pidCalc_method.st", "text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidCalc_method.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidCalc_method.st_0-35", "title": "core-PRG\\Barrier_pidCalc_method.st", "text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidCalc_method.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidCalc_method.st_0-40", "title": "core-PRG\\Barrier_pidCalc_method.st", "text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.sky[si].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidCalc_method.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidCalc_method.st_0-45", "title": "core-PRG\\Barrier_pidCalc_method.st", "text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.sky[si].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidCalc_method.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidCalc_method.st_0-50", "title": "core-PRG\\Barrier_pidCalc_method.st", "text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.sky[si].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\tEND_CASE\n\t\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidCalc_method.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidCalc_method.st_5-55", "title": "core-PRG\\Barrier_pidCalc_method.st", "text": "END_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.sky[si].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\tEND_CASE\n\t\t\n\t\t\n\tEND_IF\n\tskyPid[si](idx := si, isReset := resetPidParam, cycTimer := 0.01, res =>);\nEND_FOR\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidCalc_method.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidExecute_method.st_0-25", "title": "core-PRG\\Barrier_pidExecute_method.st", "text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//起竖挡板执行开关量\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidExecute_method.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidExecute_method.st_0-30", "title": "core-PRG\\Barrier_pidExecute_method.st", "text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//起竖挡板执行开关量\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidExecute_method.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidExecute_method.st_0-35", "title": "core-PRG\\Barrier_pidExecute_method.st", "text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//起竖挡板执行开关量\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);\n\tEND_IF\nEND_IF\n(*\nIF NOT gDev.grd[7].ctrl.isError THEN\n\tIF gDev.grd[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := gDev.grd[7].ctrl.exPct);\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidExecute_method.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidExecute_method.st_0-40", "title": "core-PRG\\Barrier_pidExecute_method.st", "text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//起竖挡板执行开关量\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);\n\tEND_IF\nEND_IF\n(*\nIF NOT gDev.grd[7].ctrl.isError THEN\n\tIF gDev.grd[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := gDev.grd[7].ctrl.exPct);\n\tEND_IF\n\tIF gDev.grd[7].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := -gDev.grd[7].ctrl.rtPct);\n\tEND_IF\nEND_IF\t\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidExecute_method.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidExecute_method.st_0-45", "title": "core-PRG\\Barrier_pidExecute_method.st", "text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//起竖挡板执行开关量\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);\n\tEND_IF\nEND_IF\n(*\nIF NOT gDev.grd[7].ctrl.isError THEN\n\tIF gDev.grd[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := gDev.grd[7].ctrl.exPct);\n\tEND_IF\n\tIF gDev.grd[7].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := -gDev.grd[7].ctrl.rtPct);\n\tEND_IF\nEND_IF\t\nIF NOT gDev.sky[7].ctrl.isError THEN\n\tIF gDev.sky[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 7, percent := gDev.sky[7].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[7].vector = TargetDirect.retract THEN\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidExecute_method.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidExecute_method.st_0-50", "title": "core-PRG\\Barrier_pidExecute_method.st", "text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//起竖挡板执行开关量\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);\n\tEND_IF\nEND_IF\n(*\nIF NOT gDev.grd[7].ctrl.isError THEN\n\tIF gDev.grd[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := gDev.grd[7].ctrl.exPct);\n\tEND_IF\n\tIF gDev.grd[7].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := -gDev.grd[7].ctrl.rtPct);\n\tEND_IF\nEND_IF\t\nIF NOT gDev.sky[7].ctrl.isError THEN\n\tIF gDev.sky[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 7, percent := gDev.sky[7].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[7].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 7, percent := -gDev.sky[7].ctrl.rtPct);\n\tEND_IF\nEND_IF\n*)\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidExecute_method.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_0-25", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_0-30", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_0-35", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_0-40", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_0-45", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_0-50", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_5-55", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_10-60", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "END_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_15-65", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "IF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_20-70", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n\t\tgUI.pid.devSetPos := gDev.sky[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := skyPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_25-75", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n\t\tgUI.pid.devSetPos := gDev.sky[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := skyPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.sky[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.sky[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.sky[idx].ctrl.ff;\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_pidTestUi_method.st_30-78", "title": "core-PRG\\Barrier_pidTestUi_method.st", "text": "\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n\t\tgUI.pid.devSetPos := gDev.sky[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := skyPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.sky[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.sky[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.sky[idx].ctrl.ff;\n\n\tEND_IF\t\t\t\n\nEND_IF", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_pidTestUi_method.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 78, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_setExecutePercent.st_0-25", "title": "core-PRG\\Barrier_setExecutePercent.st", "text": "FOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.exPct;\n\tEND_IF\n\tIF gUI.grd[gi].btnRetract THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.exPct;\n\tEND_IF\n\tIF gUI.sky[si].btnRetract THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\n//grd[5]比例输出特判(延时时间过长，小信号无法动作，动作后速度过快的问题)使用速度传感器判定\nIF gUI.grd[5].btnExtend THEN \n\tIF ABS(gDev.grd[5].sensor.extendVal - gDev.grd[5].sensor.position) < 25 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\nIF gUI.grd[5].btnRetract THEN \n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_setExecutePercent.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_setExecutePercent.st_0-30", "title": "core-PRG\\Barrier_setExecutePercent.st", "text": "FOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.exPct;\n\tEND_IF\n\tIF gUI.grd[gi].btnRetract THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.exPct;\n\tEND_IF\n\tIF gUI.sky[si].btnRetract THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\n//grd[5]比例输出特判(延时时间过长，小信号无法动作，动作后速度过快的问题)使用速度传感器判定\nIF gUI.grd[5].btnExtend THEN \n\tIF ABS(gDev.grd[5].sensor.extendVal - gDev.grd[5].sensor.position) < 25 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\nIF gUI.grd[5].btnRetract THEN \n\tIF ABS(gDev.grd[5].sensor.retractVal - gDev.grd[5].sensor.position) < 30 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_setExecutePercent.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_setExecutePercent.st_0-35", "title": "core-PRG\\Barrier_setExecutePercent.st", "text": "FOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.exPct;\n\tEND_IF\n\tIF gUI.grd[gi].btnRetract THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.exPct;\n\tEND_IF\n\tIF gUI.sky[si].btnRetract THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\n//grd[5]比例输出特判(延时时间过长，小信号无法动作，动作后速度过快的问题)使用速度传感器判定\nIF gUI.grd[5].btnExtend THEN \n\tIF ABS(gDev.grd[5].sensor.extendVal - gDev.grd[5].sensor.position) < 25 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\nIF gUI.grd[5].btnRetract THEN \n\tIF ABS(gDev.grd[5].sensor.retractVal - gDev.grd[5].sensor.position) < 30 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\n\n//其他特判\n(*IF gUI.grd[2].btnRetract THEN \n\tIF ABS(gDev.grd[2].sensor.retractVal - gDev.grd[2].sensor.position) < 20 THEN\n\t\tgUI.grd[2].pwrPercent := 21;\t\n\tEND_IFa\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_setExecutePercent.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_setExecutePercent.st_0-40", "title": "core-PRG\\Barrier_setExecutePercent.st", "text": "FOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.exPct;\n\tEND_IF\n\tIF gUI.grd[gi].btnRetract THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.exPct;\n\tEND_IF\n\tIF gUI.sky[si].btnRetract THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\n//grd[5]比例输出特判(延时时间过长，小信号无法动作，动作后速度过快的问题)使用速度传感器判定\nIF gUI.grd[5].btnExtend THEN \n\tIF ABS(gDev.grd[5].sensor.extendVal - gDev.grd[5].sensor.position) < 25 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\nIF gUI.grd[5].btnRetract THEN \n\tIF ABS(gDev.grd[5].sensor.retractVal - gDev.grd[5].sensor.position) < 30 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\n\n//其他特判\n(*IF gUI.grd[2].btnRetract THEN \n\tIF ABS(gDev.grd[2].sensor.retractVal - gDev.grd[2].sensor.position) < 20 THEN\n\t\tgUI.grd[2].pwrPercent := 21;\t\n\tEND_IFa\nEND_IF*)\nIF gUI.grd[6].btnRetract THEN \n\tIF ABS(gDev.grd[6].sensor.retractVal - gDev.grd[6].sensor.position) < 25 THEN\n\t\tgUI.grd[6].pwrPercent := 21;\t\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_setExecutePercent.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_setExecutePercent.st_0-42", "title": "core-PRG\\Barrier_setExecutePercent.st", "text": "FOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].btnExtend THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.exPct;\n\tEND_IF\n\tIF gUI.grd[gi].btnRetract THEN\n\t\tgUI.grd[gi].pwrPercent := gDev.grd[gi].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].btnExtend THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.exPct;\n\tEND_IF\n\tIF gUI.sky[si].btnRetract THEN\n\t\tgUI.sky[si].pwrPercent := gDev.sky[si].ctrl.rtPct;\n\tEND_IF\nEND_FOR\n\n//grd[5]比例输出特判(延时时间过长，小信号无法动作，动作后速度过快的问题)使用速度传感器判定\nIF gUI.grd[5].btnExtend THEN \n\tIF ABS(gDev.grd[5].sensor.extendVal - gDev.grd[5].sensor.position) < 25 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\nIF gUI.grd[5].btnRetract THEN \n\tIF ABS(gDev.grd[5].sensor.retractVal - gDev.grd[5].sensor.position) < 30 THEN\n\t\tgUI.grd[5].pwrPercent := 22;\t\n\tEND_IF\nEND_IF\n\n//其他特判\n(*IF gUI.grd[2].btnRetract THEN \n\tIF ABS(gDev.grd[2].sensor.retractVal - gDev.grd[2].sensor.position) < 20 THEN\n\t\tgUI.grd[2].pwrPercent := 21;\t\n\tEND_IFa\nEND_IF*)\nIF gUI.grd[6].btnRetract THEN \n\tIF ABS(gDev.grd[6].sensor.retractVal - gDev.grd[6].sensor.position) < 25 THEN\n\t\tgUI.grd[6].pwrPercent := 21;\t\n\tEND_IF\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_setExecutePercent.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 42, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_0-25", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_0-30", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_0-35", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_0-40", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_0-45", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_0-50", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "METHOD pidTestUi\nVAR_INPUT\nEND_VAR\n\nVAR\n\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_5-55", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "\nEND_VAR\n\nIF gUI.pid.level = 1 AND gUI.pid.idx = 0 THEN\t//地轨从1-10，天轨从0-10\n\tRETURN;\nEND_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_10-60", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "END_IF\n\nIF gUI.mode.syncExt THEN\n\tgUI.grd[gUI.pid.idx].btnExtend := TRUE;gUI.sky[gUI.pid.idx].btnExtend := TRUE;\nEND_IF\nIF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_15-65", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "IF gUI.mode.syncRct THEN\n\tgUI.grd[gUI.pid.idx].btnRetract := TRUE;gUI.sky[gUI.pid.idx].btnRetract := TRUE;\nEND_IF\n\nIF (NOT gUI.pid.posBtn) THEN\n\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_20-70", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "\tRETURN;\nEND_IF\n\nIF gUI.pid.level = 1 THEN \t//地轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n\t\tgUI.pid.devSetPos := gDev.sky[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := skyPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_25-75", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "\t\t\n\t\tgUI.pid.devSetPos := gDev.grd[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := grdPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n\t\tgUI.pid.devSetPos := gDev.sky[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := skyPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.sky[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.sky[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.sky[idx].ctrl.ff;\n\n", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "core_PRG_Barrier_updateStatus_method.st_30-78", "title": "core-PRG\\Barrier_updateStatus_method.st", "text": "\t\tgUI.pid.pos.Act_Val := gDev.grd[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.grd[idx].ctrl.pos.OUT;\n\t\tgDev.grd[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.grd[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.grd[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.grd[idx].ctrl.ff := gUI.pid.ff;\t\n\t\t\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.grd[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.grd[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.grd[idx].ctrl.ff;\t\n\tEND_IF\t\t\t\nEND_IF\nIF gUI.pid.level = 2 THEN \t\t\t\t\t//天轨部分\n\tIF idx = gUI.pid.idx THEN\t\t//标号相同更新设备参数\n\t\t\n\t\t//-----------------位置环------------------------------//\n\t\tgUI.pid.pos.Act_Val := gDev.sky[idx].sensor.position;\n\t\tgUI.pid.pos.Err := gUI.pid.pos.Set_Point - gUI.pid.pos.Act_Val;\n\t\tgUI.pid.pos.OUT := gDev.sky[idx].ctrl.pos.OUT;\n\t\tgDev.sky[idx].ctrl.pos := gUI.pid.pos;\n\t\t//-----------------速度环------------------------------//\n\t\tgUI.pid.spd.Act_Val := gDev.sky[idx].sensor.speed;\n\t\tgUI.pid.spd.Err := gUI.pid.spd.Set_Point - gUI.pid.spd.Act_Val;\n\t\tgUI.pid.spd.OUT := gDev.sky[idx].ctrl.spd.OUT;\n\t\tgDev.sky[idx].ctrl.spd := gUI.pid.spd;\n\t\t//-----------------前馈参数------------------------------//\n\t\tgDev.sky[idx].ctrl.ff := gUI.pid.ff;\t\n\n\t\tgUI.pid.devSetPos := gDev.sky[idx].ctrl.pos.Set_Point;\n\t\tgUI.pid.executeVal := skyPid[idx].res;\n\t\tresetPidParam := gUI.pid.rstPidBtn;\n\n\tELSE\t\t\t\t\t\t\t//标号不同，更新界面参数\n\t\tidx := gUI.pid.idx;\n\t\tgUI.pid.pos := gDev.sky[idx].ctrl.pos;\n\t\tgUI.pid.spd := gDev.sky[idx].ctrl.spd;\n\t\tgUI.pid.ff\t:= gDev.sky[idx].ctrl.ff;\n\n\tEND_IF\t\t\t\n\nEND_IF", "metadata": [{"fpath_tuple": ["core", "PRG\\Barrier_updateStatus_method.st"], "repo": "core", "line_no": 30, "start_line_no": 30, "end_line_no": 78, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_CmdPercentSet.st_0-6", "title": "core-struct\\CmdPercentSet.st", "text": "TYPE CmdPercentSet :\nSTRUCT\n\textendPercent\t\t:WORD;\t\t//0-65535\n\tretractPercent\t\t:WORD;\t\t//0-65535\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\CmdPercentSet.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_DeviceUnit.st_0-17", "title": "core-struct\\DeviceUnit.st", "text": "TYPE DeviceUnit :\nSTRUCT\n\t\t\n\tsensor\t\t\t:SensorInfo;\t\t//传感器参数\n\tctrl\t\t\t:DevPid;\t\t\t//pid等计算控制执行参数\t\n\t\n\tvector\t\t\t:TargetDirect;\t\t//指令运行方向 1-伸出 2-缩回 3-停止\n\tstate\t\t\t:DevStatus;\t\t\t//设备状态 0-未知 1-运行 2-伸出到位 3-缩回到位 4-错误\n\t\n\ttimeCounter\t\t:INT;\t\t\t\t//timeoutCounter超时计数器\n\texeCounter\t\t:INT;\t\t\t\t//ExecuteCounter额外执行时间计数\n\n\tcurrent\t\t\t:ARRAY[1..2] OF WORD;\t//电流mA\t[i,j] -> 地轨挡板i的电流，j=1伸出电流，j=2缩回电流\n\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\DeviceUnit.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_DevPid.st_0-16", "title": "core-struct\\DevPid.st", "text": "TYPE DevPid :\nSTRUCT\n\tpos\t\t\t:PidParam;\t\t\t//位置pid参数\n\tspd\t\t\t:PidParam;\t\t\t//速度pid参数\n\tff\t\t\t:FeedForward;\t\t//前馈参数\n//\tdp\t\t\t:DynamicPlanning;\t//规划参数\n\texPct\t\t:REAL;\t\t\t\t//伸出默认比例量0-100\n\trtPct\t\t:REAL;\t\t\t\t//缩回默认比例量0-100\n\t\n\tisError\t\t:BOOL;\t\t\t\t//当传感器数据为0时，报错并不执行pid\n\t\n\textVal\t\t:REAL;\t\t\t\t//设定伸出位移值\n\trtcVal\t\t:REAL;\t\t\t\t//设定缩回位移值\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\DevPid.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_DevStatus.st_0-15", "title": "core-struct\\DevStatus.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE DevStatus :\n(\n\tunknown \t:= 0,\n\t\n\truning\t\t:= 1,\n\t\n\textended\t:= 2,\n\t\n\tretracted\t:= 3,\n\t\n\terror\t\t:= 4\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\DevStatus.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 15, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_FeedForward.st_0-20", "title": "core-struct\\FeedForward.st", "text": "TYPE FeedForward :\nSTRUCT\n\t\n\tpstThreshold\t:REAL;\t//正向设定阈值\t\n\tpstKv\t\t\t:REAL;\n\tpstKa\t\t\t:REAL;\n\tpstKaa\t\t\t:REAL;\n\tnegThreshold\t:REAL;\t//反向设定阈值\n\tnegKv\t\t\t:REAL;\n\tnegKa\t\t\t:REAL;\n\tnegKaa\t\t\t:REAL;\n\t\n\n\t\n//\tpstFactor\t\t:REAL;\t//正向设定速度系数因子\n//\tnegFactor\t\t:REAL;\t//反向设定速度系数因子\n\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\FeedForward.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 20, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_PidParam.st_0-13", "title": "core-struct\\PidParam.st", "text": "TYPE PidParam :\nSTRUCT\n\tKp\t\t\t:REAL;\n\tKi\t\t\t:REAL;\n\tKd\t\t\t:REAL;\n\tSet_Point\t:REAL;\n\tMax_Val\t\t:REAL;\n\tMax_ACC\t\t:REAL;\n\tAct_Val\t\t:REAL;\n\tErr\t\t\t:REAL;\n\tOUT\t\t\t:REAL;\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\PidParam.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_SensorInfo.st_0-12", "title": "core-struct\\SensorInfo.st", "text": "TYPE SensorInfo :\nSTRUCT\n\t\n\tposition\t:REAL;\t//实时位移\n\tspeed\t\t:REAL;\t//实时速度\n\t\n\t//记录最大最小位移值\n\tretractVal\t:REAL;\t//缩回到位值\n\textendVal\t:REAL;\t//伸出到位值\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\SensorInfo.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_TargetDirect.st_0-11", "title": "core-struct\\TargetDirect.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE TargetDirect :\n(\n\textend \t:= 1,\t//伸出\n\t\n\tretract := 2,\t//缩回\n\t\n\tstop\t:= 3\t//停止\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\TargetDirect.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_UIMode.st_0-16", "title": "core-struct\\UIMode.st", "text": "TYPE UIMode :\nSTRUCT\n\tmanualButtonSet\t\t\t:BOOL;\t\t//手动复位按钮模式\n\tusePID\t\t\t\t\t:BOOL;\t\t//使用pid\n\tautoEnable\t\t\t\t:BOOL;\t\t//自动使能\n\tmanualPercentSet\t\t:BOOL;\t\t//手动设定比例量\n\tmanualSetPid\t\t\t:BOOL;\t\t//手动调节pid参数，可通过pid测试界面设定目标位移值\n\t\n\tsyncExt\t\t\t\t\t:BOOL;\t\t//同步伸\n\tsyncRct\t\t\t\t\t:BOOL;\t\t//同步缩\n\t\n\thydPowerOn\t\t\t\t:BOOL;\t\t//液压站开启 modbus 使用\n\thydPowerOff\t\t\t\t:BOOL;\t\t//液压站关闭 modbus 使用\n\thydPowerReset\t\t\t:BOOL;\t\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\UIMode.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_UiPid.st_0-25", "title": "core-struct\\UiPid.st", "text": "TYPE UiPid :\nSTRUCT\n\tpos\t\t\t\t:PidParam;\t\t\t//位置pid参数\n\tspd\t\t\t\t:PidParam;\t\t\t//速度pid参数\n\tff\t\t\t\t:FeedForward;\t\t//前馈参数\n\n\tlevel\t\t\t:INT;\t\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT;\t\t\t\t//挡板索引编号\n\t\n\tdevSetPos\t\t:REAL;\t\t\t\t//设备中的设定位置点(用于观测)\n\texecuteVal\t\t:REAL;\t\t\t\t//执行值(-100.0~+100.0)\n\n\t\n\tposBtn\t\t\t:BOOL;\t\t\t//位置控制按钮，按下实时更新交互参数\n\trstPidBtn\t\t:BOOL;\t\t\t//reset pid param button重置pid参数按钮\n\tpwrPercent\t\t:REAL;\t\t\t//比例阀百分比 power-percent 0-100\t\n\t\n\t\n\t\n\t\n\textendBtn\t\t:BOOL;\n\tretractBtn\t\t:BOOL;\n\tstopBtn\t\t\t:BOOL;\n\n\n", "metadata": [{"fpath_tuple": ["core", "struct\\UiPid.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_UiPid.st_0-30", "title": "core-struct\\UiPid.st", "text": "TYPE UiPid :\nSTRUCT\n\tpos\t\t\t\t:PidParam;\t\t\t//位置pid参数\n\tspd\t\t\t\t:PidParam;\t\t\t//速度pid参数\n\tff\t\t\t\t:FeedForward;\t\t//前馈参数\n\n\tlevel\t\t\t:INT;\t\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT;\t\t\t\t//挡板索引编号\n\t\n\tdevSetPos\t\t:REAL;\t\t\t\t//设备中的设定位置点(用于观测)\n\texecuteVal\t\t:REAL;\t\t\t\t//执行值(-100.0~+100.0)\n\n\t\n\tposBtn\t\t\t:BOOL;\t\t\t//位置控制按钮，按下实时更新交互参数\n\trstPidBtn\t\t:BOOL;\t\t\t//reset pid param button重置pid参数按钮\n\tpwrPercent\t\t:REAL;\t\t\t//比例阀百分比 power-percent 0-100\t\n\t\n\t\n\t\n\t\n\textendBtn\t\t:BOOL;\n\tretractBtn\t\t:BOOL;\n\tstopBtn\t\t\t:BOOL;\n\n\n\t\n\t\n(*\tposErr\t\t\t:REAL;\n\tposOut\t\t\t:REAL;\n\tspdErr\t\t\t:REAL;\n", "metadata": [{"fpath_tuple": ["core", "struct\\UiPid.st"], "repo": "core", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_UiPid.st_0-33", "title": "core-struct\\UiPid.st", "text": "TYPE UiPid :\nSTRUCT\n\tpos\t\t\t\t:PidParam;\t\t\t//位置pid参数\n\tspd\t\t\t\t:PidParam;\t\t\t//速度pid参数\n\tff\t\t\t\t:FeedForward;\t\t//前馈参数\n\n\tlevel\t\t\t:INT;\t\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t\t:INT;\t\t\t\t//挡板索引编号\n\t\n\tdevSetPos\t\t:REAL;\t\t\t\t//设备中的设定位置点(用于观测)\n\texecuteVal\t\t:REAL;\t\t\t\t//执行值(-100.0~+100.0)\n\n\t\n\tposBtn\t\t\t:BOOL;\t\t\t//位置控制按钮，按下实时更新交互参数\n\trstPidBtn\t\t:BOOL;\t\t\t//reset pid param button重置pid参数按钮\n\tpwrPercent\t\t:REAL;\t\t\t//比例阀百分比 power-percent 0-100\t\n\t\n\t\n\t\n\t\n\textendBtn\t\t:BOOL;\n\tretractBtn\t\t:BOOL;\n\tstopBtn\t\t\t:BOOL;\n\n\n\t\n\t\n(*\tposErr\t\t\t:REAL;\n\tposOut\t\t\t:REAL;\n\tspdErr\t\t\t:REAL;\n\tspdOut\t\t\t:REAL;*)\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\UiPid.st"], "repo": "core", "line_no": 10, "start_line_no": 0, "end_line_no": 33, "window_size": 50, "slice_size": 5}]}
{"_id": "core_struct_UIUnit.st_0-24", "title": "core-struct\\UIUnit.st", "text": "TYPE UIUnit :\nSTRUCT\n\t//cmd\n\tpwrEnable\t\t\t:BOOL;\t\t//比例阀使能   power-enable\n\tpwrPercent\t\t\t:REAL;\t\t//比例阀百分比 power-percent 0-100\n\t\n\t//button\n\tbtnExtend\t\t\t:BOOL;\n\tbtnRetract\t\t\t:BOOL;\n\tbtnStop\t\t\t\t:BOOL;\n\tbtnLast\t\t\t\t:TargetDirect;\t//上次动作方向\n\t\n\t//info display\n\tname\t\t\t\t:STRING;\t//挡板名\n\twname\t\t\t\t:WSTRING;\t//山河命名\n\thzname\t\t\t\t:WSTRING;\t//hua zhong ming ming\n\tpostion\t\t\t\t:REAL;\t\t//位移值\n\tspeed\t\t\t\t:REAL;\n\textendPercent\t\t:REAL;\t\t//伸出百分比 extend-percent\n\t\n\t\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["core", "struct\\UIUnit.st"], "repo": "core", "line_no": 0, "start_line_no": 0, "end_line_no": 24, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor.st_0-25", "title": "modbus-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor.st_0-30", "title": "modbus-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor.st_0-31", "title": "modbus-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 31, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor0.st_0-25", "title": "modbus-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor0.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor0.st_0-30", "title": "modbus-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor0.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor0.st_0-35", "title": "modbus-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor0.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor0.st_0-40", "title": "modbus-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor0.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor0.st_0-45", "title": "modbus-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor0.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor0.st_0-50", "title": "modbus-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor0.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_CommandExecutor0.st_5-52", "title": "modbus-FUN\\CommandExecutor0.st", "text": "\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\t\nEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\CommandExecutor0.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 52, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_DataReverse.st_0-7", "title": "modbus-FUN\\DataReverse.st", "text": "FUNCTION_BLOCK DataReverse\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\DataReverse.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 7, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_DataReverse_cmdReverse.st_0-11", "title": "modbus-FUN\\DataReverse_cmdReverse.st", "text": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR\n\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nEND_IF\nIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "FUN\\DataReverse_cmdReverse.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave.st_0-12", "title": "modbus-FUN\\fileSave.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_close.st_0-17", "title": "modbus-FUN\\fileSave_close.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_close.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_createDir.st_0-19", "title": "modbus-FUN\\fileSave_createDir.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_createDir.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 19, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_0-25", "title": "modbus-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_0-30", "title": "modbus-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_0-35", "title": "modbus-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_0-40", "title": "modbus-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_0-45", "title": "modbus-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_0-50", "title": "modbus-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_5-55", "title": "modbus-FUN\\fileSave_new.st", "text": "END_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_10-60", "title": "modbus-FUN\\fileSave_new.st", "text": "\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_new.st_15-64", "title": "modbus-FUN\\fileSave_new.st", "text": "\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n\n\tfileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_WRITE, pResult:= ADR(F_err));\n\tlineCount := -1;\n\t//fileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_APPEND, pResult:= ADR(F_err));", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_new.st"], "repo": "modbus", "line_no": 15, "start_line_no": 15, "end_line_no": 64, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_write.st_0-25", "title": "modbus-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_write.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_write.st_0-30", "title": "modbus-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_write.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_write.st_0-35", "title": "modbus-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_write.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_fileSave_write.st_0-39", "title": "modbus-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n\t\n\tSysFileWrite(hFile:=fileHandle , pbyBuffer:= ADR(data) , ulSize:= DINT_TO_DWORD(SysStrLen(data)) , pResult:= ADR(F_err));\t\t// 写入数据\n\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "FUN\\fileSave_write.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_0-25", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_0-30", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_0-35", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_0-40", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_0-45", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_0-50", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus华中挡板地址编号对应本地索引编号\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_5-55", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "VAR_OUTPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_10-60", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "VAR\nEND_VAR\n\n(**\n * 将华中指令解析为要动作挡板的标号\n * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_15-65", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": " * (level:1->地轨\t2->天轨)(phyIdx:内存物理地址对应数组索引)\n *)\nCASE section OF\n\t1://区域限定1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tgrd2\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_20-70", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tgrd7\n\t\tEND_CASE\n\t4://区域限定4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_25-75", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tgrd7\n\t\tEND_CASE\n\t4://区域限定4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\n\t\t\t2:\tphyIdx := 3;\n\t\t\t3:\tphyIdx := 4;\n\t\t\t4:\tphyIdx := 5;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_30-80", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tgrd7\n\t\tEND_CASE\n\t4://区域限定4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\n\t\t\t2:\tphyIdx := 3;\n\t\t\t3:\tphyIdx := 4;\n\t\t\t4:\tphyIdx := 5;\n\t\t\t5:\tphyIdx := 6;\n\t\t\t6:\tphyIdx := 8;\n\t\t\t7:\tphyIdx := 9;\n\t\t\t8:\tphyIdx := 10;\n\t\t\t9:\tphyIdx := 2;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsLogicToPhy.st_35-83", "title": "modbus-FUN\\mdbsLogicToPhy.st", "text": "\t2://区域限定2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//起竖\t->\tsky0\n\t\tEND_CASE\n\n\t3://区域限定3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//横1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//横2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//横3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//横4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//横5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//横6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//横7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//横8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//纵1\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//纵2\t->\tgrd7\n\t\tEND_CASE\n\t4://区域限定4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\n\t\t\t2:\tphyIdx := 3;\n\t\t\t3:\tphyIdx := 4;\n\t\t\t4:\tphyIdx := 5;\n\t\t\t5:\tphyIdx := 6;\n\t\t\t6:\tphyIdx := 8;\n\t\t\t7:\tphyIdx := 9;\n\t\t\t8:\tphyIdx := 10;\n\t\t\t9:\tphyIdx := 2;\n\t\t\t10:\tphyIdx := 7;\n\t\tEND_CASE\nEND_CASE", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsLogicToPhy.st"], "repo": "modbus", "line_no": 35, "start_line_no": 35, "end_line_no": 83, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsNumToIdx.st_0-25", "title": "modbus-FUN\\mdbsNumToIdx.st", "text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//地轨\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsNumToIdx.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsNumToIdx.st_0-30", "title": "modbus-FUN\\mdbsNumToIdx.st", "text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//地轨\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsNumToIdx.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsNumToIdx.st_0-35", "title": "modbus-FUN\\mdbsNumToIdx.st", "text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//地轨\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsNumToIdx.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsNumToIdx.st_0-40", "title": "modbus-FUN\\mdbsNumToIdx.st", "text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//地轨\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n\t\t52020:\tlevel := 2;\tidx := 7;\n\t\t53000:\tlevel := 2;\tidx := 0;\n\t\t53010:\tlevel := 2;\tidx := 0;\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsNumToIdx.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_0-25", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_0-30", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_0-35", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_0-40", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_0-45", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_0-50", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus本地索引对应回传华中的状态地址\nVAR_INPUT\n\tsection\t\t:INT;\t//区域限定(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//内存物理地址对应数组索引\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_5-55", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "VAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//华中对应的地址\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t纵2\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t横6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t横7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t横8\t\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_10-60", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "\n(**\n * 输入挡板标号，返回华中需要的寄存器地址号\n *)\nCASE section OF\n\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t纵2\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t横6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t横7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t横8\t\n\t\tEND_CASE\n\t\n\t4://区域限定(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t起竖\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t横1\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_15-65", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "\t1://区域限定(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t横1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t纵1\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t横2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t纵2\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t横6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t横7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t横8\t\n\t\tEND_CASE\n\t\n\t4://区域限定(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t起竖\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t横1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t横2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t横3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t横4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t横5\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_20-70", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t横3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t横4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t横5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t纵2\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t横6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t纵2\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t横6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t横7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t横8\t\n\t\tEND_CASE\n\t\n\t4://区域限定(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t起竖\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t横1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t横2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t横3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t横4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t横5\n\t\t\t7:\tlgcIdx := 184;\t\t//sky7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 180;\t\t//sky8r\t->\t横6\n\t\t\t9:\tlgcIdx := 181;\t\t//sky9r\t->\t横7\n\t\t\t10:\tlgcIdx := 182;\t\t//sky10r->\t横8\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_mdbsPhyToLogic.st_25-71", "title": "modbus-FUN\\mdbsPhyToLogic.st", "text": "\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t横7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t横8\t230\n\t\tEND_CASE\n\t2://区域限定(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t横1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t横2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t横3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t横4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t横5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t横6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t横7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t横8\n\t\tEND_CASE\n\t3://区域限定(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t起竖\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t横1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t纵1\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t横2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t横3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t横4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t横5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t纵2\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t横6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t横7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t横8\t\n\t\tEND_CASE\n\t\n\t4://区域限定(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t起竖\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t横1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t纵1\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t横2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t横3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t横4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t横5\n\t\t\t7:\tlgcIdx := 184;\t\t//sky7r\t->\t纵2\n\t\t\t8:\tlgcIdx := 180;\t\t//sky8r\t->\t横6\n\t\t\t9:\tlgcIdx := 181;\t\t//sky9r\t->\t横7\n\t\t\t10:\tlgcIdx := 182;\t\t//sky10r->\t横8\n\t\tEND_CASE\nEND_CASE", "metadata": [{"fpath_tuple": ["modbus", "FUN\\mdbsPhyToLogic.st"], "repo": "modbus", "line_no": 25, "start_line_no": 25, "end_line_no": 71, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_percentCalc.st_0-25", "title": "modbus-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\percentCalc.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_percentCalc.st_0-28", "title": "modbus-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n\t\tp := gDev.sky[idx].sensor.extendVal - gDev.sky[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\percentCalc.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_setButtonByDirect.st_0-25", "title": "modbus-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\setButtonByDirect.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_setButtonByDirect.st_0-30", "title": "modbus-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\setButtonByDirect.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_setButtonByDirect.st_0-35", "title": "modbus-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\setButtonByDirect.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_setButtonByDirect.st_0-40", "title": "modbus-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\setButtonByDirect.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_setButtonByDirect.st_0-45", "title": "modbus-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\setButtonByDirect.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_setButtonByDirect.st_0-48", "title": "modbus-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "metadata": [{"fpath_tuple": ["modbus", "FUN\\setButtonByDirect.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 48, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_tcpUpload_send.st_0-25", "title": "modbus-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\tcpUpload_send.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_tcpUpload_send.st_0-30", "title": "modbus-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\tcpUpload_send.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_tcpUpload_send.st_0-35", "title": "modbus-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\tcpUpload_send.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_tcpUpload_send.st_0-40", "title": "modbus-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\tcpUpload_send.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_tcpUpload_send.st_0-44", "title": "modbus-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n\t    tcpConnector.Disconnect();\n\t\ttcpState := 0;\n\nEND_CASE", "metadata": [{"fpath_tuple": ["modbus", "FUN\\tcpUpload_send.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 44, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_updateDevStatus.st_0-25", "title": "modbus-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\updateDevStatus.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_updateDevStatus.st_0-30", "title": "modbus-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\updateDevStatus.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_updateDevStatus.st_0-35", "title": "modbus-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\updateDevStatus.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_updateDevStatus.st_0-40", "title": "modbus-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\updateDevStatus.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_updateDevStatus.st_0-45", "title": "modbus-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\updateDevStatus.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_updateDevStatus.st_0-50", "title": "modbus-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\n", "metadata": [{"fpath_tuple": ["modbus", "FUN\\updateDevStatus.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_FUN_updateDevStatus.st_5-53", "title": "modbus-FUN\\updateDevStatus.st", "text": "END_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\nEND_CASE\n\nupdateDevStatus := stat;", "metadata": [{"fpath_tuple": ["modbus", "FUN\\updateDevStatus.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 53, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_global_gCan.st_0-25", "title": "modbus-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n", "metadata": [{"fpath_tuple": ["modbus", "global\\gCan.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_global_gCan.st_0-28", "title": "modbus-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n//*)\n\nEND_VAR", "metadata": [{"fpath_tuple": ["modbus", "global\\gCan.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_global_gController.st_0-6", "title": "modbus-global\\gController.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t//发送至SWMC的比例阀的控制指令\n\tsky\t\t:ARRAY[0..10] OF CmdPercentSet;\n\tgrd\t\t:ARRAY[1..10] OF CmdPercentSet;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["modbus", "global\\gController.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_global_gDev.st_0-5", "title": "modbus-global\\gDev.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tsky\t\t:ARRAY[0..10] OF DeviceUnit;\n\tgrd\t\t:ARRAY[1..10] OF DeviceUnit;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["modbus", "global\\gDev.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 5, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_global_gModbus.st_0-8", "title": "modbus-global\\gModbus.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL CONSTANT\n\tg_modbusDataSizeMax\t:  UINT:=65535; // 从机保持寄存器数量\nEND_VAR\nVAR_GLOBAL\n\tsrv\t\t\t\t:mdbsStruct;\t\t//modbus-service\n\tmodbusBuffer\t:ARRAY[0..g_modbusDataSizeMax] OF WORD;\t//输入寄存器数据区\t\nEND_VAR\n", "metadata": [{"fpath_tuple": ["modbus", "global\\gModbus.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_global_gUI.st_0-13", "title": "modbus-global\\gUI.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t\n\tmode\t:UIMode;\t\t\t\t\t//模式设定\n\n\tsky\t\t:ARRAY[0..10] OF UIUnit;\t//挡板2组\n\tgrd\t\t:ARRAY[1..10] OF UIUnit;\t//挡板1组\n\t\n\tpid\t\t:UiPid;\t\t\t\t\t\t//pid测试界面参数\n\t\n\t\n\t\nEND_VAR", "metadata": [{"fpath_tuple": ["modbus", "global\\gUI.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_0-25", "title": "modbus-PRG\\ModbusAct.st", "text": "PROGRAM ModbusAct\nVAR\n\tbInit\t\t\t\t\t: BOOL:=TRUE;\n\tiCountAct\t\t\t\t: UINT:=10;\t\n\tconnectStatus\t\t\t: UINT;\n\tiErrCode\t\t\t\t: BYTE;\n\tidx\t\t\t\t\t\t: INT;\n\tlogicIdx\t\t\t\t: INT;\n\tgi\t\t\t\t\t\t: INT;\n\tsi\t\t\t\t\t\t: INT;\t\t\n\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_0-30", "title": "modbus-PRG\\ModbusAct.st", "text": "PROGRAM ModbusAct\nVAR\n\tbInit\t\t\t\t\t: BOOL:=TRUE;\n\tiCountAct\t\t\t\t: UINT:=10;\t\n\tconnectStatus\t\t\t: UINT;\n\tiErrCode\t\t\t\t: BYTE;\n\tidx\t\t\t\t\t\t: INT;\n\tlogicIdx\t\t\t\t: INT;\n\tgi\t\t\t\t\t\t: INT;\n\tsi\t\t\t\t\t\t: INT;\t\t\n\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_0-35", "title": "modbus-PRG\\ModbusAct.st", "text": "PROGRAM ModbusAct\nVAR\n\tbInit\t\t\t\t\t: BOOL:=TRUE;\n\tiCountAct\t\t\t\t: UINT:=10;\t\n\tconnectStatus\t\t\t: UINT;\n\tiErrCode\t\t\t\t: BYTE;\n\tidx\t\t\t\t\t\t: INT;\n\tlogicIdx\t\t\t\t: INT;\n\tgi\t\t\t\t\t\t: INT;\n\tsi\t\t\t\t\t\t: INT;\t\t\n\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n\nIF connectStatus <> 1 THEN\n\tfbModbusClient(sIPAddress:='192.168.2.21',uiPort:=520);//连接IPC\n\t//fbModbusClient(sIPAddress:='192.168.5.55',uiPort:=502);//连接工控机\nEND_IF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_0-40", "title": "modbus-PRG\\ModbusAct.st", "text": "PROGRAM ModbusAct\nVAR\n\tbInit\t\t\t\t\t: BOOL:=TRUE;\n\tiCountAct\t\t\t\t: UINT:=10;\t\n\tconnectStatus\t\t\t: UINT;\n\tiErrCode\t\t\t\t: BYTE;\n\tidx\t\t\t\t\t\t: INT;\n\tlogicIdx\t\t\t\t: INT;\n\tgi\t\t\t\t\t\t: INT;\n\tsi\t\t\t\t\t\t: INT;\t\t\n\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n\nIF connectStatus <> 1 THEN\n\tfbModbusClient(sIPAddress:='192.168.2.21',uiPort:=520);//连接IPC\n\t//fbModbusClient(sIPAddress:='192.168.5.55',uiPort:=502);//连接工控机\nEND_IF\n\nIF fbModbusClient.bSuccess THEN\n\tconnectStatus := 1;\t\n\tCASE iCountAct OF\n\t\t10:\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_0-45", "title": "modbus-PRG\\ModbusAct.st", "text": "PROGRAM ModbusAct\nVAR\n\tbInit\t\t\t\t\t: BOOL:=TRUE;\n\tiCountAct\t\t\t\t: UINT:=10;\t\n\tconnectStatus\t\t\t: UINT;\n\tiErrCode\t\t\t\t: BYTE;\n\tidx\t\t\t\t\t\t: INT;\n\tlogicIdx\t\t\t\t: INT;\n\tgi\t\t\t\t\t\t: INT;\n\tsi\t\t\t\t\t\t: INT;\t\t\n\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n\nIF connectStatus <> 1 THEN\n\tfbModbusClient(sIPAddress:='192.168.2.21',uiPort:=520);//连接IPC\n\t//fbModbusClient(sIPAddress:='192.168.5.55',uiPort:=502);//连接工控机\nEND_IF\n\nIF fbModbusClient.bSuccess THEN\n\tconnectStatus := 1;\t\n\tCASE iCountAct OF\n\t\t10:\n\t\t\thandleCmd();\t\t//接收华中指令\n\t\t\tlocalCmdHandler();\t//处理本机挡板指令 + 启动液压站\n\t\t20:\n\t\t\thandleStat1();\t\t//发送状态至华中\n\t\t21:\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_0-50", "title": "modbus-PRG\\ModbusAct.st", "text": "PROGRAM ModbusAct\nVAR\n\tbInit\t\t\t\t\t: BOOL:=TRUE;\n\tiCountAct\t\t\t\t: UINT:=10;\t\n\tconnectStatus\t\t\t: UINT;\n\tiErrCode\t\t\t\t: BYTE;\n\tidx\t\t\t\t\t\t: INT;\n\tlogicIdx\t\t\t\t: INT;\n\tgi\t\t\t\t\t\t: INT;\n\tsi\t\t\t\t\t\t: INT;\t\t\n\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n\nIF connectStatus <> 1 THEN\n\tfbModbusClient(sIPAddress:='192.168.2.21',uiPort:=520);//连接IPC\n\t//fbModbusClient(sIPAddress:='192.168.5.55',uiPort:=502);//连接工控机\nEND_IF\n\nIF fbModbusClient.bSuccess THEN\n\tconnectStatus := 1;\t\n\tCASE iCountAct OF\n\t\t10:\n\t\t\thandleCmd();\t\t//接收华中指令\n\t\t\tlocalCmdHandler();\t//处理本机挡板指令 + 启动液压站\n\t\t20:\n\t\t\thandleStat1();\t\t//发送状态至华中\n\t\t21:\n\t\t\thandleStat2();\n\t\t22:\n\t\t\thandleStat3();\n\tEND_CASE\nEND_IF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_5-55", "title": "modbus-PRG\\ModbusAct.st", "text": "\tiErrCode\t\t\t\t: BYTE;\n\tidx\t\t\t\t\t\t: INT;\n\tlogicIdx\t\t\t\t: INT;\n\tgi\t\t\t\t\t\t: INT;\n\tsi\t\t\t\t\t\t: INT;\t\t\n\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n\nIF connectStatus <> 1 THEN\n\tfbModbusClient(sIPAddress:='192.168.2.21',uiPort:=520);//连接IPC\n\t//fbModbusClient(sIPAddress:='192.168.5.55',uiPort:=502);//连接工控机\nEND_IF\n\nIF fbModbusClient.bSuccess THEN\n\tconnectStatus := 1;\t\n\tCASE iCountAct OF\n\t\t10:\n\t\t\thandleCmd();\t\t//接收华中指令\n\t\t\tlocalCmdHandler();\t//处理本机挡板指令 + 启动液压站\n\t\t20:\n\t\t\thandleStat1();\t\t//发送状态至华中\n\t\t21:\n\t\t\thandleStat2();\n\t\t22:\n\t\t\thandleStat3();\n\tEND_CASE\nEND_IF\n\t\t\n//做服务器接收天地轨客户端发送的数据\nfbModbusServer(\twPort := 512, \n\tpInputData := ADR(inputBuff[0]), pOutputData := ADR(holdingBuff[0]), \n\tuiInputDataSize := 1000, uiOutputDataSize := 1000, \n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_10-60", "title": "modbus-PRG\\ModbusAct.st", "text": "\tiSec\t\t\t\t\t: INT;\t\t//section iterator\n\tdevNum\t\t\t\t\t: WORD;\n\tfbModbusServer\t\t\t: ModbusServer;\n\tinputBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\tholdingBuff\t\t\t\t: ARRAY[0..1000]OF WORD;\n\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n\nIF connectStatus <> 1 THEN\n\tfbModbusClient(sIPAddress:='192.168.2.21',uiPort:=520);//连接IPC\n\t//fbModbusClient(sIPAddress:='192.168.5.55',uiPort:=502);//连接工控机\nEND_IF\n\nIF fbModbusClient.bSuccess THEN\n\tconnectStatus := 1;\t\n\tCASE iCountAct OF\n\t\t10:\n\t\t\thandleCmd();\t\t//接收华中指令\n\t\t\tlocalCmdHandler();\t//处理本机挡板指令 + 启动液压站\n\t\t20:\n\t\t\thandleStat1();\t\t//发送状态至华中\n\t\t21:\n\t\t\thandleStat2();\n\t\t22:\n\t\t\thandleStat3();\n\tEND_CASE\nEND_IF\n\t\t\n//做服务器接收天地轨客户端发送的数据\nfbModbusServer(\twPort := 512, \n\tpInputData := ADR(inputBuff[0]), pOutputData := ADR(holdingBuff[0]), \n\tuiInputDataSize := 1000, uiOutputDataSize := 1000, \n\txEnable := TRUE, xReset := FALSE, tTimeout := 1000, \n\txBusy => , xError => , byClientConnections => );\n\n\n//将缓冲区Buff数据转至本地\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct.st_15-63", "title": "modbus-PRG\\ModbusAct.st", "text": "\t\n\tfbModbusClient\t\t\t: ModbusTcp_Client;\n\tfbReadHoldRegister  \t: ReadHoldRegister;\t\t//读保持寄存器\n\tfbWriteMutiRegister\t\t: WriteMutiRegister;\t\n\tl2p\t\t\t\t\t\t: mdbsLogicToPhy;\n\tp2l\t\t\t\t\t\t: mdbsPhyToLogic;\n\tn2i\t\t\t\t\t\t: mdbsNumToIdx;\n\trvs\t\t\t\t\t\t: DataReverse;\nEND_VAR\n\n//初始化\nIF bInit THEN\n\tinitialize();\n\tbInit := FALSE;\nEND_IF\n\nIF connectStatus <> 1 THEN\n\tfbModbusClient(sIPAddress:='192.168.2.21',uiPort:=520);//连接IPC\n\t//fbModbusClient(sIPAddress:='192.168.5.55',uiPort:=502);//连接工控机\nEND_IF\n\nIF fbModbusClient.bSuccess THEN\n\tconnectStatus := 1;\t\n\tCASE iCountAct OF\n\t\t10:\n\t\t\thandleCmd();\t\t//接收华中指令\n\t\t\tlocalCmdHandler();\t//处理本机挡板指令 + 启动液压站\n\t\t20:\n\t\t\thandleStat1();\t\t//发送状态至华中\n\t\t21:\n\t\t\thandleStat2();\n\t\t22:\n\t\t\thandleStat3();\n\tEND_CASE\nEND_IF\n\t\t\n//做服务器接收天地轨客户端发送的数据\nfbModbusServer(\twPort := 512, \n\tpInputData := ADR(inputBuff[0]), pOutputData := ADR(holdingBuff[0]), \n\tuiInputDataSize := 1000, uiOutputDataSize := 1000, \n\txEnable := TRUE, xReset := FALSE, tTimeout := 1000, \n\txBusy => , xError => , byClientConnections => );\n\n\n//将缓冲区Buff数据转至本地\nlocalStatHandler();\n//updateStat();\n\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct.st"], "repo": "modbus", "line_no": 15, "start_line_no": 15, "end_line_no": 63, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_handleCmd.st_0-25", "title": "modbus-PRG\\ModbusAct_handleCmd.st", "text": "fbReadHoldRegister(\n\txExecute\t:= TRUE,\n\tslaveId\t\t:= 1,\n\twStartAdr\t:= gModbus.srv.request.startAddr,\n\twLen\t\t:= gModbus.srv.request.length,\n\tpTcpStream\t:= fbModbusClient.pfbTcpStream,\n\tmodbusHoldRegData:= gModbus.modbusBuffer);\n\t\n\nIF fbReadHoldRegister.bSucced THEN\n\tfbReadHoldRegister(xExecute := FALSE,\n\t\t\t\t\t\tmodbusHoldRegData:=g_modbusHoldRegData);\n\n\t//使用holdingBuff接收供给链控制指令，在下一轮循环中作为服务器保持该数据\n\tFOR idx := 10 TO 57 DO\t\t\t//startAddr to startAddr+length-1\n\t\tholdingBuff[idx] := gModbus.modbusBuffer[idx];\n\tEND_FOR\n\t\n\tiCountAct := 20;\t\t\nEND_IF\n\nIF fbReadHoldRegister.berror THEN\n\tfbReadHoldRegister(xExecute :=FALSE,\n\t\t\t\t\t\tmodbusHoldRegData:= gModbus.modbusBuffer);\n\tfbModbusClient.M_Reset();\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_handleCmd.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_handleCmd.st_0-30", "title": "modbus-PRG\\ModbusAct_handleCmd.st", "text": "fbReadHoldRegister(\n\txExecute\t:= TRUE,\n\tslaveId\t\t:= 1,\n\twStartAdr\t:= gModbus.srv.request.startAddr,\n\twLen\t\t:= gModbus.srv.request.length,\n\tpTcpStream\t:= fbModbusClient.pfbTcpStream,\n\tmodbusHoldRegData:= gModbus.modbusBuffer);\n\t\n\nIF fbReadHoldRegister.bSucced THEN\n\tfbReadHoldRegister(xExecute := FALSE,\n\t\t\t\t\t\tmodbusHoldRegData:=g_modbusHoldRegData);\n\n\t//使用holdingBuff接收供给链控制指令，在下一轮循环中作为服务器保持该数据\n\tFOR idx := 10 TO 57 DO\t\t\t//startAddr to startAddr+length-1\n\t\tholdingBuff[idx] := gModbus.modbusBuffer[idx];\n\tEND_FOR\n\t\n\tiCountAct := 20;\t\t\nEND_IF\n\nIF fbReadHoldRegister.berror THEN\n\tfbReadHoldRegister(xExecute :=FALSE,\n\t\t\t\t\t\tmodbusHoldRegData:= gModbus.modbusBuffer);\n\tfbModbusClient.M_Reset();\n\tconnectStatus := 0;\n\tiCountAct := 10;\t\n\tiErrCode := fbReadHoldRegister.errCode;\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_handleCmd.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_handleCmd.st_0-32", "title": "modbus-PRG\\ModbusAct_handleCmd.st", "text": "fbReadHoldRegister(\n\txExecute\t:= TRUE,\n\tslaveId\t\t:= 1,\n\twStartAdr\t:= gModbus.srv.request.startAddr,\n\twLen\t\t:= gModbus.srv.request.length,\n\tpTcpStream\t:= fbModbusClient.pfbTcpStream,\n\tmodbusHoldRegData:= gModbus.modbusBuffer);\n\t\n\nIF fbReadHoldRegister.bSucced THEN\n\tfbReadHoldRegister(xExecute := FALSE,\n\t\t\t\t\t\tmodbusHoldRegData:=g_modbusHoldRegData);\n\n\t//使用holdingBuff接收供给链控制指令，在下一轮循环中作为服务器保持该数据\n\tFOR idx := 10 TO 57 DO\t\t\t//startAddr to startAddr+length-1\n\t\tholdingBuff[idx] := gModbus.modbusBuffer[idx];\n\tEND_FOR\n\t\n\tiCountAct := 20;\t\t\nEND_IF\n\nIF fbReadHoldRegister.berror THEN\n\tfbReadHoldRegister(xExecute :=FALSE,\n\t\t\t\t\t\tmodbusHoldRegData:= gModbus.modbusBuffer);\n\tfbModbusClient.M_Reset();\n\tconnectStatus := 0;\n\tiCountAct := 10;\t\n\tiErrCode := fbReadHoldRegister.errCode;\nEND_IF\n\n\n  ", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_handleCmd.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 32, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_handleStat1.st_0-20", "title": "modbus-PRG\\ModbusAct_handleStat1.st", "text": "fbWriteMutiRegister(\n\txExecute\t:= TRUE,\n\tslaveId\t\t:= 1,\n\tstartAddr\t:= 110, //gModbus.srv.response.startAddr 110-319\n\twRegNum\t\t:= 70,\n\tvalue\t\t:= ADR(gModbus.srv.response.data[110]),\n\tpTcpStream\t:= fbModbusClient.pfbTcpStream);\n\t\nIF fbWriteMutiRegister.bSucced THEN\n\tfbWriteMutiRegister(xExecute := FALSE);\n\tiCountAct:= 21;\nEND_IF\n\nIF fbWriteMutiRegister.berror THEN\n\tfbWriteMutiRegister(xExecute := FALSE);\n\tfbModbusClient.M_Reset();\n\tiCountAct := 10;\n\tconnectStatus := 0;\n\tiErrCode := fbWriteMutiRegister.errCode;\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_handleStat1.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 20, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_handleStat2.st_0-20", "title": "modbus-PRG\\ModbusAct_handleStat2.st", "text": "fbWriteMutiRegister(\n\txExecute\t:= TRUE,\n\tslaveId\t\t:= 1,\n\tstartAddr\t:= 180, //gModbus.srv.response.startAddr 110-319\n\twRegNum\t\t:= 70,\n\tvalue\t\t:= ADR(gModbus.srv.response.data[180]),\n\tpTcpStream\t:= fbModbusClient.pfbTcpStream);\n\t\nIF fbWriteMutiRegister.bSucced THEN\n\tfbWriteMutiRegister(xExecute := FALSE);\n\tiCountAct:= 22;\nEND_IF\n\nIF fbWriteMutiRegister.berror THEN\n\tfbWriteMutiRegister(xExecute := FALSE);\n\tfbModbusClient.M_Reset();\n\tiCountAct := 10;\n\tconnectStatus := 0;\n\tiErrCode := fbWriteMutiRegister.errCode;\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_handleStat2.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 20, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_handleStat3.st_0-22", "title": "modbus-PRG\\ModbusAct_handleStat3.st", "text": "\n\nfbWriteMutiRegister(\n\txExecute\t:= TRUE,\n\tslaveId\t\t:= 1,\n\tstartAddr\t:= 250, //gModbus.srv.response.startAddr 110-319\n\twRegNum\t\t:= 70,\n\tvalue\t\t:= ADR(gModbus.srv.response.data[250]),\n\tpTcpStream\t:= fbModbusClient.pfbTcpStream);\n\t\nIF fbWriteMutiRegister.bSucced THEN\n\tfbWriteMutiRegister(xExecute := FALSE);\n\tiCountAct:= 10;\nEND_IF\n\nIF fbWriteMutiRegister.berror THEN\n\tfbWriteMutiRegister(xExecute := FALSE);\n\tfbModbusClient.M_Reset();\n\tiCountAct := 10;\n\tconnectStatus := 0;\n\tiErrCode := fbWriteMutiRegister.errCode;\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_handleStat3.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 22, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_initialize.st_0-5", "title": "modbus-PRG\\ModbusAct_initialize.st", "text": "gModbus.srv.request.startAddr\t:= 10;\ngModbus.srv.request.length\t\t:= 48;\n\ngModbus.srv.response.startAddr := 110;\ngModbus.srv.response.length := 210;", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_initialize.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 5, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_0-25", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_0-30", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_0-35", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_0-40", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//仅执行上升沿\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_0-45", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//仅执行上升沿\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//华中要求伸缩指令及状态翻转\n\t\t\t\t\n\t\t\t\t//过滤\t机械结构未完成的grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_0-50", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//仅执行上升沿\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//华中要求伸缩指令及状态翻转\n\t\t\t\t\n\t\t\t\t//过滤\t机械结构未完成的grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n\t\t\t\tsetButtonByDirect(level := exLevel, idx := exIdx, direct := exeDirect);\n\t\t\tEND_IF\n\t\t\tgModbus.srv.request.arrLast[iSec, iBit] := gModbus.srv.request.arrNew[iSec, iBit];\t\t\t\n\t\tEND_IF\n\tEND_FOR\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_5-55", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//仅执行上升沿\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//华中要求伸缩指令及状态翻转\n\t\t\t\t\n\t\t\t\t//过滤\t机械结构未完成的grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n\t\t\t\tsetButtonByDirect(level := exLevel, idx := exIdx, direct := exeDirect);\n\t\t\tEND_IF\n\t\t\tgModbus.srv.request.arrLast[iSec, iBit] := gModbus.srv.request.arrNew[iSec, iBit];\t\t\t\n\t\tEND_IF\n\tEND_FOR\n\t\nEND_FOR\n\n\ndevNum := gModbus.modbusBuffer[49];\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_10-60", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "END_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//仅执行上升沿\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//华中要求伸缩指令及状态翻转\n\t\t\t\t\n\t\t\t\t//过滤\t机械结构未完成的grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n\t\t\t\tsetButtonByDirect(level := exLevel, idx := exIdx, direct := exeDirect);\n\t\t\tEND_IF\n\t\t\tgModbus.srv.request.arrLast[iSec, iBit] := gModbus.srv.request.arrNew[iSec, iBit];\t\t\t\n\t\tEND_IF\n\tEND_FOR\n\t\nEND_FOR\n\n\ndevNum := gModbus.modbusBuffer[49];\n\n\n//新增一键启动液压站\n\nIF gUI.mode.hydPowerOn THEN\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_15-65", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//仅执行上升沿\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//华中要求伸缩指令及状态翻转\n\t\t\t\t\n\t\t\t\t//过滤\t机械结构未完成的grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n\t\t\t\tsetButtonByDirect(level := exLevel, idx := exIdx, direct := exeDirect);\n\t\t\tEND_IF\n\t\t\tgModbus.srv.request.arrLast[iSec, iBit] := gModbus.srv.request.arrNew[iSec, iBit];\t\t\t\n\t\tEND_IF\n\tEND_FOR\n\t\nEND_FOR\n\n\ndevNum := gModbus.modbusBuffer[49];\n\n\n//新增一键启动液压站\n\nIF gUI.mode.hydPowerOn THEN\n\tholdingBuff[48] := holdingBuff[48] OR 1;\nEND_IF\nIF gUI.mode.hydPowerOff THEN\n\tholdingBuff[48] := holdingBuff[48] OR 2;\nEND_IF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localCmdHandler.st_20-66", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st", "text": "FOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//仅执行上升沿\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//华中要求伸缩指令及状态翻转\n\t\t\t\t\n\t\t\t\t//过滤\t机械结构未完成的grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n\t\t\t\tsetButtonByDirect(level := exLevel, idx := exIdx, direct := exeDirect);\n\t\t\tEND_IF\n\t\t\tgModbus.srv.request.arrLast[iSec, iBit] := gModbus.srv.request.arrNew[iSec, iBit];\t\t\t\n\t\tEND_IF\n\tEND_FOR\n\t\nEND_FOR\n\n\ndevNum := gModbus.modbusBuffer[49];\n\n\n//新增一键启动液压站\n\nIF gUI.mode.hydPowerOn THEN\n\tholdingBuff[48] := holdingBuff[48] OR 1;\nEND_IF\nIF gUI.mode.hydPowerOff THEN\n\tholdingBuff[48] := holdingBuff[48] OR 2;\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localCmdHandler.st"], "repo": "modbus", "line_no": 20, "start_line_no": 20, "end_line_no": 66, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_0-25", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_0-30", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_0-35", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_0-40", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_0-45", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_0-50", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_5-55", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n//至此110-309寄存器状态更新完毕，向华中发送时只需在寄存器写入response.data[]数组\n\nIF devNum > 40000 THEN\n\tn2i(devNo := devNum, level => , idx =>);\n\tCASE n2i.level OF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_10-60", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t伸缩反向判定，伸出到位返回缩回到位\n\t**********************************)\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n//至此110-309寄存器状态更新完毕，向华中发送时只需在寄存器写入response.data[]数组\n\nIF devNum > 40000 THEN\n\tn2i(devNo := devNum, level => , idx =>);\n\tCASE n2i.level OF\n\t\t1:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.retractVal);\n\t\t2:\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_15-65", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n//至此110-309寄存器状态更新完毕，向华中发送时只需在寄存器写入response.data[]数组\n\nIF devNum > 40000 THEN\n\tn2i(devNo := devNum, level => , idx =>);\n\tCASE n2i.level OF\n\t\t1:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.retractVal);\n\t\t2:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.retractVal);\n\tEND_CASE\nEND_IF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_localStatHandler.st_20-66", "title": "modbus-PRG\\ModbusAct_localStatHandler.st", "text": "\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n//至此110-309寄存器状态更新完毕，向华中发送时只需在寄存器写入response.data[]数组\n\nIF devNum > 40000 THEN\n\tn2i(devNo := devNum, level => , idx =>);\n\tCASE n2i.level OF\n\t\t1:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.retractVal);\n\t\t2:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.retractVal);\n\tEND_CASE\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_localStatHandler.st"], "repo": "modbus", "line_no": 20, "start_line_no": 20, "end_line_no": 66, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_updateStat.st_0-25", "title": "modbus-PRG\\ModbusAct_updateStat.st", "text": "//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_updateStat.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_updateStat.st_0-30", "title": "modbus-PRG\\ModbusAct_updateStat.st", "text": "//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_updateStat.st"], "repo": "modbus", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_updateStat.st_0-35", "title": "modbus-PRG\\ModbusAct_updateStat.st", "text": "//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_updateStat.st"], "repo": "modbus", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_updateStat.st_0-40", "title": "modbus-PRG\\ModbusAct_updateStat.st", "text": "//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_updateStat.st"], "repo": "modbus", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_updateStat.st_0-45", "title": "modbus-PRG\\ModbusAct_updateStat.st", "text": "//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n//至此110-309寄存器状态更新完毕，向华中发送时只需在寄存器写入response.data[]数组\n\nIF devNum > 40000 THEN\n\tn2i(devNo := devNum, level => , idx =>);\n\tCASE n2i.level OF\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_updateStat.st"], "repo": "modbus", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_updateStat.st_0-50", "title": "modbus-PRG\\ModbusAct_updateStat.st", "text": "//先把天地轨控制器数据同步至本地\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n//至此110-309寄存器状态更新完毕，向华中发送时只需在寄存器写入response.data[]数组\n\nIF devNum > 40000 THEN\n\tn2i(devNo := devNum, level => , idx =>);\n\tCASE n2i.level OF\n\t\t1:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.retractVal);\n\t\t2:\n", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_updateStat.st"], "repo": "modbus", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_PRG_ModbusAct_updateStat.st_5-55", "title": "modbus-PRG\\ModbusAct_updateStat.st", "text": "//根据实际状态将挡板数据同步至本地\nFOR gi := 1 TO 10 DO\n\t\n\t//地轨伸出到位检查\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[223,232]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//地轨缩回到位检查\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx范围[271,280]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//天轨伸出到位检查\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[127,137]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//天轨缩回到位检查\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx范围[175,185]\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n//至此110-309寄存器状态更新完毕，向华中发送时只需在寄存器写入response.data[]数组\n\nIF devNum > 40000 THEN\n\tn2i(devNo := devNum, level => , idx =>);\n\tCASE n2i.level OF\n\t\t1:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.grd[n2i.idx].sensor.retractVal);\n\t\t2:\n\t\t\tgModbus.srv.response.data[312] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.position);\n\t\t\tgModbus.srv.response.data[313] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.extendVal);\n\t\t\tgModbus.srv.response.data[314] := REAL_TO_WORD(10 * gDev.sky[n2i.idx].sensor.retractVal);\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["modbus", "PRG\\ModbusAct_updateStat.st"], "repo": "modbus", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_CmdPercentSet.st_0-6", "title": "modbus-struct\\CmdPercentSet.st", "text": "TYPE CmdPercentSet :\nSTRUCT\n\textendPercent\t\t:WORD;\t\t//0-65535\n\tretractPercent\t\t:WORD;\t\t//0-65535\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\CmdPercentSet.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_DeviceUnit.st_0-17", "title": "modbus-struct\\DeviceUnit.st", "text": "TYPE DeviceUnit :\nSTRUCT\n\t\t\n\tsensor\t\t\t:SensorInfo;\t\t//传感器参数\n\tctrl\t\t\t:DevPid;\t\t\t//pid等计算控制执行参数\t\n\t\n\tvector\t\t\t:TargetDirect;\t\t//指令运行方向 1-伸出 2-缩回 3-停止\n\tstate\t\t\t:DevStatus;\t\t\t//设备状态 0-未知 1-运行 2-伸出到位 3-缩回到位 4-错误\n\t\n\ttimeCounter\t\t:INT;\t\t\t\t//timeoutCounter超时计数器\n\texeCounter\t\t:INT;\t\t\t\t//ExecuteCounter额外执行时间计数\n\n\tcurrent\t\t\t:ARRAY[1..2] OF WORD;\t//电流mA\t[i,j] -> 地轨挡板i的电流，j=1伸出电流，j=2缩回电流\n\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\DeviceUnit.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_DevStatus.st_0-15", "title": "modbus-struct\\DevStatus.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE DevStatus :\n(\n\tunknown \t:= 0,\n\t\n\truning\t\t:= 1,\n\t\n\textended\t:= 2,\n\t\n\tretracted\t:= 3,\n\t\n\terror\t\t:= 4\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\DevStatus.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 15, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_mdbsRequest.st_0-11", "title": "modbus-struct\\mdbsRequest.st", "text": "TYPE mdbsRequest :\t//所有请求动作指令数据\nSTRUCT\n\tstartAddr\t\t:WORD;\t\t\t\t\t//解析起始地址->10\n\tlength\t\t\t:WORD;\t\t\t\t\t//数据长度/字节->48\n\tdata\t\t\t:ARRAY[10..57] OF WORD;\t//指令数据\t\n\t\n\tarrNew\t\t:ARRAY [1..4,0..15] OF BOOL;\n\tarrLast\t\t:ARRAY [1..4,0..15] OF BOOL;\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\mdbsRequest.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_mdbsResponse.st_0-9", "title": "modbus-struct\\mdbsResponse.st", "text": "TYPE mdbsResponse :\t//所有响应状态数据回送\nSTRUCT\n\tstartAddr\t\t:WORD;\t\t\t\t\t\t\t//解析起始地址->110\n\tlength\t\t\t:WORD;\t\t\t\t\t\t\t//字节长度->210\n\t\n\tdata\t\t\t:ARRAY[110..319] OF WORD;\t\t//位置数据\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\mdbsResponse.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 9, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_mdbsStruct.st_0-7", "title": "modbus-struct\\mdbsStruct.st", "text": "TYPE mdbsStruct :\nSTRUCT\n\trequest\t\t:mdbsRequest;\t\t\t\t//请求动作指令\n\tresponse\t:mdbsResponse;\t\t\t//响应动作指令-天地轨所有\t\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\mdbsStruct.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 7, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_SensorInfo.st_0-12", "title": "modbus-struct\\SensorInfo.st", "text": "TYPE SensorInfo :\nSTRUCT\n\t\n\tposition\t:REAL;\t//实时位移\n\tspeed\t\t:REAL;\t//实时速度\n\t\n\t//记录最大最小位移值\n\tretractVal\t:REAL;\t//缩回到位值\n\textendVal\t:REAL;\t//伸出到位值\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\SensorInfo.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_TargetDirect.st_0-11", "title": "modbus-struct\\TargetDirect.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE TargetDirect :\n(\n\textend \t:= 1,\t//伸出\n\t\n\tretract := 2,\t//缩回\n\t\n\tstop\t:= 3\t//停止\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\TargetDirect.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_UIMode.st_0-16", "title": "modbus-struct\\UIMode.st", "text": "TYPE UIMode :\nSTRUCT\n\tmanualButtonSet\t\t\t:BOOL;\t\t//手动复位按钮模式\n\tusePID\t\t\t\t\t:BOOL;\t\t//使用pid\n\tautoEnable\t\t\t\t:BOOL;\t\t//自动使能\n\tmanualPercentSet\t\t:BOOL;\t\t//手动设定比例量\n\tmanualSetPid\t\t\t:BOOL;\t\t//手动调节pid参数，可通过pid测试界面设定目标位移值\n\t\n\tsyncExt\t\t\t\t\t:BOOL;\t\t//同步伸\n\tsyncRct\t\t\t\t\t:BOOL;\t\t//同步缩\n\t\n\thydPowerOn\t\t\t\t:BOOL;\t\t//液压站开启 modbus 使用\n\thydPowerOff\t\t\t\t:BOOL;\t\t//液压站关闭 modbus 使用\n\thydPowerReset\t\t\t:BOOL;\t\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\UIMode.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "modbus_struct_UIUnit.st_0-24", "title": "modbus-struct\\UIUnit.st", "text": "TYPE UIUnit :\nSTRUCT\n\t//cmd\n\tpwrEnable\t\t\t:BOOL;\t\t//比例阀使能   power-enable\n\tpwrPercent\t\t\t:REAL;\t\t//比例阀百分比 power-percent 0-100\n\t\n\t//button\n\tbtnExtend\t\t\t:BOOL;\n\tbtnRetract\t\t\t:BOOL;\n\tbtnStop\t\t\t\t:BOOL;\n\tbtnLast\t\t\t\t:TargetDirect;\t//上次动作方向\n\t\n\t//info display\n\tname\t\t\t\t:STRING;\t//挡板名\n\twname\t\t\t\t:WSTRING;\t//山河命名\n\thzname\t\t\t\t:WSTRING;\t//hua zhong ming ming\n\tpostion\t\t\t\t:REAL;\t\t//位移值\n\tspeed\t\t\t\t:REAL;\n\textendPercent\t\t:REAL;\t\t//伸出百分比 extend-percent\n\t\n\t\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["modbus", "struct\\UIUnit.st"], "repo": "modbus", "line_no": 0, "start_line_no": 0, "end_line_no": 24, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor.st_0-25", "title": "healthydata-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor.st_0-30", "title": "healthydata-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor.st_0-31", "title": "healthydata-FUN\\CommandExecutor.st", "text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 31, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-25", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-30", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-35", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-40", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-45", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_0-50", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\t//方向\n\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_CommandExecutor0.st_5-52", "title": "healthydata-FUN\\CommandExecutor0.st", "text": "\tpercent\t\t:REAL;\t\t\t//比例阀百分比 传入0-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\t\nEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\CommandExecutor0.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 52, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave.st_0-12", "title": "healthydata-FUN\\fileSave.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_close.st_0-17", "title": "healthydata-FUN\\fileSave_close.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_close.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_createDir.st_0-19", "title": "healthydata-FUN\\fileSave_createDir.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_createDir.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 19, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-25", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-30", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-35", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-40", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-45", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_0-50", "title": "healthydata-FUN\\fileSave_new.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_5-55", "title": "healthydata-FUN\\fileSave_new.st", "text": "END_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_10-60", "title": "healthydata-FUN\\fileSave_new.st", "text": "\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_new.st_15-64", "title": "healthydata-FUN\\fileSave_new.st", "text": "\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Second));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Milliseconds));\n\n\tfileName := FilePath;\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\n\t\n\tfileName := concat(fileName,'/');\n\tfileName := concat(fileName,devName);\n\tfileName := concat(fileName,'-');\n\tfileName := concat(fileName,Time_Str);\n    fileName := concat(fileName,'.txt');\n\n\tfileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_WRITE, pResult:= ADR(F_err));\n\tlineCount := -1;\n\t//fileHandle := SysFileOpen(szFile:= fileName, am:=ACCESS_MODE.AM_APPEND, pResult:= ADR(F_err));", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_new.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 15, "end_line_no": 64, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-25", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-30", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-35", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_fileSave_write.st_0-39", "title": "healthydata-FUN\\fileSave_write.st", "text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n\t\n\tSysFileWrite(hFile:=fileHandle , pbyBuffer:= ADR(data) , ulSize:= DINT_TO_DWORD(SysStrLen(data)) , pResult:= ADR(F_err));\t\t// 写入数据\n\nEND_IF", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\fileSave_write.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 39, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_percentCalc.st_0-25", "title": "healthydata-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\percentCalc.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_percentCalc.st_0-28", "title": "healthydata-FUN\\percentCalc.st", "text": "FUNCTION percentCalc : REAL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\nEND_VAR\nVAR\n\tc\t\t\t:REAL;\n\tp\t\t\t:REAL;\nEND_VAR\n\n\n//伸出百分比计算\nCASE level OF\n\t1:\n\t\tIF gDev.grd[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.grd[idx].sensor.position - gDev.grd[idx].sensor.retractVal;\n\t\tp := gDev.grd[idx].sensor.extendVal - gDev.grd[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\n\t2:\n\t\tIF gDev.sky[idx].sensor.position < 3 THEN \n\t\t\tRETURN;\n\t\tEND_IF\n\t\tc := gDev.sky[idx].sensor.position - gDev.sky[idx].sensor.retractVal;\n\t\tp := gDev.sky[idx].sensor.extendVal - gDev.sky[idx].sensor.retractVal;\n\t\tpercentCalc := c * 100 / p;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\percentCalc.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-25", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-30", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-35", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-40", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-45", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_setButtonByDirect.st_0-48", "title": "healthydata-FUN\\setButtonByDirect.st", "text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t//挡板索引编号\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t本函数用于根据输入参数 操作UI界面的按钮变量\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//参数校验\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\setButtonByDirect.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 48, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-25", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-30", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-35", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-40", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_tcpUpload_send.st_0-44", "title": "healthydata-FUN\\tcpUpload_send.st", "text": "FUNCTION_BLOCK tcpUpload\nVAR_INPUT\n\tInetAddress\t\t:STRING;\n\tport\t\t\t:UINT;\n\tdataLength\t\t:__XINT;\n\tsendBuf \t\t:ARRAY[1..1024]OF BYTE;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\ttcpConnector\t:TCP.Connector;\n\ttcpStream\t\t:TCP.Stream;\n\tpointerStream\t:POINTER TO TCP.Stream;\n\tsizeData\t\t:__XINT;\n\n\ttcpState\t\t:UINT:=0;\n\ttcpCount\t\t:UINT:=0;\n\t\n\tnetState\t\t:INT;\nEND_VAR\n\ntcpCount := tcpCount + 1;\nCASE tcpState OF\n\n\t0:\t\t\t//connet server\n\t\ttcpConnector.Connect(sIPAddress:= InetAddress,uiPort:= port,pStream => pointerStream);\n\t\tIF pointerStream<>0 THEN\n\t\t\ttcpState :=1;\n\t\tELSE\n\t\t\ttcpState :=2;\n\t\tEND_IF\n\t\t\n\t1:\t\t\t\n\t\tnetState := pointerStream^.Send(ADR(sendBuf),dataLength,diSent=>sizeData);\t\t\t\n\t\tIF netState <> 0 THEN\n\t\t\ttcpState := 2;\t\n\t\tEND_IF\n\t\t\n\t\t\n\t2:\t\t \t//断开连接\n\t    tcpConnector.Disconnect();\n\t\ttcpState := 0;\n\nEND_CASE", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\tcpUpload_send.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 44, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-25", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-30", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-35", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-40", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-45", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_0-50", "title": "healthydata-FUN\\updateDevStatus.st", "text": "FUNCTION updateDevStatus : DevStatus\nVAR_INPUT\n\tlevel\t\t:INT;\t\t//1->地轨\t2->天轨\n\tidx\t\t\t:INT;\t\t//挡板索引编号\t\n\terrorVal\t:REAL;\t\t//误差范围\nEND_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\n", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_FUN_updateDevStatus.st_5-53", "title": "healthydata-FUN\\updateDevStatus.st", "text": "END_VAR\nVAR\n\textendVal\t:REAL;\t\t//伸出值\n\tretractVal\t:REAL;\t\t//缩回到位值\n\tnowVal\t\t:REAL;\t\t//当前值\n\tstat\t\t:DevStatus;\t//设备状态\nEND_VAR\n\n(* 本函数用于根据设备的标定伸出/缩回值以及当前位置\n** 判断该缸体是否处于伸出/缩回到位状态，如果到位更新参数\n*)\n\nstat := DevStatus.unknown;\t//初始化状态量\nCASE level OF\n\t1:\n\t\textendVal := gDev.grd[idx].sensor.extendVal;\n\t\tretractVal := gDev.grd[idx].sensor.retractVal;\n\t\tnowVal := gDev.grd[idx].sensor.position;\n\t\tstat := gDev.grd[idx].state;\n\t2:\n\t\textendVal := gDev.sky[idx].sensor.extendVal;\n\t\tretractVal := gDev.sky[idx].sensor.retractVal;\n\t\tnowVal := gDev.sky[idx].sensor.position;\n\t\tstat := gDev.sky[idx].state;\nEND_CASE\n\nIF nowVal > 1 THEN\n\tIF nowVal < retractVal + errorVal THEN\n\t\tstat := DevStatus.retracted;\n\tELSIF nowVal > extendVal - errorVal THEN\n\t\tstat := DevStatus.extended;\n\tELSE \n\t\tIF stat <> DevStatus.runing THEN\n\t\t\tstat := DevStatus.error;\n\t\tEND_IF\n\tEND_IF\nELSE\n\tstat := DevStatus.unknown;\t\nEND_IF\n\nCASE level OF\n\t1:\n\t\tgDev.grd[idx].state := stat;\n\t2:\n\t\tgDev.sky[idx].state := stat;\nEND_CASE\n\nupdateDevStatus := stat;", "metadata": [{"fpath_tuple": ["healthydata", "FUN\\updateDevStatus.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 53, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gCan.st_0-25", "title": "healthydata-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gCan.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gCan.st_0-28", "title": "healthydata-global\\gCan.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tC6TxMsg\t\t\tAT%QW00\t\t:Can_BUS_8Outputs;\t\n\tC6RxMsg\t\t\tAT%IW00\t\t:Can_BUS_8Inputs;\n\tC6RxCounter\t\t\t \t   \t:UINT;\n\t\n\tC3TxMsg\t\t\tAT%QW52\t\t:Can_BUS_8Outputs;\t\n\tC3RxMsg\t\t\tAT%IW47\t\t:Can_BUS_8Inputs;\n\tC3RxCounter\t\t\t   \t   \t:UINT;\n\n\tC4TxMsg\t\t\tAT%QW104\t:Can_BUS_8Outputs;\t\n\tC4RxMsg\t\t\tAT%IW94\t\t:Can_BUS_8Inputs;\n\tC4RxCounter\t\t\t\t  \t:UINT;\n\n\tC2TxMsg\t\t\tAT%QW156\t:Can_BUS_8Outputs;\t\n\tC2RxMsg\t\t\tAT%IW141\t:Can_BUS_8Inputs;\n\tC2RxCounter\t\t\t \t   \t:UINT;\n//(*\t\n\tC1TxMsg\t\t\tAT%QW208\t:Can_BUS_8Outputs;\t\n\tC1RxMsg\t\t\tAT%IW188\t:Can_BUS_8Inputs;\n\tC1RxCounter\t\t\t   \t   \t:UINT;\n\n\tC5TxMsg\t\t\tAT%QW260\t:Can_BUS_8Outputs;\t\n\tC5RxMsg\t\t\tAT%IW235\t:Can_BUS_8Inputs;\n\tC5RxCounter\t\t\t\t  \t:UINT;\n//*)\n\nEND_VAR", "metadata": [{"fpath_tuple": ["healthydata", "global\\gCan.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gController.st_0-6", "title": "healthydata-global\\gController.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t//发送至SWMC的比例阀的控制指令\n\tsky\t\t:ARRAY[0..10] OF CmdPercentSet;\n\tgrd\t\t:ARRAY[1..10] OF CmdPercentSet;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gController.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gDev.st_0-5", "title": "healthydata-global\\gDev.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\tsky\t\t:ARRAY[0..10] OF DeviceUnit;\n\tgrd\t\t:ARRAY[1..10] OF DeviceUnit;\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gDev.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 5, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gModbus.st_0-8", "title": "healthydata-global\\gModbus.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL CONSTANT\n\tg_modbusDataSizeMax\t:  UINT:=65535; // 从机保持寄存器数量\nEND_VAR\nVAR_GLOBAL\n\tsrv\t\t\t\t:mdbsStruct;\t\t//modbus-service\n\tmodbusBuffer\t:ARRAY[0..g_modbusDataSizeMax] OF WORD;\t//输入寄存器数据区\t\nEND_VAR\n", "metadata": [{"fpath_tuple": ["healthydata", "global\\gModbus.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_global_gUI.st_0-13", "title": "healthydata-global\\gUI.st", "text": "{attribute 'qualified_only'}\nVAR_GLOBAL\n\t\n\tmode\t:UIMode;\t\t\t\t\t//模式设定\n\n\tsky\t\t:ARRAY[0..10] OF UIUnit;\t//挡板2组\n\tgrd\t\t:ARRAY[1..10] OF UIUnit;\t//挡板1组\n\t\n\tpid\t\t:UiPid;\t\t\t\t\t\t//pid测试界面参数\n\t\n\t\n\t\nEND_VAR", "metadata": [{"fpath_tuple": ["healthydata", "global\\gUI.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 13, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-25", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-30", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-35", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-40", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-45", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_0-50", "title": "healthydata-PRG\\FileSaver.st", "text": "PROGRAM FileSaver\nVAR\n\tpath \t\t\t:STRING:='D:/log';\n\tintervalMs\t\t:INT := 10;\t\t//间隔时间\n\t\n\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_5-55", "title": "healthydata-PRG\\FileSaver.st", "text": "\tinit\t\t\t:BOOL:= TRUE;\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\t\n\tcCtrl\t\t\t:INT;\n\n\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_10-60", "title": "healthydata-PRG\\FileSaver.st", "text": "\tsav\t\t\t\t:ARRAY[1..2, 0..10] OF fileSave;\n\tspeed\t\t\t:INT;\n\tnowCmd\t\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tcanWrite\t\t:ARRAY[1..2, 0..10] OF BOOL;\n\tnowPosition\t\t:ARRAY[1..2, 0..10] OF INT;\n\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_15-65", "title": "healthydata-PRG\\FileSaver.st", "text": "\tlastPosition\t:ARRAY[1..2, 0..10] OF INT;\n\tstate\t\t\t:ARRAY[1..2, 0..10] OF INT;\n\tflag\t\t\t:ARRAY[1..2, 0..10] OF INT;\nEND_VAR\nVAR CONSTANT\n\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_20-70", "title": "healthydata-PRG\\FileSaver.st", "text": "\taOil\t:ARRAY [1..7] OF INT :=[9,11,8,8,8,8,23];\t\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_25-75", "title": "healthydata-PRG\\FileSaver.st", "text": "\tinit := FALSE;\n\tFOR gi := 1 TO 10 DO\n\t\t sav[1, gi](filePath := path, intervalt := intervalMs);\n\t\t sav[1, gi].createDir(gUI.grd[gi].name);\n\t\t init := FALSE;\n\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getSkyData();\n\t\t //write\n\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t ELSE\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_30-80", "title": "healthydata-PRG\\FileSaver.st", "text": "\tEND_FOR\n\tFOR si := 0 TO 10 DO\n\t\t sav[2, si](filePath := path, intervalt := intervalMs);\n\t\t sav[2, si].createDir(gUI.sky[si].name);\n\t\t init := FALSE;\n\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getSkyData();\n\t\t //write\n\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t ELSE\n\t\t IF flag[2, si] = 1 THEN\n\t\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t\t\t sav[2, si].close();\n\t\t\t flag[2, si] := 0;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver.st_35-83", "title": "healthydata-PRG\\FileSaver.st", "text": "\tEND_FOR\nEND_IF\n\n//detect and record ground and sky\nFOR gi := 1 TO 10 DO\n\t nowCmd[1, gi] := gUI.grd[gi].btnExtend OR gUI.grd[gi].btnRetract;\n\t IF nowCmd[1, gi] THEN\n\t\t IF flag[1, gi] = 0 THEN\n\t\t\t sav[1, gi].new(devName := gUI.grd[gi].name);\n\t\t\t flag[1, gi] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getGrdData();\n\t\t //write\n\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t ELSE\n\t\t IF flag[1, gi] = 1 THEN\n\t\t\t sav[1, gi].write(positionInt := nowPosition[1, gi],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[1, gi]);\n\t\t\t sav[1, gi].close();\n\t\t\t flag[1, gi] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n\n\nFOR si := 0 TO 10 DO\n\t nowCmd[2, si] := gUI.sky[si].btnExtend OR gUI.sky[si].btnRetract;\n\t IF nowCmd[2, si] THEN\n\t\t IF flag[2, si] = 0 THEN\n\t\t\t sav[2, si].new(devName := gUI.sky[si].name);\n\t\t\t flag[2, si] := 1;\n\t\t END_IF\n\t\t //prepare data\n\t\t getSkyData();\n\t\t //write\n\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t ELSE\n\t\t IF flag[2, si] = 1 THEN\n\t\t\t sav[2, si].write(positionInt := nowPosition[2, si],speedInt := speed,\n\t\t\t\t \t\t\t\t stateInt := state[2, si]);\n\t\t\t sav[2, si].close();\n\t\t\t flag[2, si] := 0;\n\t\t END_IF\n\t END_IF\nEND_FOR\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver.st"], "repo": "healthydata", "line_no": 35, "start_line_no": 35, "end_line_no": 83, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver_getGrdData.st_0-8", "title": "healthydata-PRG\\FileSaver_getGrdData.st", "text": "//进制转换 到0.01mm\nlastPosition[1, gi] := nowPosition[1, gi];\nnowPosition[1, gi] := REAL_TO_INT(10 * gDev.grd[gi].sensor.position);\n\nspeed := REAL_TO_INT(gDev.grd[gi].sensor.speed);\n\n\nstate[1, gi] := gDev.grd[gi].state;", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver_getGrdData.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_FileSaver_getSkyData.st_0-8", "title": "healthydata-PRG\\FileSaver_getSkyData.st", "text": "//进制转换 到0.01mm\nlastPosition[2, si] := nowPosition[2, si];\nnowPosition[2, si] := REAL_TO_INT(10 * gDev.sky[si].sensor.position);\n\nspeed := REAL_TO_INT(gDev.sky[si].sensor.speed);\n\n\nstate[2, si] := gDev.sky[si].state;", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\FileSaver_getSkyData.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 8, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader.st_0-21", "title": "healthydata-PRG\\TcpUploader.st", "text": "PROGRAM TcpUploader\nVAR\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//initialize\nIF init THEN\n\tinit := FALSE;\n\ttcpConnector(InetAddress := destIp,port:= destPort);\nEND_IF\n\nprepareMetaData();\n\ntcpConnector.send(dataLength := myDataLen, sendBuf := myData);\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 21, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-25", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-30", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-35", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-40", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-45", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_0-50", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "METHOD prepareMetaData\nVAR_INPUT\nEND_VAR\nVAR\n\tgi\t\t\t\t:INT;\n\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_5-55", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "\tsi\t\t\t\t:INT;\n\t\n\tintTmp\t\t\t:UINT;\t\n\tpos\t\t\t\t:INT;\n\tbyte1\t\t\t:BYTE;\n\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_10-60", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "\tbyte2\t\t\t:BYTE;\n\tplugStat\t\t:BYTE;\n\tdestIp \t\t\t:STRING:='172.18.150.31';\n\tdestPort \t\t:UINT:= 61158;\n\ttcpConnector\t:tcpUpload;\n\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_15-65", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "\t\n\tmyData \t\t\t:ARRAY[1..1024]OF BYTE;\n\tmyDataLen\t\t:__XINT:=21 * 3 + 16;\t\t//总数据长度\n\t\n\tinit\t\t\t:BOOL :=TRUE;\t\nEND_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\nFOR si := 0 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.sky[si].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_20-70", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "END_VAR\n\n//data head (decimal)\nmyData[1]\t:=\t83\t;\nmyData[2]\t:=\t70\t;\nmyData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\nFOR si := 0 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.sky[si].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.sky[si].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_PRG_TcpUploader_prepareMetaData_method.st_25-75", "title": "healthydata-PRG\\TcpUploader_prepareMetaData_method.st", "text": "myData[3]\t:=\t68\t;\nmyData[4]\t:=\t84\t;\n\n//data length\nmyData[5]\t:=\t0\t;\nmyData[6]\t:=\t63\t;\n\n//healthy data\nmyData[7]\t:=\t0\t;\nmyData[8]\t:=\t11\t;\n\n//zero\nmyData[9]\t:=\t0\t;\nmyData[10]\t:=\t0\t;\nmyData[11]\t:=\t0\t;\nmyData[12]\t:=\t0\t;\n\nmyData[13]\t:=\t0\t;\nmyData[14]\t:=\t0\t;\nmyData[15]\t:=\t0\t;\nmyData[16]\t:=\t0\t;\n\n//list\npos := 17;\nFOR gi := 1 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.grd[gi].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.grd[gi].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\nFOR si := 0 TO 10 DO\n\tintTmp := REAL_TO_UINT(gDev.sky[si].sensor.position * 10);\n\tbyte1 := UINT_TO_BYTE(SHR(intTmp, 8)); \n\tbyte2 := UINT_TO_BYTE(intTmp AND 255); \n\tplugStat := INT_TO_BYTE(gDev.sky[si].state);\n\t\n\tmyData[pos] := plugStat;\n\tpos := pos + 1;\t\t\n\tmyData[pos] := byte1;\n\tpos := pos + 1;\n\tmyData[pos] := byte2;\n\tpos := pos + 1;\nEND_FOR\n", "metadata": [{"fpath_tuple": ["healthydata", "PRG\\TcpUploader_prepareMetaData_method.st"], "repo": "healthydata", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_CmdPercentSet.st_0-6", "title": "healthydata-struct\\CmdPercentSet.st", "text": "TYPE CmdPercentSet :\nSTRUCT\n\textendPercent\t\t:WORD;\t\t//0-65535\n\tretractPercent\t\t:WORD;\t\t//0-65535\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\CmdPercentSet.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 6, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_DeviceUnit.st_0-17", "title": "healthydata-struct\\DeviceUnit.st", "text": "TYPE DeviceUnit :\nSTRUCT\n\t\t\n\tsensor\t\t\t:SensorInfo;\t\t//传感器参数\n\tctrl\t\t\t:DevPid;\t\t\t//pid等计算控制执行参数\t\n\t\n\tvector\t\t\t:TargetDirect;\t\t//指令运行方向 1-伸出 2-缩回 3-停止\n\tstate\t\t\t:DevStatus;\t\t\t//设备状态 0-未知 1-运行 2-伸出到位 3-缩回到位 4-错误\n\t\n\ttimeCounter\t\t:INT;\t\t\t\t//timeoutCounter超时计数器\n\texeCounter\t\t:INT;\t\t\t\t//ExecuteCounter额外执行时间计数\n\n\tcurrent\t\t\t:ARRAY[1..2] OF WORD;\t//电流mA\t[i,j] -> 地轨挡板i的电流，j=1伸出电流，j=2缩回电流\n\n\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\DeviceUnit.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 17, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_DevStatus.st_0-15", "title": "healthydata-struct\\DevStatus.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE DevStatus :\n(\n\tunknown \t:= 0,\n\t\n\truning\t\t:= 1,\n\t\n\textended\t:= 2,\n\t\n\tretracted\t:= 3,\n\t\n\terror\t\t:= 4\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\DevStatus.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 15, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_SensorInfo.st_0-12", "title": "healthydata-struct\\SensorInfo.st", "text": "TYPE SensorInfo :\nSTRUCT\n\t\n\tposition\t:REAL;\t//实时位移\n\tspeed\t\t:REAL;\t//实时速度\n\t\n\t//记录最大最小位移值\n\tretractVal\t:REAL;\t//缩回到位值\n\textendVal\t:REAL;\t//伸出到位值\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\SensorInfo.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 12, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_TargetDirect.st_0-11", "title": "healthydata-struct\\TargetDirect.st", "text": "{attribute 'qualified_only'}\n{attribute 'strict'}\nTYPE TargetDirect :\n(\n\textend \t:= 1,\t//伸出\n\t\n\tretract := 2,\t//缩回\n\t\n\tstop\t:= 3\t//停止\n);\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\TargetDirect.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 11, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_UIMode.st_0-16", "title": "healthydata-struct\\UIMode.st", "text": "TYPE UIMode :\nSTRUCT\n\tmanualButtonSet\t\t\t:BOOL;\t\t//手动复位按钮模式\n\tusePID\t\t\t\t\t:BOOL;\t\t//使用pid\n\tautoEnable\t\t\t\t:BOOL;\t\t//自动使能\n\tmanualPercentSet\t\t:BOOL;\t\t//手动设定比例量\n\tmanualSetPid\t\t\t:BOOL;\t\t//手动调节pid参数，可通过pid测试界面设定目标位移值\n\t\n\tsyncExt\t\t\t\t\t:BOOL;\t\t//同步伸\n\tsyncRct\t\t\t\t\t:BOOL;\t\t//同步缩\n\t\n\thydPowerOn\t\t\t\t:BOOL;\t\t//液压站开启 modbus 使用\n\thydPowerOff\t\t\t\t:BOOL;\t\t//液压站关闭 modbus 使用\n\thydPowerReset\t\t\t:BOOL;\t\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\UIMode.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 16, "window_size": 50, "slice_size": 5}]}
{"_id": "healthydata_struct_UIUnit.st_0-24", "title": "healthydata-struct\\UIUnit.st", "text": "TYPE UIUnit :\nSTRUCT\n\t//cmd\n\tpwrEnable\t\t\t:BOOL;\t\t//比例阀使能   power-enable\n\tpwrPercent\t\t\t:REAL;\t\t//比例阀百分比 power-percent 0-100\n\t\n\t//button\n\tbtnExtend\t\t\t:BOOL;\n\tbtnRetract\t\t\t:BOOL;\n\tbtnStop\t\t\t\t:BOOL;\n\tbtnLast\t\t\t\t:TargetDirect;\t//上次动作方向\n\t\n\t//info display\n\tname\t\t\t\t:STRING;\t//挡板名\n\twname\t\t\t\t:WSTRING;\t//山河命名\n\thzname\t\t\t\t:WSTRING;\t//hua zhong ming ming\n\tpostion\t\t\t\t:REAL;\t\t//位移值\n\tspeed\t\t\t\t:REAL;\n\textendPercent\t\t:REAL;\t\t//伸出百分比 extend-percent\n\t\n\t\n\t\nEND_STRUCT\nEND_TYPE\n", "metadata": [{"fpath_tuple": ["healthydata", "struct\\UIUnit.st"], "repo": "healthydata", "line_no": 0, "start_line_no": 0, "end_line_no": 24, "window_size": 50, "slice_size": 5}]}
