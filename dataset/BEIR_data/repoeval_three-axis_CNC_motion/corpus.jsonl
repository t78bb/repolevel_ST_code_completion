{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_0-25", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "FUNCTION_BLOCK FB_TripleAxisHoming\nVAR_INPUT\n\tbExecute\t\t\t:\tBOOL;\t\t\t\t//执行回零信号\n\tAxisX\t\t\t\t:\tAXIS_REF;\t\t\t//X轴引用\n\tAxisY\t\t\t\t:\tAXIS_REF;\t\t\t//Y轴引用\n\tAxisZ\t\t\t\t:\tAXIS_REF;\t\t\t//Z轴引用\n\tbAxisXRefSwitch\t\t:\tBOOL;\t\t\t\t//X轴零点开关\n\tbAxisYRefSwitch\t\t:\tBOOL;\t\t\t\t//Y轴零点开关\n\tbAxisZRefSwitch\t\t:\tBOOL;\t\t\t\t//Z轴零点开关\n\tfVelocitySlow\t\t:\tREAL;\t\t\t\t//慢速回零速度\n\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_0-30", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "FUNCTION_BLOCK FB_TripleAxisHoming\nVAR_INPUT\n\tbExecute\t\t\t:\tBOOL;\t\t\t\t//执行回零信号\n\tAxisX\t\t\t\t:\tAXIS_REF;\t\t\t//X轴引用\n\tAxisY\t\t\t\t:\tAXIS_REF;\t\t\t//Y轴引用\n\tAxisZ\t\t\t\t:\tAXIS_REF;\t\t\t//Z轴引用\n\tbAxisXRefSwitch\t\t:\tBOOL;\t\t\t\t//X轴零点开关\n\tbAxisYRefSwitch\t\t:\tBOOL;\t\t\t\t//Y轴零点开关\n\tbAxisZRefSwitch\t\t:\tBOOL;\t\t\t\t//Z轴零点开关\n\tfVelocitySlow\t\t:\tREAL;\t\t\t\t//慢速回零速度\n\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_0-35", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "FUNCTION_BLOCK FB_TripleAxisHoming\nVAR_INPUT\n\tbExecute\t\t\t:\tBOOL;\t\t\t\t//执行回零信号\n\tAxisX\t\t\t\t:\tAXIS_REF;\t\t\t//X轴引用\n\tAxisY\t\t\t\t:\tAXIS_REF;\t\t\t//Y轴引用\n\tAxisZ\t\t\t\t:\tAXIS_REF;\t\t\t//Z轴引用\n\tbAxisXRefSwitch\t\t:\tBOOL;\t\t\t\t//X轴零点开关\n\tbAxisYRefSwitch\t\t:\tBOOL;\t\t\t\t//Y轴零点开关\n\tbAxisZRefSwitch\t\t:\tBOOL;\t\t\t\t//Z轴零点开关\n\tfVelocitySlow\t\t:\tREAL;\t\t\t\t//慢速回零速度\n\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_0-40", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "FUNCTION_BLOCK FB_TripleAxisHoming\nVAR_INPUT\n\tbExecute\t\t\t:\tBOOL;\t\t\t\t//执行回零信号\n\tAxisX\t\t\t\t:\tAXIS_REF;\t\t\t//X轴引用\n\tAxisY\t\t\t\t:\tAXIS_REF;\t\t\t//Y轴引用\n\tAxisZ\t\t\t\t:\tAXIS_REF;\t\t\t//Z轴引用\n\tbAxisXRefSwitch\t\t:\tBOOL;\t\t\t\t//X轴零点开关\n\tbAxisYRefSwitch\t\t:\tBOOL;\t\t\t\t//Y轴零点开关\n\tbAxisZRefSwitch\t\t:\tBOOL;\t\t\t\t//Z轴零点开关\n\tfVelocitySlow\t\t:\tREAL;\t\t\t\t//慢速回零速度\n\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_0-45", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "FUNCTION_BLOCK FB_TripleAxisHoming\nVAR_INPUT\n\tbExecute\t\t\t:\tBOOL;\t\t\t\t//执行回零信号\n\tAxisX\t\t\t\t:\tAXIS_REF;\t\t\t//X轴引用\n\tAxisY\t\t\t\t:\tAXIS_REF;\t\t\t//Y轴引用\n\tAxisZ\t\t\t\t:\tAXIS_REF;\t\t\t//Z轴引用\n\tbAxisXRefSwitch\t\t:\tBOOL;\t\t\t\t//X轴零点开关\n\tbAxisYRefSwitch\t\t:\tBOOL;\t\t\t\t//Y轴零点开关\n\tbAxisZRefSwitch\t\t:\tBOOL;\t\t\t\t//Z轴零点开关\n\tfVelocitySlow\t\t:\tREAL;\t\t\t\t//慢速回零速度\n\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_0-50", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "FUNCTION_BLOCK FB_TripleAxisHoming\nVAR_INPUT\n\tbExecute\t\t\t:\tBOOL;\t\t\t\t//执行回零信号\n\tAxisX\t\t\t\t:\tAXIS_REF;\t\t\t//X轴引用\n\tAxisY\t\t\t\t:\tAXIS_REF;\t\t\t//Y轴引用\n\tAxisZ\t\t\t\t:\tAXIS_REF;\t\t\t//Z轴引用\n\tbAxisXRefSwitch\t\t:\tBOOL;\t\t\t\t//X轴零点开关\n\tbAxisYRefSwitch\t\t:\tBOOL;\t\t\t\t//Y轴零点开关\n\tbAxisZRefSwitch\t\t:\tBOOL;\t\t\t\t//Z轴零点开关\n\tfVelocitySlow\t\t:\tREAL;\t\t\t\t//慢速回零速度\n\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_5-55", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tAxisZ\t\t\t\t:\tAXIS_REF;\t\t\t//Z轴引用\n\tbAxisXRefSwitch\t\t:\tBOOL;\t\t\t\t//X轴零点开关\n\tbAxisYRefSwitch\t\t:\tBOOL;\t\t\t\t//Y轴零点开关\n\tbAxisZRefSwitch\t\t:\tBOOL;\t\t\t\t//Z轴零点开关\n\tfVelocitySlow\t\t:\tREAL;\t\t\t\t//慢速回零速度\n\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_10-60", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tfVelocityFast\t\t:\tREAL;\t\t\t\t//快速回零速度\n\tfAcceleration\t\t:\tREAL;\t\t\t\t//加速度\n\tfDeceleration\t\t:\tREAL;\t\t\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_15-65", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tbHomeOK\t\t\t\t:\tBOOL;\t\t\t\t//三轴都回零完成\n\tbAxisXHomeOK\t\t:\tBOOL;\t\t\t\t//X轴回零完成\n\tbAxisYHomeOK\t\t:\tBOOL;\t\t\t\t//Y轴回零完成\n\tbAxisZHomeOK\t\t:\tBOOL;\t\t\t\t//Z轴回零完成\n\tbBusy\t\t\t\t:\tBOOL;\t\t\t\t//回零进行中\n\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_20-70", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tbError\t\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbHomingX\t\t\t:\tSMC_HOMING;\t\t\t//X轴回零功能块\n\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_25-75", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tfbHomingY\t\t\t:\tSMC_HOMING;\t\t\t//Y轴回零功能块\n\tfbHomingZ\t\t\t:\tSMC_HOMING;\t\t\t//Z轴回零功能块\n\tfbDoneXTrig\t\t\t:\tR_TRIG;\t\t\t\t//X轴完成上升沿\n\tfbDoneYTrig\t\t\t:\tR_TRIG;\t\t\t\t//Y轴完成上升沿\n\tfbDoneZTrig\t\t\t:\tR_TRIG;\t\t\t\t//Z轴完成上升沿\nEND_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_30-80", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "END_VAR\n\n// X轴回零\nfbHomingX(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\nEND_IF\n\n// 检测Z轴完成\nfbDoneZTrig(CLK := fbHomingZ.bDone);\nIF fbDoneZTrig.Q THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_35-85", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tbReferenceSwitch := bAxisXRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\nEND_IF\n\n// 检测Z轴完成\nfbDoneZTrig(CLK := fbHomingZ.bDone);\nIF fbDoneZTrig.Q THEN\n\tbAxisZHomeOK := TRUE;\nEND_IF\n\n// 更新输出状态\nbHomeOK := bAxisXHomeOK AND bAxisYHomeOK AND bAxisZHomeOK;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 35, "start_line_no": 35, "end_line_no": 85, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_40-90", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tAxis := AxisX\n);\n\n// Y轴回零\nfbHomingY(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\nEND_IF\n\n// 检测Z轴完成\nfbDoneZTrig(CLK := fbHomingZ.bDone);\nIF fbDoneZTrig.Q THEN\n\tbAxisZHomeOK := TRUE;\nEND_IF\n\n// 更新输出状态\nbHomeOK := bAxisXHomeOK AND bAxisYHomeOK AND bAxisZHomeOK;\nbBusy := fbHomingX.bBusy OR fbHomingY.bBusy OR fbHomingZ.bBusy;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbHomingX.bError THEN\n\tbError := TRUE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 40, "start_line_no": 40, "end_line_no": 90, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_45-95", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisYRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\nEND_IF\n\n// 检测Z轴完成\nfbDoneZTrig(CLK := fbHomingZ.bDone);\nIF fbDoneZTrig.Q THEN\n\tbAxisZHomeOK := TRUE;\nEND_IF\n\n// 更新输出状态\nbHomeOK := bAxisXHomeOK AND bAxisYHomeOK AND bAxisZHomeOK;\nbBusy := fbHomingX.bBusy OR fbHomingY.bBusy OR fbHomingZ.bBusy;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbHomingX.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingX.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingY.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingY.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingZ.bError THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 45, "start_line_no": 45, "end_line_no": 95, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_50-100", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tfDeceleration := fDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴回零\nfbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\nEND_IF\n\n// 检测Z轴完成\nfbDoneZTrig(CLK := fbHomingZ.bDone);\nIF fbDoneZTrig.Q THEN\n\tbAxisZHomeOK := TRUE;\nEND_IF\n\n// 更新输出状态\nbHomeOK := bAxisXHomeOK AND bAxisYHomeOK AND bAxisZHomeOK;\nbBusy := fbHomingX.bBusy OR fbHomingY.bBusy OR fbHomingZ.bBusy;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbHomingX.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingX.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingY.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingY.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingZ.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingZ.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 50, "start_line_no": 50, "end_line_no": 100, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_55-105", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "fbHomingZ(\n\tbExecute := bExecute,\n\tbReferenceSwitch := bAxisZRefSwitch,\n\tfVelocitySlow := fVelocitySlow,\n\tfVelocityFast := fVelocityFast,\n\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\nEND_IF\n\n// 检测Z轴完成\nfbDoneZTrig(CLK := fbHomingZ.bDone);\nIF fbDoneZTrig.Q THEN\n\tbAxisZHomeOK := TRUE;\nEND_IF\n\n// 更新输出状态\nbHomeOK := bAxisXHomeOK AND bAxisYHomeOK AND bAxisZHomeOK;\nbBusy := fbHomingX.bBusy OR fbHomingY.bBusy OR fbHomingZ.bBusy;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbHomingX.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingX.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingY.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingY.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingZ.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingZ.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\nEND_IF\n\n// 复位逻辑\nIF NOT bExecute THEN\n\tbAxisXHomeOK := FALSE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 55, "start_line_no": 55, "end_line_no": 105, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisHoming.st_60-110", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisHoming.st", "text": "\tfAcceleration := fAcceleration,\n\tfDeceleration := fDeceleration,\n\tAxis := AxisZ\n);\n\n// 检测X轴完成\nfbDoneXTrig(CLK := fbHomingX.bDone);\nIF fbDoneXTrig.Q THEN\n\tbAxisXHomeOK := TRUE;\nEND_IF\n\n// 检测Y轴完成\nfbDoneYTrig(CLK := fbHomingY.bDone);\nIF fbDoneYTrig.Q THEN\n\tbAxisYHomeOK := TRUE;\nEND_IF\n\n// 检测Z轴完成\nfbDoneZTrig(CLK := fbHomingZ.bDone);\nIF fbDoneZTrig.Q THEN\n\tbAxisZHomeOK := TRUE;\nEND_IF\n\n// 更新输出状态\nbHomeOK := bAxisXHomeOK AND bAxisYHomeOK AND bAxisZHomeOK;\nbBusy := fbHomingX.bBusy OR fbHomingY.bBusy OR fbHomingZ.bBusy;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbHomingX.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingX.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingY.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingY.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbHomingZ.bError THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbHomingZ.nErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\nEND_IF\n\n// 复位逻辑\nIF NOT bExecute THEN\n\tbAxisXHomeOK := FALSE;\n\tbAxisYHomeOK := FALSE;\n\tbAxisZHomeOK := FALSE;\n\tbHomeOK := FALSE;\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisHoming.st"], "repo": "三轴CNC运动实训", "line_no": 60, "start_line_no": 60, "end_line_no": 110, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_0-25", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "FUNCTION_BLOCK FB_TripleAxisPower\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbServoEnable\t:\tBOOL;\t\t\t\t//伺服使能信号\nEND_VAR\nVAR_OUTPUT\n\tbReady\t\t\t:\tBOOL;\t\t\t\t//三轴都准备就绪\n\tbAxisXReady\t\t:\tBOOL;\t\t\t\t//X轴准备就绪\n\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_0-30", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "FUNCTION_BLOCK FB_TripleAxisPower\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbServoEnable\t:\tBOOL;\t\t\t\t//伺服使能信号\nEND_VAR\nVAR_OUTPUT\n\tbReady\t\t\t:\tBOOL;\t\t\t\t//三轴都准备就绪\n\tbAxisXReady\t\t:\tBOOL;\t\t\t\t//X轴准备就绪\n\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_0-35", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "FUNCTION_BLOCK FB_TripleAxisPower\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbServoEnable\t:\tBOOL;\t\t\t\t//伺服使能信号\nEND_VAR\nVAR_OUTPUT\n\tbReady\t\t\t:\tBOOL;\t\t\t\t//三轴都准备就绪\n\tbAxisXReady\t\t:\tBOOL;\t\t\t\t//X轴准备就绪\n\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_0-40", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "FUNCTION_BLOCK FB_TripleAxisPower\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbServoEnable\t:\tBOOL;\t\t\t\t//伺服使能信号\nEND_VAR\nVAR_OUTPUT\n\tbReady\t\t\t:\tBOOL;\t\t\t\t//三轴都准备就绪\n\tbAxisXReady\t\t:\tBOOL;\t\t\t\t//X轴准备就绪\n\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n);\n\n// Z轴电源控制\nfbPowerZ(\n\tEnable := bServoEnable,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_0-45", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "FUNCTION_BLOCK FB_TripleAxisPower\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbServoEnable\t:\tBOOL;\t\t\t\t//伺服使能信号\nEND_VAR\nVAR_OUTPUT\n\tbReady\t\t\t:\tBOOL;\t\t\t\t//三轴都准备就绪\n\tbAxisXReady\t\t:\tBOOL;\t\t\t\t//X轴准备就绪\n\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n);\n\n// Z轴电源控制\nfbPowerZ(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisZ\n);\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_0-50", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "FUNCTION_BLOCK FB_TripleAxisPower\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbServoEnable\t:\tBOOL;\t\t\t\t//伺服使能信号\nEND_VAR\nVAR_OUTPUT\n\tbReady\t\t\t:\tBOOL;\t\t\t\t//三轴都准备就绪\n\tbAxisXReady\t\t:\tBOOL;\t\t\t\t//X轴准备就绪\n\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n);\n\n// Z轴电源控制\nfbPowerZ(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbAxisXReady := fbPowerX.Status;\nbAxisYReady := fbPowerY.Status;\nbAxisZReady := fbPowerZ.Status;\nbReady := fbPowerX.Status AND fbPowerY.Status AND fbPowerZ.Status;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_5-55", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "\tbServoEnable\t:\tBOOL;\t\t\t\t//伺服使能信号\nEND_VAR\nVAR_OUTPUT\n\tbReady\t\t\t:\tBOOL;\t\t\t\t//三轴都准备就绪\n\tbAxisXReady\t\t:\tBOOL;\t\t\t\t//X轴准备就绪\n\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n);\n\n// Z轴电源控制\nfbPowerZ(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbAxisXReady := fbPowerX.Status;\nbAxisYReady := fbPowerY.Status;\nbAxisZReady := fbPowerZ.Status;\nbReady := fbPowerX.Status AND fbPowerY.Status AND fbPowerZ.Status;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbPowerX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_10-60", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "\tbAxisYReady\t\t:\tBOOL;\t\t\t\t//Y轴准备就绪\n\tbAxisZReady\t\t:\tBOOL;\t\t\t\t//Z轴准备就绪\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n);\n\n// Z轴电源控制\nfbPowerZ(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbAxisXReady := fbPowerX.Status;\nbAxisYReady := fbPowerY.Status;\nbAxisZReady := fbPowerZ.Status;\nbReady := fbPowerX.Status AND fbPowerY.Status AND fbPowerZ.Status;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbPowerX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbPowerY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbPowerZ.Error THEN\n\tbError := TRUE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_15-65", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "VAR\n\tfbPowerX\t\t:\tMC_POWER;\t\t\t//X轴电源控制\n\tfbPowerY\t\t:\tMC_POWER;\t\t\t//Y轴电源控制\n\tfbPowerZ\t\t:\tMC_POWER;\t\t\t//Z轴电源控制\nEND_VAR\n\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n);\n\n// Z轴电源控制\nfbPowerZ(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbAxisXReady := fbPowerX.Status;\nbAxisYReady := fbPowerY.Status;\nbAxisZReady := fbPowerZ.Status;\nbReady := fbPowerX.Status AND fbPowerY.Status AND fbPowerZ.Status;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbPowerX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbPowerY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbPowerZ.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerZ.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\nEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisPower.st_20-66", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisPower.st", "text": "\n// X轴电源控制\nfbPowerX(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisX\n);\n\n// Y轴电源控制\nfbPowerY(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisY\n);\n\n// Z轴电源控制\nfbPowerZ(\n\tEnable := bServoEnable,\n\tbRegulatorOn := bServoEnable,\n\tbDriveStart := bServoEnable,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbAxisXReady := fbPowerX.Status;\nbAxisYReady := fbPowerY.Status;\nbAxisZReady := fbPowerZ.Status;\nbReady := fbPowerX.Status AND fbPowerY.Status AND fbPowerZ.Status;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbPowerX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbPowerY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbPowerZ.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbPowerZ.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisPower.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 20, "end_line_no": 66, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_0-25", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "FUNCTION_BLOCK FB_TripleAxisReset\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_0-30", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "FUNCTION_BLOCK FB_TripleAxisReset\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n// Y轴复位\nfbResetY(\n\tExecute := bExecute,\n\tAxis := AxisY\n);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_0-35", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "FUNCTION_BLOCK FB_TripleAxisReset\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n// Y轴复位\nfbResetY(\n\tExecute := bExecute,\n\tAxis := AxisY\n);\n\n// Z轴复位\nfbResetZ(\n\tExecute := bExecute,\n\tAxis := AxisZ\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_0-40", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "FUNCTION_BLOCK FB_TripleAxisReset\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n// Y轴复位\nfbResetY(\n\tExecute := bExecute,\n\tAxis := AxisY\n);\n\n// Z轴复位\nfbResetZ(\n\tExecute := bExecute,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbResetX.Busy OR fbResetY.Busy OR fbResetZ.Busy;\nbDone := fbResetX.Done AND fbResetY.Done AND fbResetZ.Done;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_0-45", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "FUNCTION_BLOCK FB_TripleAxisReset\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n// Y轴复位\nfbResetY(\n\tExecute := bExecute,\n\tAxis := AxisY\n);\n\n// Z轴复位\nfbResetZ(\n\tExecute := bExecute,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbResetX.Busy OR fbResetY.Busy OR fbResetZ.Busy;\nbDone := fbResetX.Done AND fbResetY.Done AND fbResetZ.Done;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbResetX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_0-50", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "FUNCTION_BLOCK FB_TripleAxisReset\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n// Y轴复位\nfbResetY(\n\tExecute := bExecute,\n\tAxis := AxisY\n);\n\n// Z轴复位\nfbResetZ(\n\tExecute := bExecute,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbResetX.Busy OR fbResetY.Busy OR fbResetZ.Busy;\nbDone := fbResetX.Done AND fbResetY.Done AND fbResetZ.Done;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbResetX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbResetY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbResetZ.Error THEN\n\tbError := TRUE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_5-55", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "\tbExecute\t\t:\tBOOL;\t\t\t\t//执行复位信号\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都复位完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//复位进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n// Y轴复位\nfbResetY(\n\tExecute := bExecute,\n\tAxis := AxisY\n);\n\n// Z轴复位\nfbResetZ(\n\tExecute := bExecute,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbResetX.Busy OR fbResetY.Busy OR fbResetZ.Busy;\nbDone := fbResetX.Done AND fbResetY.Done AND fbResetZ.Done;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbResetX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbResetY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbResetZ.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetZ.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\nEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisReset.st_10-56", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisReset.st", "text": "\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbResetX\t\t:\tMC_RESET;\t\t\t//X轴复位\n\tfbResetY\t\t:\tMC_RESET;\t\t\t//Y轴复位\n\tfbResetZ\t\t:\tMC_RESET;\t\t\t//Z轴复位\nEND_VAR\n\n// X轴复位\nfbResetX(\n\tExecute := bExecute,\n\tAxis := AxisX\n);\n\n// Y轴复位\nfbResetY(\n\tExecute := bExecute,\n\tAxis := AxisY\n);\n\n// Z轴复位\nfbResetZ(\n\tExecute := bExecute,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbResetX.Busy OR fbResetY.Busy OR fbResetZ.Busy;\nbDone := fbResetX.Done AND fbResetY.Done AND fbResetZ.Done;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbResetX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbResetY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbResetZ.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbResetZ.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisReset.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 56, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_0-25", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "FUNCTION_BLOCK FB_TripleAxisStop\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行停止信号\n\trDeceleration\t:\tREAL := 100.0;\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都停止完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_0-30", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "FUNCTION_BLOCK FB_TripleAxisStop\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行停止信号\n\trDeceleration\t:\tREAL := 100.0;\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都停止完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴停止\nfbStopY(\n\tExecute := bExecute,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_0-35", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "FUNCTION_BLOCK FB_TripleAxisStop\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行停止信号\n\trDeceleration\t:\tREAL := 100.0;\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都停止完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴停止\nfbStopY(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴停止\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_0-40", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "FUNCTION_BLOCK FB_TripleAxisStop\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行停止信号\n\trDeceleration\t:\tREAL := 100.0;\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都停止完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴停止\nfbStopY(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴停止\nfbStopZ(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisZ\n);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_0-45", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "FUNCTION_BLOCK FB_TripleAxisStop\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行停止信号\n\trDeceleration\t:\tREAL := 100.0;\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都停止完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴停止\nfbStopY(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴停止\nfbStopZ(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbStopX.Busy OR fbStopY.Busy OR fbStopZ.Busy;\nbDone := fbStopX.Done AND fbStopY.Done AND fbStopZ.Done;\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_0-50", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "FUNCTION_BLOCK FB_TripleAxisStop\nVAR_INPUT\n\tAxisX\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//X轴引用\n\tAxisY\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Y轴引用\n\tAxisZ\t\t\t:\tSM3_Basic.AXIS_REF_SM3\t\t\t//Z轴引用\n\tbExecute\t\t:\tBOOL;\t\t\t\t//执行停止信号\n\trDeceleration\t:\tREAL := 100.0;\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都停止完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴停止\nfbStopY(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴停止\nfbStopZ(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbStopX.Busy OR fbStopY.Busy OR fbStopZ.Busy;\nbDone := fbStopX.Done AND fbStopY.Done AND fbStopZ.Done;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbStopX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbStopX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbStopY.Error THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_5-55", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "\tbExecute\t\t:\tBOOL;\t\t\t\t//执行停止信号\n\trDeceleration\t:\tREAL := 100.0;\t\t//减速度\nEND_VAR\nVAR_OUTPUT\n\tbDone\t\t\t:\tBOOL;\t\t\t\t//三轴都停止完成\n\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴停止\nfbStopY(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴停止\nfbStopZ(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbStopX.Busy OR fbStopY.Busy OR fbStopZ.Busy;\nbDone := fbStopX.Done AND fbStopY.Done AND fbStopZ.Done;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbStopX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbStopX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbStopY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbStopY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbStopZ.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbStopZ.ErrorID, Language := english, SMC_ErrorString => sErrorString);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_FB_TripleAxisStop.st_10-60", "title": "三轴CNC运动实训-FUN\\FB_TripleAxisStop.st", "text": "\tbBusy\t\t\t:\tBOOL;\t\t\t\t//停止进行中\n\tbError\t\t\t:\tBOOL;\t\t\t\t//错误标志\n\tsErrorString\t:\tSTRING;\t\t\t\t//错误信息字符串\nEND_VAR\nVAR\n\tfbStopX\t\t\t:\tMC_STOP;\t\t\t//X轴停止\n\tfbStopY\t\t\t:\tMC_STOP;\t\t\t//Y轴停止\n\tfbStopZ\t\t\t:\tMC_STOP;\t\t\t//Z轴停止\nEND_VAR\n\n// X轴停止\nfbStopX(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisX\n);\n\n// Y轴停止\nfbStopY(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisY\n);\n\n// Z轴停止\nfbStopZ(\n\tExecute := bExecute,\n\tDeceleration := rDeceleration,\n\tAxis := AxisZ\n);\n\n// 更新输出状态\nbBusy := fbStopX.Busy OR fbStopY.Busy OR fbStopZ.Busy;\nbDone := fbStopX.Done AND fbStopY.Done AND fbStopZ.Done;\n\n// 错误检查（优先级：X > Y > Z）\nIF fbStopX.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbStopX.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbStopY.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbStopY.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSIF fbStopZ.Error THEN\n\tbError := TRUE;\n\tSMC_ERRORSTRING(ErrorID := fbStopZ.ErrorID, Language := english, SMC_ErrorString => sErrorString);\nELSE\n\tbError := FALSE;\n\tsErrorString := 'CNC_NO_ERROR';\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\FB_TripleAxisStop.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_INIT_CNC_System.st_0-25", "title": "三轴CNC运动实训-FUN\\INIT_CNC_System.st", "text": "FUNCTION INIT_CNC_System : BOOL\nVAR_IN_OUT\n\tfbSMC_ReadNCFile\t\t:\tSMC_ReadNCFile;\n\tfbSMC_NCDecoder\t\t\t:\tSMC_NCDecoder;\n\tfbSMC_CheckVelocities\t:\tSMC_CheckVelocities;\n\tfbSMC_Interpolator\t\t:\tSMC_Interpolator;\n\tfbSMC_ControlAxisXByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_AXISX_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISY_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISZ_HOMING\t\t:\tSMC_HOMING;\n\tfbMC_AXISX_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISY_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISZ_STOP\t\t\t:\tMC_STOP;\nEND_VAR\nVAR_INPUT\n\tAxisX\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisY\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisZ\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\nEND_VAR\n\n// 复位回零标志\n// 注意：这里不能直接修改VAR_INPUT的变量，需要在调用处理\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\INIT_CNC_System.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_INIT_CNC_System.st_0-30", "title": "三轴CNC运动实训-FUN\\INIT_CNC_System.st", "text": "FUNCTION INIT_CNC_System : BOOL\nVAR_IN_OUT\n\tfbSMC_ReadNCFile\t\t:\tSMC_ReadNCFile;\n\tfbSMC_NCDecoder\t\t\t:\tSMC_NCDecoder;\n\tfbSMC_CheckVelocities\t:\tSMC_CheckVelocities;\n\tfbSMC_Interpolator\t\t:\tSMC_Interpolator;\n\tfbSMC_ControlAxisXByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_AXISX_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISY_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISZ_HOMING\t\t:\tSMC_HOMING;\n\tfbMC_AXISX_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISY_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISZ_STOP\t\t\t:\tMC_STOP;\nEND_VAR\nVAR_INPUT\n\tAxisX\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisY\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisZ\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\nEND_VAR\n\n// 复位回零标志\n// 注意：这里不能直接修改VAR_INPUT的变量，需要在调用处理\n\n// 复位G代码处理相关功能块\nfbSMC_ReadNCFile(bExecute := FALSE);\nfbSMC_NCDecoder(bExecute := FALSE, ncprog := fbSMC_ReadNCFile.ncprog);\nfbSMC_CheckVelocities(bExecute := FALSE);\nfbSMC_Interpolator(bExecute := FALSE);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\INIT_CNC_System.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_INIT_CNC_System.st_0-35", "title": "三轴CNC运动实训-FUN\\INIT_CNC_System.st", "text": "FUNCTION INIT_CNC_System : BOOL\nVAR_IN_OUT\n\tfbSMC_ReadNCFile\t\t:\tSMC_ReadNCFile;\n\tfbSMC_NCDecoder\t\t\t:\tSMC_NCDecoder;\n\tfbSMC_CheckVelocities\t:\tSMC_CheckVelocities;\n\tfbSMC_Interpolator\t\t:\tSMC_Interpolator;\n\tfbSMC_ControlAxisXByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_AXISX_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISY_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISZ_HOMING\t\t:\tSMC_HOMING;\n\tfbMC_AXISX_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISY_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISZ_STOP\t\t\t:\tMC_STOP;\nEND_VAR\nVAR_INPUT\n\tAxisX\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisY\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisZ\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\nEND_VAR\n\n// 复位回零标志\n// 注意：这里不能直接修改VAR_INPUT的变量，需要在调用处理\n\n// 复位G代码处理相关功能块\nfbSMC_ReadNCFile(bExecute := FALSE);\nfbSMC_NCDecoder(bExecute := FALSE, ncprog := fbSMC_ReadNCFile.ncprog);\nfbSMC_CheckVelocities(bExecute := FALSE);\nfbSMC_Interpolator(bExecute := FALSE);\n\n// 复位轴控制功能块\nfbSMC_ControlAxisXByPos(bEnable := FALSE, Axis := AxisX);\nfbSMC_ControlAxisYByPos(bEnable := FALSE, Axis := AxisY);\nfbSMC_ControlAxisZByPos(bEnable := FALSE, Axis := AxisZ);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\INIT_CNC_System.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_INIT_CNC_System.st_0-40", "title": "三轴CNC运动实训-FUN\\INIT_CNC_System.st", "text": "FUNCTION INIT_CNC_System : BOOL\nVAR_IN_OUT\n\tfbSMC_ReadNCFile\t\t:\tSMC_ReadNCFile;\n\tfbSMC_NCDecoder\t\t\t:\tSMC_NCDecoder;\n\tfbSMC_CheckVelocities\t:\tSMC_CheckVelocities;\n\tfbSMC_Interpolator\t\t:\tSMC_Interpolator;\n\tfbSMC_ControlAxisXByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_AXISX_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISY_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISZ_HOMING\t\t:\tSMC_HOMING;\n\tfbMC_AXISX_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISY_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISZ_STOP\t\t\t:\tMC_STOP;\nEND_VAR\nVAR_INPUT\n\tAxisX\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisY\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisZ\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\nEND_VAR\n\n// 复位回零标志\n// 注意：这里不能直接修改VAR_INPUT的变量，需要在调用处理\n\n// 复位G代码处理相关功能块\nfbSMC_ReadNCFile(bExecute := FALSE);\nfbSMC_NCDecoder(bExecute := FALSE, ncprog := fbSMC_ReadNCFile.ncprog);\nfbSMC_CheckVelocities(bExecute := FALSE);\nfbSMC_Interpolator(bExecute := FALSE);\n\n// 复位轴控制功能块\nfbSMC_ControlAxisXByPos(bEnable := FALSE, Axis := AxisX);\nfbSMC_ControlAxisYByPos(bEnable := FALSE, Axis := AxisY);\nfbSMC_ControlAxisZByPos(bEnable := FALSE, Axis := AxisZ);\n\n// 复位回零功能块\nfbSMC_AXISX_HOMING(bExecute := FALSE, Axis := AxisX);\nfbSMC_AXISY_HOMING(bExecute := FALSE, Axis := AxisY);\nfbSMC_AXISZ_HOMING(bExecute := FALSE, Axis := AxisZ);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\INIT_CNC_System.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_INIT_CNC_System.st_0-45", "title": "三轴CNC运动实训-FUN\\INIT_CNC_System.st", "text": "FUNCTION INIT_CNC_System : BOOL\nVAR_IN_OUT\n\tfbSMC_ReadNCFile\t\t:\tSMC_ReadNCFile;\n\tfbSMC_NCDecoder\t\t\t:\tSMC_NCDecoder;\n\tfbSMC_CheckVelocities\t:\tSMC_CheckVelocities;\n\tfbSMC_Interpolator\t\t:\tSMC_Interpolator;\n\tfbSMC_ControlAxisXByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_AXISX_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISY_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISZ_HOMING\t\t:\tSMC_HOMING;\n\tfbMC_AXISX_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISY_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISZ_STOP\t\t\t:\tMC_STOP;\nEND_VAR\nVAR_INPUT\n\tAxisX\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisY\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisZ\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\nEND_VAR\n\n// 复位回零标志\n// 注意：这里不能直接修改VAR_INPUT的变量，需要在调用处理\n\n// 复位G代码处理相关功能块\nfbSMC_ReadNCFile(bExecute := FALSE);\nfbSMC_NCDecoder(bExecute := FALSE, ncprog := fbSMC_ReadNCFile.ncprog);\nfbSMC_CheckVelocities(bExecute := FALSE);\nfbSMC_Interpolator(bExecute := FALSE);\n\n// 复位轴控制功能块\nfbSMC_ControlAxisXByPos(bEnable := FALSE, Axis := AxisX);\nfbSMC_ControlAxisYByPos(bEnable := FALSE, Axis := AxisY);\nfbSMC_ControlAxisZByPos(bEnable := FALSE, Axis := AxisZ);\n\n// 复位回零功能块\nfbSMC_AXISX_HOMING(bExecute := FALSE, Axis := AxisX);\nfbSMC_AXISY_HOMING(bExecute := FALSE, Axis := AxisY);\nfbSMC_AXISZ_HOMING(bExecute := FALSE, Axis := AxisZ);\n\n// 复位停止功能块\nfbMC_AXISX_STOP(Execute := FALSE, Deceleration := 100, Axis := AxisX);\nfbMC_AXISY_STOP(Execute := FALSE, Deceleration := 100, Axis := AxisY);\nfbMC_AXISZ_STOP(Execute := FALSE, Deceleration := 100, Axis := AxisZ);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\INIT_CNC_System.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_FUN_INIT_CNC_System.st_0-49", "title": "三轴CNC运动实训-FUN\\INIT_CNC_System.st", "text": "FUNCTION INIT_CNC_System : BOOL\nVAR_IN_OUT\n\tfbSMC_ReadNCFile\t\t:\tSMC_ReadNCFile;\n\tfbSMC_NCDecoder\t\t\t:\tSMC_NCDecoder;\n\tfbSMC_CheckVelocities\t:\tSMC_CheckVelocities;\n\tfbSMC_Interpolator\t\t:\tSMC_Interpolator;\n\tfbSMC_ControlAxisXByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos\t:\tSMC_ControlAxisByPos;\n\tfbSMC_AXISX_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISY_HOMING\t\t:\tSMC_HOMING;\n\tfbSMC_AXISZ_HOMING\t\t:\tSMC_HOMING;\n\tfbMC_AXISX_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISY_STOP\t\t\t:\tMC_STOP;\n\tfbMC_AXISZ_STOP\t\t\t:\tMC_STOP;\nEND_VAR\nVAR_INPUT\n\tAxisX\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisY\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\n\tAxisZ\t\t\t\t\t:\tSM3_Basic.AXIS_REF_SM3\nEND_VAR\n\n// 复位回零标志\n// 注意：这里不能直接修改VAR_INPUT的变量，需要在调用处理\n\n// 复位G代码处理相关功能块\nfbSMC_ReadNCFile(bExecute := FALSE);\nfbSMC_NCDecoder(bExecute := FALSE, ncprog := fbSMC_ReadNCFile.ncprog);\nfbSMC_CheckVelocities(bExecute := FALSE);\nfbSMC_Interpolator(bExecute := FALSE);\n\n// 复位轴控制功能块\nfbSMC_ControlAxisXByPos(bEnable := FALSE, Axis := AxisX);\nfbSMC_ControlAxisYByPos(bEnable := FALSE, Axis := AxisY);\nfbSMC_ControlAxisZByPos(bEnable := FALSE, Axis := AxisZ);\n\n// 复位回零功能块\nfbSMC_AXISX_HOMING(bExecute := FALSE, Axis := AxisX);\nfbSMC_AXISY_HOMING(bExecute := FALSE, Axis := AxisY);\nfbSMC_AXISZ_HOMING(bExecute := FALSE, Axis := AxisZ);\n\n// 复位停止功能块\nfbMC_AXISX_STOP(Execute := FALSE, Deceleration := 100, Axis := AxisX);\nfbMC_AXISY_STOP(Execute := FALSE, Deceleration := 100, Axis := AxisY);\nfbMC_AXISZ_STOP(Execute := FALSE, Deceleration := 100, Axis := AxisZ);\n\n// 返回TRUE表示初始化完成\nINIT_CNC_System := TRUE;\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "FUN\\INIT_CNC_System.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 49, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_global_CNC_GVL.st_0-24", "title": "三轴CNC运动实训-global\\CNC_GVL.st", "text": "VAR_GLOBAL\n\t\n\tsFileName: STRING := 'I:\\test.txt';\t//G代码文件名\n\tsSystem_Error: STRING(100);\t\t\t\t\t//系统错误\n\n\tdwSystem_Error: DWORD :=0;\t\t\t\t//系统错误代码\n\tdwIpoCycTime: DWORD := 10000;\t\t\t//插补循环周期\n\t\n\tfOverride: LREAL := 100;\t\t\t\t//进给倍率\n\t\n\tfHomeVelocitySlow: LREAL := 50;\t\t\t//慢速回零\n\tfHomeVelocityFast: LREAL := 100;\t\t//快速回零\n\tfHomeAcceleration: LREAL := 20;\t\t\t//回零加速度\n\tfHomeDeceleration: LREAL := 40;\t\t\t//回零减速度\n\tfAxisX_Offset: LREAL;\t\t\t\t\t//X轴坐标偏移\n\tfAxisY_Offset: LREAL;\t\t\t\t\t//Y轴坐标偏移\n\tfAxisZ_Offset: LREAL;\t\t\t\t\t//Z轴坐标偏移\n\t\n\tbAxisXReferenceSwitch: BOOL :=TRUE;\t\t//X轴机械零点\n\tbAxisYReferenceSwitch: BOOL :=TRUE;\t\t//Y轴机械零点\n\tbAxisZReferenceSwitch: BOOL :=TRUE;\t\t//Z轴机械零点\n\n\tAct_Gline:LREAL:=0;\nEND_VAR", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "global\\CNC_GVL.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 24, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_0-25", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "PROGRAM AUTO_CNC\nVAR_INPUT\n\tbHome: BOOL;\n\tbCNC_Run: BOOL;\n\tbCNC_Stop: BOOL;\n\tbCNC_Reset: BOOL;\nEND_VAR\nVAR\n\tbOpen: BOOL;\n\tset:BOOL;\n\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_0-30", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "PROGRAM AUTO_CNC\nVAR_INPUT\n\tbHome: BOOL;\n\tbCNC_Run: BOOL;\n\tbCNC_Stop: BOOL;\n\tbCNC_Reset: BOOL;\nEND_VAR\nVAR\n\tbOpen: BOOL;\n\tset:BOOL;\n\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 30, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_0-35", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "PROGRAM AUTO_CNC\nVAR_INPUT\n\tbHome: BOOL;\n\tbCNC_Run: BOOL;\n\tbCNC_Stop: BOOL;\n\tbCNC_Reset: BOOL;\nEND_VAR\nVAR\n\tbOpen: BOOL;\n\tset:BOOL;\n\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 0, "end_line_no": 35, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_0-40", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "PROGRAM AUTO_CNC\nVAR_INPUT\n\tbHome: BOOL;\n\tbCNC_Run: BOOL;\n\tbCNC_Stop: BOOL;\n\tbCNC_Reset: BOOL;\nEND_VAR\nVAR\n\tbOpen: BOOL;\n\tset:BOOL;\n\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 0, "end_line_no": 40, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_0-45", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "PROGRAM AUTO_CNC\nVAR_INPUT\n\tbHome: BOOL;\n\tbCNC_Run: BOOL;\n\tbCNC_Stop: BOOL;\n\tbCNC_Reset: BOOL;\nEND_VAR\nVAR\n\tbOpen: BOOL;\n\tset:BOOL;\n\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 0, "end_line_no": 45, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_0-50", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "PROGRAM AUTO_CNC\nVAR_INPUT\n\tbHome: BOOL;\n\tbCNC_Run: BOOL;\n\tbCNC_Stop: BOOL;\n\tbCNC_Reset: BOOL;\nEND_VAR\nVAR\n\tbOpen: BOOL;\n\tset:BOOL;\n\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 0, "end_line_no": 50, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_5-55", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tbCNC_Reset: BOOL;\nEND_VAR\nVAR\n\tbOpen: BOOL;\n\tset:BOOL;\n\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 5, "end_line_no": 55, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_10-60", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tbServo_Enable: BOOL;\n\tbServo_Ready: BOOL;\n\tbError: BOOL;\n\tbHomeOK: BOOL;\n\tbAxisXHomeOK: BOOL;\n\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 10, "start_line_no": 10, "end_line_no": 60, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_15-65", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tbAxisYHomeOK: BOOL;\n\tbAxisZHomeOK: BOOL;\n\tbOverrideADD: BOOL;\n\tbOverrideDEC: BOOL;\n\t\n\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 15, "start_line_no": 15, "end_line_no": 65, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_20-70", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tiState: INT;\n\tpoqPath: POINTER TO SMC_Outqueue;\n\n\tagcwBufReadNCFile: ARRAY[0..99] OF SMC_GCODE_WORD;\n\tagcdBuffer: ARRAY[0..99] OF SMC_GCODEVIEWER_DATA;\n\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 20, "start_line_no": 20, "end_line_no": 70, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_25-75", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tagiBufDecoder: ARRAY [0..1] OF ARRAY[0..99] OF SMC_GeoInfo;\n\tagcsViewer: ARRAY[0..15] OF STRING;\n\t\n\tFBbHome_R_TRIG: R_TRIG;\n\tFBbHome_DoneX_R_TRIG: R_TRIG;\n\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 25, "start_line_no": 25, "end_line_no": 75, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_30-80", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tFBbHome_DoneY_R_TRIG: R_TRIG;\n\tFBbHome_DoneZ_R_TRIG: R_TRIG;\n\tFBbCNC_Run_R_TRIG: R_TRIG;\n\tFBbCNC_Stop_R_TRIG: R_TRIG;\n\tFBbCNC_Reset_R_TRIG: R_TRIG;\n\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 30, "start_line_no": 30, "end_line_no": 80, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_35-85", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tFBbOverrideADD_R_TRIG: R_TRIG;\n\tFBbOverrideDEC_R_TRIG: R_TRIG;\n\t\n\t(* 使用重构后的三轴控制功能块 *)\n\tfbTripleAxisPower\t:\tFB_TripleAxisPower;\t\t//三轴电源控制\n\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 35, "start_line_no": 35, "end_line_no": 85, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_40-90", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tfbTripleAxisStop\t:\tFB_TripleAxisStop;\t\t//三轴停止控制\n\tfbTripleAxisReset\t:\tFB_TripleAxisReset;\t\t//三轴复位控制\n\tfbTripleAxisHoming\t:\tFB_TripleAxisHoming;\t//三轴回零控制\n\t\n\t(* 保留单独的Halt和Stop功能块（如需要） *)\n\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 40, "start_line_no": 40, "end_line_no": 90, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_45-95", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tfbMC_AXISX_HALT: MC_HALT;\n\tfbMC_AXISY_HALT: MC_HALT;\n\tfbMC_AXISZ_HALT: MC_HALT;\n\tfbMC_AXISX_STOP: MC_STOP;\n\tfbMC_AXISY_STOP: MC_STOP;\n\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 45, "start_line_no": 45, "end_line_no": 95, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_50-100", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tfbMC_AXISZ_STOP: MC_STOP;\n\tfbSMC_AXISX_HOMING: SMC_HOMING;\n\tfbSMC_AXISY_HOMING: SMC_HOMING;\n\tfbSMC_AXISZ_HOMING: SMC_HOMING;\n\tfbSMC_AXISX_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 50, "start_line_no": 50, "end_line_no": 100, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_55-105", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tfbSMC_AXISY_READFBERROR: SMC_READFBERROR;\n\tfbSMC_AXISZ_READFBERROR: SMC_READFBERROR;\n\t\n\tfbSMC_ReadNCFile: SMC_ReadNCFile;\n\tfbSMC_NCDecoder: SMC_NCDecoder;\n\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 55, "start_line_no": 55, "end_line_no": 105, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_60-110", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tfbSMC_SmoothPath: SMC_SMOOTHPATH;\n\tfbSMC_CheckVelocities: SMC_CheckVelocities;\n\tfbSMC_Interpolator: SMC_Interpolator;\n\tfbSMC_ControlAxisXByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisYByPos: SMC_ControlAxisByPos;\n\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 60, "start_line_no": 60, "end_line_no": 110, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_65-115", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tfbSMC_ControlAxisZByPos: SMC_ControlAxisByPos;\n\tfbSMC_TRAFO_Gantry3: SMC_TRAFO_Gantry3;\n\tfbSMC_TRAFOF_Gantry3: SMC_TRAFOF_Gantry3;\n\tfbSMC_TRAFOF_Gantry3D: SMC_TRAFOF_Gantry3D;\n\tfbSMC_GCODEVIEWER: SMC_GCODEVIEWER;\nEND_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 65, "start_line_no": 65, "end_line_no": 115, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_70-120", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "END_VAR\n\nset:=TRUE;\n\n// 使用FB_TripleAxisPower进行三轴伺服使能\nfbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 70, "start_line_no": 70, "end_line_no": 120, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_75-125", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "fbTripleAxisPower(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbServoEnable := bServo_Enable\n);\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 75, "start_line_no": 75, "end_line_no": 125, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_80-130", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": ");\n\n// 更新错误状态\nIF NOT bError THEN\n\tIF fbTripleAxisPower.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 80, "start_line_no": 80, "end_line_no": 130, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_85-135", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisPower.sErrorString;\n\tEND_IF\nEND_IF\t\n\n\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 85, "start_line_no": 85, "end_line_no": 135, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_90-140", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\n//插补运动\t\nFBbHome_R_TRIG(CLK:=bHome);\t\nFBbCNC_Run_R_TRIG(CLK:=bCNC_Run);\nFBbCNC_Stop_R_TRIG(CLK:=bCNC_Stop);\n//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 90, "start_line_no": 90, "end_line_no": 140, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_95-145", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "//FBbCNC_Reset_R_TRIG(CLK:=bCNC_Reset);\n\n// 使用功能块的Ready状态\nbServo_Ready := fbTripleAxisPower.bReady;\nIF bServo_Ready THEN\n\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 95, "start_line_no": 95, "end_line_no": 145, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_100-150", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\n\tCASE iState OF\n\t\n\t0:\t// idle\n\t\tINIT();\n\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 100, "start_line_no": 100, "end_line_no": 150, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_105-155", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tIF NOT bHomeOK THEN\n\t\t\tIF FBbHome_R_TRIG.Q THEN\n\t\t\t\tiState:=5;\n\t\t\tEND_IF\n\t\tELSE\n\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 105, "start_line_no": 105, "end_line_no": 155, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_110-160", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tIF FBbCNC_Run_R_TRIG.Q THEN\n\t\t\t\tiState:=10;\n\t\t\tEND_IF\n\t\tEND_IF\n\t\n\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 110, "start_line_no": 110, "end_line_no": 160, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_115-165", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t5://回零\n\tGoHome();\n\tIF bHomeOK THEN\n\t\tiState:=0;\n\tEND_IF\n\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 115, "start_line_no": 115, "end_line_no": 165, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_120-170", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\n\t10:\t// start reading and processing \n\t\t//读G码文档\n\t\tfbSMC_ReadNCFile(\n\t\t\tbExecute:=TRUE , \n\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 120, "start_line_no": 120, "end_line_no": 170, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_125-175", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tsFileName:=sFilename , \n\t\t\tpvl:= , \n\t\t\tpBuffer:=ADR(agcwBufReadNCFile) , \n\t\t\tdwBufferSize:=SIZEOF(agcwBufReadNCFile) , \n\t\t\tfDefaultVel:= , \n\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 125, "start_line_no": 125, "end_line_no": 175, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_130-180", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tfDefaultAccel:= , \n\t\t\tfDefaultDecel:= , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 130, "start_line_no": 130, "end_line_no": 180, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_135-185", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tErrorID=> , \n\t\t\tbExecuteDecoder=>, \n\t\t\tncprog=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ReadNCFile.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 135, "start_line_no": 135, "end_line_no": 185, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_140-190", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ReadNCFile.ErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//G码解析\n\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 140, "start_line_no": 140, "end_line_no": 190, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_145-195", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tfbSMC_NCDecoder(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder , \n\t\t\tbAppend:= , \n\t\t\tbStepSuppress:= , \n\t\t\tpiStartPosition:= , \n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 145, "start_line_no": 145, "end_line_no": 195, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_150-200", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[0]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[0]) , \n\t\t\tncprog:=fbSMC_ReadNCFile.ncprog , \n\t\t\tbDone=> , \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 150, "start_line_no": 150, "end_line_no": 200, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_155-205", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=> , \n\t\t\tiStatus=> , \n\t\t\tiLineNumberDecoded=> , \n\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 155, "start_line_no": 155, "end_line_no": 205, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_160-210", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tGCodeText=> );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_NCDecoder.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_NCDecoder.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 160, "start_line_no": 160, "end_line_no": 210, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_165-215", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹平滑处理\t\n\t\tfbSMC_SmoothPath(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 165, "start_line_no": 165, "end_line_no": 215, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_170-220", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tpoqDataIn:=fbSMC_NCDecoder.poqDataOut,\n\t\t\tnSizeOutQueue:=SIZEOF(agiBufDecoder[1]) , \n\t\t\tpbyBufferOutQueue:=ADR(agiBufDecoder[1]) , \n\t\t\tbSymmetricalDistances:=FALSE);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 170, "start_line_no": 170, "end_line_no": 220, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_175-225", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tIF fbSMC_SmoothPath.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_SmoothPath.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 175, "start_line_no": 175, "end_line_no": 225, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_180-230", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t//轨迹速度处理\n\t\tfbSMC_CheckVelocities(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder ,\n\t\t\tpoqDataIn:=fbSMC_SmoothPath.poqDataOut , \n\t\t\tdAngleTol:= 1, \n\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 180, "start_line_no": 180, "end_line_no": 230, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_185-235", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tbBusy=> , \n\t\t\tbError=> , \n\t\t\twErrorID=> , \n\t\t\tpoqDataOut=>poqPath );\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 185, "start_line_no": 185, "end_line_no": 235, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_190-240", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tIF fbSMC_CheckVelocities.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_CheckVelocities.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 190, "start_line_no": 190, "end_line_no": 240, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_195-245", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t//插补运动\n\t\tfbSMC_Interpolator(\n\t\t\tbExecute:=fbSMC_ReadNCFile.bExecuteDecoder,\n\t\t\tdOverride:=(fOverride/100),\n\t\t\tpoqDataIn:=poqPath,\n\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 195, "start_line_no": 195, "end_line_no": 245, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_200-250", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tdwIpoTime:=dwIpoCycTime,\n\t\t\tbEmergency_Stop:=fbSMC_ControlAxisXByPos.bStopIpo OR fbSMC_ControlAxisYByPos.bStopIpo OR fbSMC_ControlAxisZByPos.bStopIpo);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_Interpolator.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 200, "start_line_no": 200, "end_line_no": 250, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_205-255", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_Interpolator.wErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\t\n\n\t\t//坐标系偏移\n\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 205, "start_line_no": 205, "end_line_no": 255, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_210-260", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tfbSMC_TRAFO_Gantry3(\n\t\t\tdOffsetX:=fAxisX_Offset,\n\t\t\tdOffsetY:=fAxisY_Offset,\n\t\t\tdOffsetz:=fAxisZ_Offset,\n\t\t\tpi:=fbSMC_Interpolator.piSetPosition);\n\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 210, "start_line_no": 210, "end_line_no": 260, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_215-265", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\t\n\t\t//轴运动控制\n\t\tfbSMC_ControlAxisXByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 215, "start_line_no": 215, "end_line_no": 265, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_220-270", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dx,\n\t\t\tfGapVelocity:=AXIS_X.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_X.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_X.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_X);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 220, "start_line_no": 220, "end_line_no": 270, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_225-275", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisXByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisXByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 225, "start_line_no": 225, "end_line_no": 275, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_230-280", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tEND_IF\t\n\t\t\t\n\t\tfbSMC_ControlAxisYByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 230, "start_line_no": 230, "end_line_no": 280, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_235-285", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dy,\n\t\t\tfGapVelocity:=AXIS_Y.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Y.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Y.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Y);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 235, "start_line_no": 235, "end_line_no": 285, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_240-290", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisYByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisYByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 240, "start_line_no": 240, "end_line_no": 290, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_245-295", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tEND_IF\n\t\t\t\n\t\tfbSMC_ControlAxisZByPos(\n\t\t\tbEnable:=fbSMC_Interpolator.bWorking,\n\t\t\tiStatus:=fbSMC_Interpolator.iStatus,\n\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 245, "start_line_no": 245, "end_line_no": 295, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_250-300", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\t\tfSetPosition:=fbSMC_TRAFO_Gantry3.dz,\n\t\t\tfGapVelocity:=AXIS_Z.fSWMaxVelocity,\n\t\t\tfGapAcceleration:=AXIS_Z.fSWMaxAcceleration,\n\t\t\tfGapDeceleration:=AXIS_Z.fSWMaxDeceleration,\n\t\t\tAxis:=AXIS_Z);\n\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\nEND_IF\n\n// 停止完成后复位状态\nIF fbTripleAxisStop.bDone THEN\n\tbHomeOK := FALSE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 250, "start_line_no": 250, "end_line_no": 300, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_255-305", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tIF NOT bError THEN\n\t\t\tIF fbSMC_ControlAxisZByPos.bError THEN\n\t\t\t\tbError:=TRUE;\n\t\t\t\tSMC_ERRORSTRING(ErrorID:=fbSMC_ControlAxisZByPos.iErrorID,Language:=english,SMC_ErrorString=>sSystem_Error);\n\t\t\tEND_IF\n\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\nEND_IF\n\n// 停止完成后复位状态\nIF fbTripleAxisStop.bDone THEN\n\tbHomeOK := FALSE;\n\tiState := 0;\nEND_IF\n\n// 使用FB_TripleAxisReset进行三轴复位\nfbTripleAxisReset(\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 255, "start_line_no": 255, "end_line_no": 305, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_260-310", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tEND_IF\n\t\t\n\t\tIF fbSMC_Interpolator.bDone THEN\n\t\t\tiState:=20;\n\t\tEND_IF\n\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\nEND_IF\n\n// 停止完成后复位状态\nIF fbTripleAxisStop.bDone THEN\n\tbHomeOK := FALSE;\n\tiState := 0;\nEND_IF\n\n// 使用FB_TripleAxisReset进行三轴复位\nfbTripleAxisReset(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := bCNC_Reset\n);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 260, "start_line_no": 260, "end_line_no": 310, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_265-315", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tAXIS_SIM();\n\t\tAct_Gline:=AUTO_CNC.fbSMC_Interpolator.iObjNo;\n\t\t\n\t\t20:\n\t\tINIT();\n\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\nEND_IF\n\n// 停止完成后复位状态\nIF fbTripleAxisStop.bDone THEN\n\tbHomeOK := FALSE;\n\tiState := 0;\nEND_IF\n\n// 使用FB_TripleAxisReset进行三轴复位\nfbTripleAxisReset(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := bCNC_Reset\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisReset.bError THEN\n\t\tbError := TRUE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 265, "start_line_no": 265, "end_line_no": 315, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_270-320", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\t\tiState:=10;\n\t\t\n\tEND_CASE\n\t\nELSE\n\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\nEND_IF\n\n// 停止完成后复位状态\nIF fbTripleAxisStop.bDone THEN\n\tbHomeOK := FALSE;\n\tiState := 0;\nEND_IF\n\n// 使用FB_TripleAxisReset进行三轴复位\nfbTripleAxisReset(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := bCNC_Reset\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisReset.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisReset.sErrorString;\n\tEND_IF\nEND_IF\n\n// 复位完成后清除错误并复位状态\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 270, "start_line_no": 270, "end_line_no": 320, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_275-325", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "\tINIT();\n\tbHomeOK:=FALSE;\n\tiState:=0;\nEND_IF\n\n// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\nEND_IF\n\n// 停止完成后复位状态\nIF fbTripleAxisStop.bDone THEN\n\tbHomeOK := FALSE;\n\tiState := 0;\nEND_IF\n\n// 使用FB_TripleAxisReset进行三轴复位\nfbTripleAxisReset(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := bCNC_Reset\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisReset.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisReset.sErrorString;\n\tEND_IF\nEND_IF\n\n// 复位完成后清除错误并复位状态\nIF bCNC_Reset THEN\n\tbError := FALSE;\n\tiState := 0;\nEND_IF\n\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 275, "start_line_no": 275, "end_line_no": 325, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC.st_280-329", "title": "三轴CNC运动实训-PRG\\AUTO_CNC.st", "text": "// 使用FB_TripleAxisStop进行三轴停止\nfbTripleAxisStop(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := FBbCNC_Stop_R_TRIG.Q,\n\trDeceleration := 100.0\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisStop.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisStop.sErrorString;\n\tEND_IF\nEND_IF\n\n// 停止完成后复位状态\nIF fbTripleAxisStop.bDone THEN\n\tbHomeOK := FALSE;\n\tiState := 0;\nEND_IF\n\n// 使用FB_TripleAxisReset进行三轴复位\nfbTripleAxisReset(\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbExecute := bCNC_Reset\n);\n\n// 错误检查\nIF NOT bError THEN\n\tIF fbTripleAxisReset.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisReset.sErrorString;\n\tEND_IF\nEND_IF\n\n// 复位完成后清除错误并复位状态\nIF bCNC_Reset THEN\n\tbError := FALSE;\n\tiState := 0;\nEND_IF\n\n// 默认状态：无错误\nIF NOT bError THEN\n\tsSystem_Error := 'CNC_NO_ERROR';\nEND_IF", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC.st"], "repo": "三轴CNC运动实训", "line_no": 280, "start_line_no": 280, "end_line_no": 329, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC_AXIS_SIM.st_0-25", "title": "三轴CNC运动实训-PRG\\AUTO_CNC_AXIS_SIM.st", "text": "\t//空间坐标系数据处理\n\tfbSMC_TRAFOF_Gantry3D(\n\t\tdOffsetX:=fAxisX_Offset,\n\t\tdOffsetY:=fAxisY_Offset,\n\t\tdOffsetz:=fAxisZ_Offset,\n\t\tminX:=0,\n\t\tmaxX:=300,\n\t\tminY:=0,\n\t\tmaxY:=300,\n\t\tminZ:=0,\n\t\tmaxZ:=300,\n\t\tDriveX:=AXIS_X,\n\t\tDriveY:=AXIS_Y,\n\t\tDriveZ:=AXIS_Z);\n\t//龙床架构机械数据处理\t\n\tfbSMC_TRAFOF_Gantry3(\n\t\tdOffsetX:=fAxisX_Offset,\n\t\tdOffsetY:=fAxisY_Offset,\n\t\tdOffsetz:=fAxisZ_Offset,\n\t\tminX:=0,\n\t\tmaxX:=300,\n\t\tminY:=0,\n\t\tmaxY:=300,\n\t\tDriveX:=AXIS_X,\n\t\tDriveY:=AXIS_Y,\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC_AXIS_SIM.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC_AXIS_SIM.st_0-26", "title": "三轴CNC运动实训-PRG\\AUTO_CNC_AXIS_SIM.st", "text": "\t//空间坐标系数据处理\n\tfbSMC_TRAFOF_Gantry3D(\n\t\tdOffsetX:=fAxisX_Offset,\n\t\tdOffsetY:=fAxisY_Offset,\n\t\tdOffsetz:=fAxisZ_Offset,\n\t\tminX:=0,\n\t\tmaxX:=300,\n\t\tminY:=0,\n\t\tmaxY:=300,\n\t\tminZ:=0,\n\t\tmaxZ:=300,\n\t\tDriveX:=AXIS_X,\n\t\tDriveY:=AXIS_Y,\n\t\tDriveZ:=AXIS_Z);\n\t//龙床架构机械数据处理\t\n\tfbSMC_TRAFOF_Gantry3(\n\t\tdOffsetX:=fAxisX_Offset,\n\t\tdOffsetY:=fAxisY_Offset,\n\t\tdOffsetz:=fAxisZ_Offset,\n\t\tminX:=0,\n\t\tmaxX:=300,\n\t\tminY:=0,\n\t\tmaxY:=300,\n\t\tDriveX:=AXIS_X,\n\t\tDriveY:=AXIS_Y,\n\t\tDriveZ:=AXIS_Z);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC_AXIS_SIM.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 26, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC_GoHome.st_0-25", "title": "三轴CNC运动实训-PRG\\AUTO_CNC_GoHome.st", "text": "// 使用FB_TripleAxisHoming进行三轴回零\nfbTripleAxisHoming(\n\tbExecute := NOT bHomeOK,\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbAxisXRefSwitch := bAxisXReferenceSwitch,\n\tbAxisYRefSwitch := bAxisYReferenceSwitch,\n\tbAxisZRefSwitch := bAxisZReferenceSwitch,\n\tfVelocitySlow := fHomeVelocitySlow,\n\tfVelocityFast := fHomeVelocityFast,\n\tfAcceleration := fHomeAcceleration,\n\tfDeceleration := fHomeDeceleration\n);\n\n// 更新回零状态\nbHomeOK := fbTripleAxisHoming.bHomeOK;\nbAxisXHomeOK := fbTripleAxisHoming.bAxisXHomeOK;\nbAxisYHomeOK := fbTripleAxisHoming.bAxisYHomeOK;\nbAxisZHomeOK := fbTripleAxisHoming.bAxisZHomeOK;\n\n// 错误处理\nIF NOT bError THEN\n\tIF fbTripleAxisHoming.bError THEN\n\t\tbError := TRUE;\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC_GoHome.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC_GoHome.st_0-28", "title": "三轴CNC运动实训-PRG\\AUTO_CNC_GoHome.st", "text": "// 使用FB_TripleAxisHoming进行三轴回零\nfbTripleAxisHoming(\n\tbExecute := NOT bHomeOK,\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z,\n\tbAxisXRefSwitch := bAxisXReferenceSwitch,\n\tbAxisYRefSwitch := bAxisYReferenceSwitch,\n\tbAxisZRefSwitch := bAxisZReferenceSwitch,\n\tfVelocitySlow := fHomeVelocitySlow,\n\tfVelocityFast := fHomeVelocityFast,\n\tfAcceleration := fHomeAcceleration,\n\tfDeceleration := fHomeDeceleration\n);\n\n// 更新回零状态\nbHomeOK := fbTripleAxisHoming.bHomeOK;\nbAxisXHomeOK := fbTripleAxisHoming.bAxisXHomeOK;\nbAxisYHomeOK := fbTripleAxisHoming.bAxisYHomeOK;\nbAxisZHomeOK := fbTripleAxisHoming.bAxisZHomeOK;\n\n// 错误处理\nIF NOT bError THEN\n\tIF fbTripleAxisHoming.bError THEN\n\t\tbError := TRUE;\n\t\tsSystem_Error := fbTripleAxisHoming.sErrorString;\n\tEND_IF\nEND_IF", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC_GoHome.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 28, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC_INIT.st_0-25", "title": "三轴CNC运动实训-PRG\\AUTO_CNC_INIT.st", "text": "// 复位回零标志\nbAxisXHomeOK := FALSE;\nbAxisYHomeOK := FALSE;\nbAxisZHomeOK := FALSE;\nAct_Gline := 0;\n\n// 使用INIT_CNC_System函数进行系统初始化\nINIT_CNC_System(\n\tfbSMC_ReadNCFile := fbSMC_ReadNCFile,\n\tfbSMC_NCDecoder := fbSMC_NCDecoder,\n\tfbSMC_CheckVelocities := fbSMC_CheckVelocities,\n\tfbSMC_Interpolator := fbSMC_Interpolator,\n\tfbSMC_ControlAxisXByPos := fbSMC_ControlAxisXByPos,\n\tfbSMC_ControlAxisYByPos := fbSMC_ControlAxisYByPos,\n\tfbSMC_ControlAxisZByPos := fbSMC_ControlAxisZByPos,\n\tfbSMC_AXISX_HOMING := fbSMC_AXISX_HOMING,\n\tfbSMC_AXISY_HOMING := fbSMC_AXISY_HOMING,\n\tfbSMC_AXISZ_HOMING := fbSMC_AXISZ_HOMING,\n\tfbMC_AXISX_STOP := fbMC_AXISX_STOP,\n\tfbMC_AXISY_STOP := fbMC_AXISY_STOP,\n\tfbMC_AXISZ_STOP := fbMC_AXISZ_STOP,\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z\n);\n", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC_INIT.st"], "repo": "三轴CNC运动实训", "line_no": 0, "start_line_no": 0, "end_line_no": 25, "window_size": 50, "slice_size": 5}]}
{"_id": "三轴CNC运动实训_PRG_AUTO_CNC_INIT.st_0-27", "title": "三轴CNC运动实训-PRG\\AUTO_CNC_INIT.st", "text": "// 复位回零标志\nbAxisXHomeOK := FALSE;\nbAxisYHomeOK := FALSE;\nbAxisZHomeOK := FALSE;\nAct_Gline := 0;\n\n// 使用INIT_CNC_System函数进行系统初始化\nINIT_CNC_System(\n\tfbSMC_ReadNCFile := fbSMC_ReadNCFile,\n\tfbSMC_NCDecoder := fbSMC_NCDecoder,\n\tfbSMC_CheckVelocities := fbSMC_CheckVelocities,\n\tfbSMC_Interpolator := fbSMC_Interpolator,\n\tfbSMC_ControlAxisXByPos := fbSMC_ControlAxisXByPos,\n\tfbSMC_ControlAxisYByPos := fbSMC_ControlAxisYByPos,\n\tfbSMC_ControlAxisZByPos := fbSMC_ControlAxisZByPos,\n\tfbSMC_AXISX_HOMING := fbSMC_AXISX_HOMING,\n\tfbSMC_AXISY_HOMING := fbSMC_AXISY_HOMING,\n\tfbSMC_AXISZ_HOMING := fbSMC_AXISZ_HOMING,\n\tfbMC_AXISX_STOP := fbMC_AXISX_STOP,\n\tfbMC_AXISY_STOP := fbMC_AXISY_STOP,\n\tfbMC_AXISZ_STOP := fbMC_AXISZ_STOP,\n\tAxisX := AXIS_X,\n\tAxisY := AXIS_Y,\n\tAxisZ := AXIS_Z\n);\n\n//fbSMC_GCODEVIEWER(bEnable:=FALSE,GCodeText:=fbSMC_NCDecoder.GCodeText);", "metadata": [{"fpath_tuple": ["三轴CNC运动实训", "PRG\\AUTO_CNC_INIT.st"], "repo": "三轴CNC运动实训", "line_no": 5, "start_line_no": 0, "end_line_no": 27, "window_size": 50, "slice_size": 5}]}
