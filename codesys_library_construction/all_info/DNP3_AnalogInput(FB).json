{
  "library": "DNP3",
  "title": "AnalogInput(FB)",
  "url": "https://content.helpme-codesys.com/en/libs/DNP3/Current/DNP3/Function-Blocks/Outstation/Points/AnalogInput.html",
  "page_title": "AnalogInput (FB)",
  "text": "DNP3\nDoc\nIntegration of datapoints into the application\nExample\nIntroduction\nCODESYS DNP3 - Components\nOutstation data model and datapoints\nOutstation datapoint - inputs versa configuration\nOutstation datapoint inputs / outputs of type AnyNumber\nOutstation data flow\nMaster functionality\nMaster data flow\nCalling function block instances\nApplication bringup and debugging\nEnums\nCommandRejectReason (Enum)\nDoubleBitState (Enum)\nError (Enum)\nFunction Blocks\nAnyNumberConverter\nAnyNumberToDINT (FunctionBlock)\nAnyNumberToINT (FunctionBlock)\nAnyNumberToLREAL (FunctionBlock)\nAnyNumberToREAL (FunctionBlock)\nAnyNumberToSINT (FunctionBlock)\nAnyNumberToUDINT (FunctionBlock)\nAnyNumberToUINT (FunctionBlock)\nAnyNumberToUSINT (FunctionBlock)\nDINTToAnyNumber (FunctionBlock)\nINTToAnyNumber (FunctionBlock)\nLREALToAnyNumber (FunctionBlock)\nREALToAnyNumber (FunctionBlock)\nSINTToAnyNumber (FunctionBlock)\nUDINTToAnyNumber (FunctionBlock)\nUINTToAnyNumber (FunctionBlock)\nUSINTToAnyNumber (FunctionBlock)\nETHdeviceHelper (FunctionBlock)\nMaster\nAddressQualifier (Enum)\nAnalogInfo (Struct)\nAutoUpdateMode (Enum)\nCROB_Info (Struct)\nCommands\nFreezeTimeDateField (Enum)\nFunctionCode (Enum)\nMaster (FunctionBlock)\nMasterConfiguration (FunctionBlock)\nMasterConfigurationCOM (FunctionBlock)\nMasterConfigurationIP (FunctionBlock)\nMasterLoggingOptions (Enum)\nPointObserver\nTimeSyncType (Enum)\nOutstation\nDNP3OutstationSessionConfigEvents (Struct)\nDNP3OutstationSessionConfigUnsolicitedResponse (Struct)\nEvents\nGroups\nOutstation (FunctionBlock)\nOutstationConfiguration (FunctionBlock)\nOutstationConfigurationCOM (FunctionBlock)\nOutstationConfigurationIP (FunctionBlock)\nOutstationDataModel (FunctionBlock)\nOutstationDataModelExample (FunctionBlock)\nOutstationLoggingOptions (Enum)\nPoints\nFunctions\nAnyNumber\nAnyNumberArithmetic (Function)\nAnyNumberArithmeticOperation (Enum)\nAnyNumberAssign (Function)\nAnyNumberAssignIfNotEqual (Function)\nAnyNumberCheck (Function)\nAnyNumberClipToLimits (Function)\nAnyNumberCompare (Function)\nAnyNumberCompareOperation (Enum)\nAnyNumberConvertFromDINT (Function)\nAnyNumberConvertFromINT (Function)\nAnyNumberConvertFromLREAL (Function)\nAnyNumberConvertFromREAL (Function)\nAnyNumberConvertFromSINT (Function)\nAnyNumberConvertFromUDINT (Function)\nAnyNumberConvertFromUINT (Function)\nAnyNumberConvertFromUSINT (Function)\nAnyNumberConvertToDINT (Function)\nAnyNumberConvertToINT (Function)\nAnyNumberConvertToLREAL (Function)\nAnyNumberConvertToREAL (Function)\nAnyNumberConvertToSINT (Function)\nAnyNumberConvertToUDINT (Function)\nAnyNumberConvertToUINT (Function)\nAnyNumberConvertToUSINT (Function)\nAnyNumberInitToZero (Function)\nAnyNumberIsWithinLimits (Function)\nAnyNumberMaximum (Function)\nAnyNumberMinimum (Function)\nAnyNumberToString (Function)\nAnyNumberTypeEquals (Function)\nAnyNumberTypeToString (Function)\nAnyNumberValueToString (Function)\nAnyNumberZero (Function)\nGetCurrentDateTime (Function)\nGlobalConstants\nConstants (GVL)\nConstantsInternal (GVL)\nInterfaces\nIPoint (Interface)\nGetDescriptionString (Method)\nIdentificationToString (Method)\nPointNum (Property)\nPointTyp (Property)\nToString (Method)\nIPointObserver (Interface)\nEnabled (Property)\nEquals (Method)\nGetError (Method)\nGetErrorId (Method)\nGetSequenceNumber (Method)\nIsModified (Property)\nKey (Property)\nNum (Property)\nToString (Method)\nTyp (Property)\nParameter\nParameter (ParamList)\nTypes\nAnyNumber\nAnyNumber (Struct)\nAnyNumberPointerUnion (Union)\nAnyNumberType (Enum)\nAnyNumberUnion (Union)\nAnyNumberValueUnion (Union)\nCOMParity (Enum)\nCOMStopBits (Enum)\nDNP3_String (Alias)\nLibrary Information\nGetLibVersion (Function)\nGetLibVersionNumber (Function)\nIsLibReleased (Function)\nFile and Project Information\nLibrary Reference\n3SLicense\nLibrary Identification\nLibrary Properties\nCmpApp\nLibrary Identification\nLibrary Properties\nCmpDNP3\nLibrary Identification\nLibrary Properties\nCmpErrors2 Interfaces\nLibrary Identification\nLibrary Properties\nCmpEventMgr\nLibrary Identification\nLibrary Properties\nCmpLog\nLibrary Identification\nLibrary Properties\nComponent Manager\nLibrary Identification\nLibrary Properties\nIoDrvEthernet Interfaces\nLibrary Identification\nLibrary Properties\nIoDrvUtility\nLibrary Identification\nLibrary Properties\nIoStandard\nLibrary Identification\nLibrary Properties\nStandard\nLibrary Identification\nLibrary Properties\nSysCpuHandling\nLibrary Identification\nLibrary Properties\nSysMem\nLibrary Identification\nLibrary Properties\nSysSocket\nLibrary Identification\nLibrary Properties\nSysTask\nLibrary Identification\nLibrary Properties\nSysTimeCore\nLibrary Identification\nLibrary Properties\nSysTimeRtc\nLibrary Identification\nLibrary Properties\nSysTypes2 Interfaces\nLibrary Identification\nLibrary Properties\nUtil\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nDNP3\nDocs\n»\nDNP3\n»\nFunction\nBlocks\n»\nOutstation\n»\nPoints\n»\nAnalogInput (FB)\nAnalogInput (FB)\nÂ¶\nFUNCTION_BLOCK FINAL AnalogInput EXTENDS\nPointWithFlags\nDNP3 datapoint of type Analog Input including its deadband.\nAn instance of AnalogInput does represent an instance of a datapoint of DNP3 object group 30 âanalog inputsâ,\nand optionally also a datapoint of DNP3 object group 31 âfrozen analog inputsâ and\na datapoint of DNP3 object group 34 âanalog input reporting deadbandsâ.\nAnalogInput provides a lowLimit, highLimit and a deadband.\nDonât confuse this deadband with an instance of DNP3 object group 34 âanalog input reporting deadbandsâ.\nThe AnalogInput.deadBand is an private functionality of an AnalogInput instance.\nDNP3 master read/write access to this deadBand can be enabled with an optional instance of AnalogInputDeadband\nwhich relates to the same point number.\nDNP3 Analog Input provides the option to use certain data types to represent the value using\nAnyNumber\n.\nSINT (8bit -128 .. 127)\nUSINT (16bit 0 .. 255)\nINT (16bit -32768 .. 32767)\nUINT (16bit 0 .. 65535)\nDINT (32bit -2147483648 .. 2147483647)\nUDINT (32bit 0 .. 4294967295)\nREAL\nDOUBLE\nAny one of the types listed can be used for value, lowLimit, highLimit and deadBand,\nall variables have to be of same base type.\nPlease be aware:\nAnyNumber\nprovides a value representation as well as a POINTER TO value representation.\nDNP3 object group 31 âfrozen analog inputsâ behaviour\nÂ¶\nIn general the DNP3 âfreezeâ is an activity only relevant for the master,\nthe âfrozenâ value is not of any interest for the application.\nNevertheless DNP3 defines a âfreeze-and-clearâ operation.\nThe DNP3 standard states - begin of citation â¦\nWith a freeze-and-clear type operation the\nunderlying analog input value is preset to a suitable, possibly non-zero number after its value is copied to\nthe frozen analog variable. Two applications where freeze-and-clear would be useful are when the\nunderlying analog input holds either a peak value (minimum or maximum) or an integrated value that is\nreinitialized by the clear action from a freeze-and-clear request.\nâ¦ end of citation.\nThis functionality is optional, and can be disabled setting enableFreezeAndClear:=FALSE.\nIf enabled, there are two aspects to take care of.\nFirst: the underlying analog input value is preset to freezeAndClearValue during a âfreeze-and-clearâ operation - be aware: the variable value will be modified.\nSecond: eventually the application need to know, that an âfreeze-and-clearâ operation happend and need to do someting useful.\nThe output freezeAndClearOccurred is set to TRUE for one application cycle, to signal the application to do its part.\nInOut:\nScope\nName\nType\nInitial\nComment\nInherited from\nInput\nDescription\nSTRING\nDescription of the datapoint - this is a configuration,\nchanges are ignored after Outstation was enabled.\nPoint\nNumber\nDINT\n-1\nPoint number - this is a configuration, changes are ignored after Outstation was enabled..\nThe point number can be configured if needed to either:\nstart with Point number > 0\nhave gaps in Point numbers\nIf set to -1 (the default) the OutstationDataModel (more precisely the related âGroupâ) takes care to set the Point number internally:\nstarting at 0, if first Point number is not set explicitly.\nincrement by 1\nIn case you set Point number explicitly please keep it consistent:\nPoint numbers need to be >= 0\nPoint numbers need to be ascending\nPoint\nEventClass\nUSINT\nConstants.TMWDEFS_CLASS_MASK_ONE\nThe initial event class - this is a configuration, changes are ignored after Outstation was enabled.\nOperational event class may be changed by a master.\nPoint\nEventMode\nPointEventMode\nPointEventMode.EVENT_MODE_SOE\nThe event mode - this is a configuration, changes are ignored after Outstation was enabled.\nOnly used if the sampling rate is set within the outstation configuration.\nPoint\ntScanPeriod\nTIME\nTIME#0ms\nScan period for datapoint.\nIf tScanPeriod is set to T#0MS, the Group related tScanPeriod or the OutstationDataModel.tScanPeriod is used.\nPoint\nudiLogOptions\nUDINT\nOutstationLoggingOptions.None\nLoggingOptions can be combined using OR.\nPoint\nOutput\nxError\nBOOL\nAn error occured.\nPoint\neErrorID\nError\nThe specific error.\nPoint\nInput\nflags\nBYTE\nConstants.DNPDEFS_DBAS_FLAG_ON_LINE\nFlags used by the point. Can be changed in case a point goes offline or any other error.\nIf set to 0, the variation without flags will be used by DNP3\nPointWithFlags\nEventWithTimeStamp\nBOOL\nTRUE\nEnable / disable if events will be send with / without\ntimestamp - this is a configuration, changes are ignored\nafter Outstation was enabled.\nEnableFreeze\nBOOL\nFALSE\nEnable / disable freezing the current value - this is a configuration, changes are ignored after Outstation was enabled.\nIf enabled, an instance of DNP3 object group 31 âfrozen analog inputsâ is created.\nFreezeEventClass\nUSINT\nConstants.TMWDEFS_CLASS_MASK_ONE\nThe initial event class used for the optional datapoint of DNP3 object group 31 âfrozen analog inputsâ - this is a configuration, changes are ignored after Outstation was enabled.\nOperational event class may be changed by a master.\nFreezeEventMode\nPointEventMode\nPointEventMode.EVENT_MODE_SOE\nThe event mode used for the optional datapoint of DNP3 object group 31 âfrozen analog inputsâ - this is a configuration, changes are ignored after Outstation was enabled.\nOnly used if the sampling rate is set within the outstation configuration.\nEnableMasterAccessDeadband\nBOOL\nFALSE\nEnable / disable providing master access to the deadband - this is a configuration, changes are ignored after Outstation was enabled.\nIf enabled, an instance of DNP3 object group 34 âanalog input reporting deadbandsâ is created.\nvalue\nAnyNumber\nThe current value to use, in most cases using the POINTER TO\nvalue representation is appropriate.\nlowLimit\nAnyNumber\nThe low limit to operate with - default is numerical minimum\nhighLimit\nAnyNumber\nThe high limit to operate with - default is numerical\nmaximum.\ndeadBand\nAnyNumber\nThe deadband to operate with - default is 0.0.\nenableWriteDeadband\nBOOL\nTRUE\nEnable / disable master write to deadband, only relevant, if EnableMasterAccessDeadband is set to TRUE.\nNevertheless EnableMasterAccessDeadband is set to TRUE, it might be necessary to reject master write to deadband during operation.\nresetDeadband\nBOOL\nFALSE\nA deadband value resulting from an active master write will be reset at rising edge (resetDeadband FALSE â> TRUE).\nAfter reset, the local deadband value is used until next master master write to deadband.\nenableFreezeAndClear\nBOOL\nTRUE\nEnable / disable âfreeze-and-clearâ operation.\nfreezeAndClearValue\nAnyNumber\nThe value to use for âfreeze-and-clearâ operation - default\nis 0.0.\nOutput\nresultingDeadBand\nAnyNumber\nThe resulting deadband, results from deadband or accepted\nwrite to deadband request.\nmasterChangedDeadband\nBOOL\nA master write to deadband was accepted and is active right now.\nThe deadband value issued with the master write is used as a resultingDeadBand until a reset happens - see resetDeadband.\nfreezeAndClearOccurred\nBOOL\nA freeze-and-clear occured.\nProperties:\nPointNum\n, inherited from\nPoint\nPointTyp\n, inherited from\nPoint\nMethods:\nGetDescriptionString\n, inherited from\nPoint\nIdentificationToString\n, inherited from\nPoint\nToString\n, inherited from\nPointWithFlags",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment",
        "Inherited from"
      ],
      "rows": [
        {
          "Scope": "Input",
          "Name": "Description",
          "Type": "STRING",
          "Initial": "",
          "Comment": "Description of the datapoint - this is a configuration,\nchanges are ignored after Outstation was enabled.",
          "Inherited from": "Point"
        },
        [
          "Number",
          "DINT",
          "-1",
          "Point number - this is a configuration, changes are ignored after Outstation was enabled..\nThe point number can be configured if needed to either:start with Point number > 0have gaps in Point numbersIf set to -1 (the default) the OutstationDataModel (more precisely the related âGroupâ) takes care to set the Point number internally:starting at 0, if first Point number is not set explicitly.increment by 1In case you set Point number explicitly please keep it consistent:Point numbers need to be >= 0Point numbers need to be ascending",
          "Point"
        ],
        [
          "EventClass",
          "USINT",
          "Constants.TMWDEFS_CLASS_MASK_ONE",
          "The initial event class - this is a configuration, changes are ignored after Outstation was enabled.\nOperational event class may be changed by a master.",
          "Point"
        ],
        [
          "EventMode",
          "PointEventMode",
          "PointEventMode.EVENT_MODE_SOE",
          "The event mode - this is a configuration, changes are ignored after Outstation was enabled.\nOnly used if the sampling rate is set within the outstation configuration.",
          "Point"
        ],
        [
          "tScanPeriod",
          "TIME",
          "TIME#0ms",
          "Scan period for datapoint.\nIf tScanPeriod is set to T#0MS, the Group related tScanPeriod or the OutstationDataModel.tScanPeriod is used.",
          "Point"
        ],
        [
          "udiLogOptions",
          "UDINT",
          "OutstationLoggingOptions.None",
          "LoggingOptions can be combined using OR.",
          "Point"
        ],
        {
          "Scope": "Output",
          "Name": "xError",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "An error occured.",
          "Inherited from": "Point"
        },
        [
          "eErrorID",
          "Error",
          "",
          "The specific error.",
          "Point"
        ],
        {
          "Scope": "Input",
          "Name": "flags",
          "Type": "BYTE",
          "Initial": "Constants.DNPDEFS_DBAS_FLAG_ON_LINE",
          "Comment": "Flags used by the point. Can be changed in case a point goes offline or any other error.\nIf set to 0, the variation without flags will be used by DNP3",
          "Inherited from": "PointWithFlags"
        },
        [
          "EventWithTimeStamp",
          "BOOL",
          "TRUE",
          "Enable / disable if events will be send with / without\ntimestamp - this is a configuration, changes are ignored\nafter Outstation was enabled.",
          ""
        ],
        [
          "EnableFreeze",
          "BOOL",
          "FALSE",
          "Enable / disable freezing the current value - this is a configuration, changes are ignored after Outstation was enabled.\nIf enabled, an instance of DNP3 object group 31 âfrozen analog inputsâ is created.",
          ""
        ],
        [
          "FreezeEventClass",
          "USINT",
          "Constants.TMWDEFS_CLASS_MASK_ONE",
          "The initial event class used for the optional datapoint of DNP3 object group 31 âfrozen analog inputsâ - this is a configuration, changes are ignored after Outstation was enabled.\nOperational event class may be changed by a master.",
          ""
        ],
        [
          "FreezeEventMode",
          "PointEventMode",
          "PointEventMode.EVENT_MODE_SOE",
          "The event mode used for the optional datapoint of DNP3 object group 31 âfrozen analog inputsâ - this is a configuration, changes are ignored after Outstation was enabled.\nOnly used if the sampling rate is set within the outstation configuration.",
          ""
        ],
        [
          "EnableMasterAccessDeadband",
          "BOOL",
          "FALSE",
          "Enable / disable providing master access to the deadband - this is a configuration, changes are ignored after Outstation was enabled.\nIf enabled, an instance of DNP3 object group 34 âanalog input reporting deadbandsâ is created.",
          ""
        ],
        [
          "value",
          "AnyNumber",
          "",
          "The current value to use, in most cases using the POINTER TO\nvalue representation is appropriate.",
          ""
        ],
        [
          "lowLimit",
          "AnyNumber",
          "",
          "The low limit to operate with - default is numerical minimum",
          ""
        ],
        [
          "highLimit",
          "AnyNumber",
          "",
          "The high limit to operate with - default is numerical\nmaximum.",
          ""
        ],
        [
          "deadBand",
          "AnyNumber",
          "",
          "The deadband to operate with - default is 0.0.",
          ""
        ],
        [
          "enableWriteDeadband",
          "BOOL",
          "TRUE",
          "Enable / disable master write to deadband, only relevant, if EnableMasterAccessDeadband is set to TRUE.\nNevertheless EnableMasterAccessDeadband is set to TRUE, it might be necessary to reject master write to deadband during operation.",
          ""
        ],
        [
          "resetDeadband",
          "BOOL",
          "FALSE",
          "A deadband value resulting from an active master write will be reset at rising edge (resetDeadband FALSE â> TRUE).\nAfter reset, the local deadband value is used until next master master write to deadband.",
          ""
        ],
        [
          "enableFreezeAndClear",
          "BOOL",
          "TRUE",
          "Enable / disable âfreeze-and-clearâ operation.",
          ""
        ],
        [
          "freezeAndClearValue",
          "AnyNumber",
          "",
          "The value to use for âfreeze-and-clearâ operation - default\nis 0.0.",
          ""
        ],
        {
          "Scope": "Output",
          "Name": "resultingDeadBand",
          "Type": "AnyNumber",
          "Initial": "",
          "Comment": "The resulting deadband, results from deadband or accepted\nwrite to deadband request.",
          "Inherited from": ""
        },
        [
          "masterChangedDeadband",
          "BOOL",
          "",
          "A master write to deadband was accepted and is active right now.\nThe deadband value issued with the master write is used as a resultingDeadBand until a reset happens - see resetDeadband.",
          ""
        ],
        [
          "freezeAndClearOccurred",
          "BOOL",
          "",
          "A freeze-and-clear occured.",
          ""
        ]
      ]
    }
  ]
}