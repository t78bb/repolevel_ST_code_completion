{
  "library": "SM3_CNC",
  "title": "SMC_XInterpolator (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/SM3_CNC/Current/SM_CNC_POUs/SoftMotion-CNC/SoftMotion-Function-Blocks/SMC_XInterpolator.html",
  "page_title": "SMC_XInterpolator (FB)",
  "text": "GlobalTextList (GlobalTextList)\nImagePool_cnc_sm3 (ImagePool)\nImages\nLibrary Information\nGetLibVersion (Function)\nGetLibVersionNumber (Function)\nIsLibReleased (Function)\nProjektinformationen\nGetBooleanProperty (Function)\nGetCompany (Function)\nGetNumberProperty (Function)\nGetTextProperty (Function)\nGetTextProperty2 (Function)\nGetTitle (Function)\nGetVersion (Function)\nGetVersionProperty (Function)\nSM3_CNC_GetVersion (Function)\nSMC_CNC_LibParams (ParamList)\nSM_CNC_Data types\nFile\nSMC_SINGLEVAR (Struct)\nSMC_TOKENTYPE (Enum)\nSMC_VARLIST (Struct)\nSMC_VARTYPE (Enum)\nSoftMotion CNC\nSMC_ABC_SLOPES_AT_STOP (Enum)\nSMC_ABC_SLOPES_NO_STOP (Enum)\nSMC_ADDAXIS (Enum)\nSMC_AL_STATUS (Enum)\nSMC_CNC_REF (FunctionBlock)\nSMC_DEC_STATUS (Enum)\nSMC_DIRECTION (Enum)\nSMC_GAddress (Alias)\nSMC_GCODEVIEWER_DATA (Struct)\nSMC_GCODE_TEXT (Struct)\nSMC_GCODE_WORD (Struct)\nSMC_GCodeObjectId (Struct)\nSMC_GEOINFO (Struct)\nSMC_GWord (Struct)\nSMC_INT_STATUS (Enum)\nSMC_INT_VELMODE (Enum)\nSMC_LINE_3D (Struct)\nSMC_MOVTYP (Enum)\nSMC_M_PARAMETERS (Struct)\nSMC_OBJECTSPLITTERMODE (Enum)\nSMC_ORI_CONVENTION (Enum)\nSMC_OUTQUEUE (FunctionBlock)\nbFull (Property)\nSMC_PLANE_H (Struct)\nSMC_POSINFO (Struct)\nSMC_SEGMENT (Struct)\nSMC_SEGMENTTYPE (Enum)\nSMC_SMOOTHBSPLINE_MODE (Enum)\nSMC_SMOOTHPATHADDAXMODE (Enum)\nSMC_SMOOTHPATHMODE (Enum)\nSMC_Seg (Struct)\nSMC_TC_STATUS (Enum)\nSMC_TOOLCORRMODE (Enum)\nSMC_VECTOR6D (Struct)\nSM_CNC_POUs\nFile\nReadNCFile\nSMC_ReadNCFile (FunctionBlock)\nStream\nToken\nSMC_ReadNCQueue (FunctionBlock)\nCloseFile (Action)\nhelp functions\nSMC_StringBuffer (FunctionBlock)\nNC2\nGSentence\nSMC_GExpToken_Iterator (FunctionBlock)\nSMC_GJUMP_COMMAND (Enum)\nSMC_GJUMP_TARGET (Union)\nSMC_GSentence (Struct)\nSMC_GSentenceQueue (FunctionBlock)\nSMC_GSentence_DynCall (Struct)\nSMC_GSentence_GWords (Struct)\nSMC_GSentence_GWords_Create (Function)\nSMC_GSentence_Iterator (FunctionBlock)\nSMC_GSentence_Let (Struct)\nSMC_GSentence_SubCall (Struct)\nSMC_GSentence_SubRet (Struct)\nSMC_GSentence_Type (Enum)\nSMC_GSentence_Union (Union)\nSMC_GVarDecl (Struct)\nSMC_GVar_Type (Enum)\nSMC_GWord_Iterator (FunctionBlock)\nSMC_NC_CopySentence (Function)\nSMC_NC_CopySentenceChecked (Function)\nGSentenceJumpBuffer\nSMC_GSentenceJumpBuffer (FunctionBlock)\nInterpreter\nCallstack\nSMC_NCInterpreter (FunctionBlock)\nParser\nExpressions\nSMC_NCTokenParser (FunctionBlock)\nSMC_NC_SourcePosition (Struct)\nSymbolTable\nReadNCFile2\nSMC_IGSentenceModifier (Interface)\nSMC_INCLookup (Interface)\nSMC_ITokenModifier (Interface)\nSMC_NCLookupFile (FunctionBlock)\nSMC_NCNavigator (FunctionBlock)\nSMC_NC_CanProcessTokens (Function)\nSMC_NC_FindProgramFile (Function)\nSMC_NC_PrependDefaults (FunctionBlock)\nSMC_NC_TokenQueue_Completed (Function)\nSMC_ReadNCFile2 (FunctionBlock)\nSMC_ReadNCFromStream (FunctionBlock)\nSoftMotion CNC\nCoordinate Transformations\nSMC_CoordinateTransformation3D (FunctionBlock)\nSMC_DetermineCuboidBearing (FunctionBlock)\nSMC_InvCoordinateTransformation3D (FunctionBlock)\nSMC_TeachCoordinateSystem (FunctionBlock)\nSMC_UnitVectorToRPY (FunctionBlock)\nDirect Axis Control\nSMC_ControlAxisByPos (FunctionBlock)\nSMC_ControlAxisByPosVel (FunctionBlock)\nSMC_ControlAxisByVel (FunctionBlock)\nGCode Viewer\nSMC_GCodeViewer (FunctionBlock)\nGeoInfo Help Functions\nSMC_AdaptHelpMarks (Function)\nSMC_CalcEndPnt (Function)\nSMC_CalcLengthGeo (Function)\nSMC_CalcStartPnt (Function)\nSMC_CutEnd (Function)\nSMC_CutStart (Function)\nSMC_GeoinfoInit (Function)\nSMC_GetAccVec (Function)\nSMC_GetAddAxValue (Function)\nSMC_GetClosestPnt (Function)\nSMC_GetLengthOfPrefix (Function)\nSMC_GetPnt (Function)\nSMC_GetPntPI (Function)\nSMC_GetTanVec (Function)\nSMC_GetTanVec3D (Function)\nSMC_InvertDirection (Function)\nSMC_RampInCorr (Function)\nSMC_RampOutCorr (Function)\nSMC_RecalculateHelpMarks (Function)\nSMC_SingleCorr (Function)\nOutQueue Functions\nSMC_AppendObj (Function)\nSMC_DeleteObj (Function)\nSMC_GetCount (Function)\nSMC_GetHistoryCount (Function)\nSMC_GetLastObj (Function)\nSMC_GetObj (Function)\nSMC_GetObjFromEnd (Function)\nSMC_GetObjFromHistory (Function)\nSMC_OutQueueInit (Function)\nSMC_OutQueueIsSyncing (Function)\nSMC_OutQueue_IsFull (Function)\nSMC_RestoreQueue (Function)\nSMC_SetObj (Function)\nSMC_SetQueueCapacity (Function)\nPosinfo Functions\nSMC_PosInfo_Trf_Inverse (Function)\nSMC_PosInfo_Trf_Mult (Function)\nQueue manipulation\nSMC_QueueSetReservedEntries (FunctionBlock)\nSMC_RotateQueue2D (FunctionBlock)\nSMC_ScaleQueue3D (FunctionBlock)\nSMC_TranslateQueue3D (FunctionBlock)\nSoftMotion Function Blocks\nBlockSearch\nDecoderBuffer\nInterpolator_Help_Functions\nM_Functions\nNCDecoder_Help_Functions\nSMC_AddGCodeState (Struct)\nSMC_AvoidLoop (FunctionBlock)\nSMC_CheckForLimits (FunctionBlock)\nSMC_CheckVelocities (FunctionBlock)\nSMC_ExtendedVelocityChecks (FunctionBlock)\nSMC_Interpolator (FunctionBlock)\nSMC_Interpolator2Dir (FunctionBlock)\nSMC_Interpolator2Dir_SlowTask (FunctionBlock)\nSMC_LimitCircularVelocity (FunctionBlock)\nSMC_LimitDynamics (FunctionBlock)\nSMC_NCDecoder (FunctionBlock)\nSMC_ObjectSplitter (FunctionBlock)\nSMC_ReadAdditionalIpoState (FunctionBlock)\nSMC_RecomputeABCSlopes (FunctionBlock)\nSMC_ReduceVelEndAtCorner (FunctionBlock)\nSMC_RoundPath (FunctionBlock)\nSMC_SegmentAnalyzer (FunctionBlock)\nSMC_SetInterpreterStartPosition (FunctionBlock)\nSMC_SmoothAddAxes (FunctionBlock)\nSMC_SmoothBSpline (FunctionBlock)\nSMC_SmoothMerge (FunctionBlock)\nSMC_SmoothPath (FunctionBlock)\nSMC_ToolCorr (FunctionBlock)\nSMC_ToolLengthCorr (FunctionBlock)\nSMC_ToolRadiusCorr (FunctionBlock)\nSMC_XInterpolator (FunctionBlock)\nSM_Trafo_Data types\nSMC_ArticulatedRobot_6DOF_J0_State (Enum)\nSMC_ArticulatedRobot_6DOF_J1_State (Enum)\nSMC_ArticulatedRobot_6DOF_J4_State (Enum)\nSMC_TrafoConfig_4AxisPalletizer (Struct)\nSMC_TrafoConfig_ArticulatedRobot_6DOF (Struct)\nSMC_TrafoResult_4AxisPalletizer (Enum)\nSMC_TrafoResult_ArticulatedRobot_6DOF (Enum)\nSMC_VECTORDIR (Enum)\nSM_Trafo_POUs\nForward and inverse transformation\nSMC_TRAFOV_\nSoftMotion Transformations\nGantry systems\nParallel Systems\nRobot Kinematiks\nScara System\nWrapper\nadditional FBs\nVisu_Templates\nFile\nCNC\nSM_CNC_Visualizations\nFBs\nCNC\nDirect Axis Control\nTranslation & Rotation & Scaling\nhelp visu\nSM_Trafo_Visualizations\nTrafo templates\nGantry\nParallel\nRobot\nScara\nVisu_Templates_New\nFramed Visu Helpers\nTextListForCombobox_MC_DIRECTION (TextList)\nTextListForCombobox_SMC_ABC_SLOPES_AT_STOP (TextList)\nTextListForCombobox_SMC_ABC_SLOPES_NO_STOP (TextList)\nTextListForCombobox_SMC_AL_STATUS (TextList)\nTextListForCombobox_SMC_DEC_STATUS (TextList)\nTextListForCombobox_SMC_DIRECTION (TextList)\nTextListForCombobox_SMC_ERROR (TextList)\nTextListForCombobox_SMC_INT_STATUS (TextList)\nTextListForCombobox_SMC_INT_VELMODE (TextList)\nTextListForCombobox_SMC_ORI_CONVENTION (TextList)\nTextListForCombobox_SMC_SMOOTHBSPLINE_MODE (TextList)\nTextListForCombobox_SMC_SMOOTHPATHADDAXMODE (TextList)\nTextListForCombobox_SMC_SMOOTHPATHMODE (TextList)\nTextListForCombobox_SMC_TC_STATUS (TextList)\nTextListForCombobox_SMC_TOOLCORRMODE (TextList)\nFile and Project Information\nLibrary Reference\n3SLicense\nLibrary Identification\nLibrary Properties\nBase Interfaces\nLibrary Identification\nLibrary Properties\nCmpLog\nLibrary Identification\nLibrary Properties\nFloatingPointUtils\nLibrary Identification\nLibrary Properties\nMatrix\nLibrary Identification\nLibrary Properties\nSM3_Basic\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nSM3_RBase\nLibrary Identification\nLibrary Properties\nSM3_Shared\nLibrary Identification\nLibrary Properties\nSM3_Transformation\nLibrary Identification\nLibrary Properties\nStandard\nLibrary Identification\nLibrary Properties\nSysFile\nLibrary Identification\nLibrary Properties\nSysMem\nLibrary Identification\nLibrary Properties\nSysTarget\nLibrary Identification\nLibrary Properties\nSysTypes2 Interfaces\nLibrary Identification\nLibrary Properties\nVisuElem3DPath\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nVisuElemCamDisplayer\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nVisuElemMeter\nLibrary Identification\nLibrary Properties\nVisuElemTextEditor\nLibrary Identification\nLibrary Properties\nVisuElemTrace\nLibrary Identification\nLibrary Properties\nVisuElems\nLibrary Identification\nLibrary Properties\nVisuElemsAlarm\nLibrary Identification\nLibrary Properties\nVisuElemsDateTime\nLibrary Identification\nLibrary Properties\nVisuElemsSpecialControls\nLibrary Identification\nLibrary Properties\nVisuElemsWinControls\nLibrary Identification\nLibrary Properties\nVisuInputs\nLibrary Identification\nLibrary Properties\nVisuNativeControl\nLibrary Identification\nLibrary Properties\nSM3_CNC\nDocs\n»\nSM_CNC_POUs\n»\nSoftMotion\nCNC\n»\nSoftMotion\nFunction\nBlocks\n»\nSMC_XInterpolator (FB)\nSMC_XInterpolator (FB)\nÂ¶\nFUNCTION_BLOCK SMC_XInterpolator\nSMC_XInterpolator\nrealizes a mixture of Cam and CNC.\nImagine you want to cut a specified form (described by G-code) out\nof a workpiece`.  The workpiece is moved - by another process -\n(e.g. along the X-axis) and the other axes (Y, Z, etc.)\nshould be controlled according to the current position of the\nworkpiece (X) and the target given by the path outline.\nThe motion of the workpiece always follows the X-direction\n(other cases can be mapped on this by a rotation).\nExample\nIf the XInterpolator is active, it will search the position on the\npath that matches the current x-position and it will copy the corresponding\npath-point in\npiSetPosition\n.  The input path must have a unique position\nfor each x-coordinate.  For example, the following path is valid:\nInOut:\nScope\nName\nType\nInitial\nComment\nInout\nX_Axis\nAXIS_REF_SM3\nX-axis, position of the workpiece\nInput\nbExecute\nBOOL\nStarts on rising edge.\npoqDataIn\nPOINTER TO\nSMC_OUTQUEUE\nThe input path queue\ndLastWayPos\nLREAL\nThis input enables the user to measure the path length which is\ncovered by the interpolator.\nOutput\ndWayPos\nis the sum of\ndLastWayPos\nand the distance\ncovered within the current cycle.\nIf you set\ndLastWayPos\nequal to output\ndWayPos\n,\ndWayPos\nalways will be incremented by the current path section\nand you will get the total path length.\nbAbort\nBOOL\nThis input set to\nTRUE\nthe processing of an outline will\nbe aborted.\neDirection\nMC_Direction\npositive\nThis input determines, whether the workpiece is moved in\npositive (positive) or negative (negative) direction along the X-axis.\nOther values are not allowed.\ndXOffset\nLREAL\nOffset relative to the X-axis position\nOutput\nbDone\nBOOL\nThis variable is be set to\nTRUE\n, after the input path\nhas been processed completely.\nThe function block will perform no further actions until a reset\nwill be executed.\nbBusy\nBOOL\nTRUE\n, while execution of function block is not finished\nbError\nBOOL\nSignals, that an error has occurred within the function\nblock\nwErrorID\nSMC_ERROR\nError identification\npiSetPosition\nSMC_POSINFO\npiSetPosition\ncontains the cartesian coordinates of the set\npoint as well as the position of the additional axes.\niStatus\nSMC_INT_STATUS\nThe current status of the module.\nIPO_UNKNOWN\n(0)\nInternal state, which may not occur after a\ncomplete run of SMC_Interpolator.\nIPO_ACCEL\n(2) : accelerating.\nIPO_CONSTANT\n(3) : running with constant velocity.\nIPO_DECEL\n(4) : braking\nIPO_FINISHED\n(5) : Processing of is finished.\nbWorking\nBOOL\nThis output is set to\nTRUE\nas long as the processing of the path\nhas been started, but not yet finished.\nOtherwise\nbWorking\nis\nFALSE\n.\niActObjectSourceNo\nDINT\nContains entry\niSourceLine_No\nof the active\nSMC_GEOINFO\nobject of the input path. Set to â-1â,\nif not working (any longer) (\nbWorking\n=\nFALSE\n).\ndVel\nLREAL\nThis variable contains the current path velocity.\nvecActTangent\nSMC_VECTOR3D\nThe path tangent in point\npiSetPosition\n.\nIn case of\ndVel\n=\n0\n,\nvecAct_Tangent\nwill contain\nzeros only.\niLastSwitch\nINT\nThis variable contains the number of the last auxiliary mark passed.\nIf within one cycle multiple auxiliary marks shall be passed,\nalways only the last one will be dumped.\ndwSwitches\nDWORD\nThis\nDWORD\ncontains the current switch status of all\nauxiliary marks between 1 and 32.\nBit0 of the\nDWORD\nsignifies auxiliary mark 1,\nBit31 signifies auxiliary mark 32.\ndWayPos\nLREAL\nSee input\ndLastWayPos\nfor a description.\nStructure:\nDoBeforeLeave (Action)\nInit (Action)\nNewObject (Action)\nResetOutputs (Action)",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Inout",
          "Name": "X_Axis",
          "Type": "AXIS_REF_SM3",
          "Initial": "",
          "Comment": "X-axis, position of the workpiece"
        },
        {
          "Scope": "Input",
          "Name": "bExecute",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "Starts on rising edge."
        },
        [
          "poqDataIn",
          "POINTER TOSMC_OUTQUEUE",
          "",
          "The input path queue"
        ],
        [
          "dLastWayPos",
          "LREAL",
          "",
          "This input enables the user to measure the path length which is\ncovered by the interpolator.\nOutputdWayPosis the sum ofdLastWayPosand the distance\ncovered within the current cycle.\nIf you setdLastWayPosequal to outputdWayPos,dWayPosalways will be incremented by the current path section\nand you will get the total path length."
        ],
        [
          "bAbort",
          "BOOL",
          "",
          "This input set toTRUEthe processing of an outline will\nbe aborted."
        ],
        [
          "eDirection",
          "MC_Direction",
          "positive",
          "This input determines, whether the workpiece is moved in\npositive (positive) or negative (negative) direction along the X-axis.\nOther values are not allowed."
        ],
        [
          "dXOffset",
          "LREAL",
          "",
          "Offset relative to the X-axis position"
        ],
        {
          "Scope": "Output",
          "Name": "bDone",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "This variable is be set toTRUE, after the input path\nhas been processed completely.\nThe function block will perform no further actions until a reset\nwill be executed."
        },
        [
          "bBusy",
          "BOOL",
          "",
          "TRUE, while execution of function block is not finished"
        ],
        [
          "bError",
          "BOOL",
          "",
          "Signals, that an error has occurred within the function\nblock"
        ],
        [
          "wErrorID",
          "SMC_ERROR",
          "",
          "Error identification"
        ],
        [
          "piSetPosition",
          "SMC_POSINFO",
          "",
          "piSetPositioncontains the cartesian coordinates of the set\npoint as well as the position of the additional axes."
        ],
        [
          "iStatus",
          "SMC_INT_STATUS",
          "",
          "The current status of the module.IPO_UNKNOWN(0)Internal state, which may not occur after acomplete run of SMC_Interpolator.IPO_ACCEL(2) : accelerating.IPO_CONSTANT(3) : running with constant velocity.IPO_DECEL(4) : brakingIPO_FINISHED(5) : Processing of is finished."
        ],
        [
          "bWorking",
          "BOOL",
          "",
          "This output is set toTRUEas long as the processing of the path\nhas been started, but not yet finished.\nOtherwisebWorkingisFALSE."
        ],
        [
          "iActObjectSourceNo",
          "DINT",
          "",
          "Contains entryiSourceLine_Noof the activeSMC_GEOINFOobject of the input path. Set to â-1â,\nif not working (any longer) (bWorking=FALSE)."
        ],
        [
          "dVel",
          "LREAL",
          "",
          "This variable contains the current path velocity."
        ],
        [
          "vecActTangent",
          "SMC_VECTOR3D",
          "",
          "The path tangent in pointpiSetPosition.\nIn case ofdVel=0,vecAct_Tangentwill contain\nzeros only."
        ],
        [
          "iLastSwitch",
          "INT",
          "",
          "This variable contains the number of the last auxiliary mark passed.\nIf within one cycle multiple auxiliary marks shall be passed,\nalways only the last one will be dumped."
        ],
        [
          "dwSwitches",
          "DWORD",
          "",
          "ThisDWORDcontains the current switch status of all\nauxiliary marks between 1 and 32.\nBit0 of theDWORDsignifies auxiliary mark 1,\nBit31 signifies auxiliary mark 32."
        ],
        [
          "dWayPos",
          "LREAL",
          "",
          "See inputdLastWayPosfor a description."
        ]
      ]
    }
  ]
}