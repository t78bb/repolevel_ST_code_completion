{
  "library": "DNP3",
  "title": "PatternMask (Method)",
  "url": "https://content.helpme-codesys.com/en/libs/DNP3/Current/DNP3/Function-Blocks/Master/pou-Master/Commands/PatternMask.html",
  "page_title": "Master.PatternMask (METH)",
  "text": "DNP3\nDoc\nIntegration of datapoints into the application\nExample\nIntroduction\nCODESYS DNP3 - Components\nOutstation data model and datapoints\nOutstation datapoint - inputs versa configuration\nOutstation datapoint inputs / outputs of type AnyNumber\nOutstation data flow\nMaster functionality\nMaster data flow\nCalling function block instances\nApplication bringup and debugging\nEnums\nCommandRejectReason (Enum)\nDoubleBitState (Enum)\nError (Enum)\nFunction Blocks\nAnyNumberConverter\nAnyNumberToDINT (FunctionBlock)\nAnyNumberToINT (FunctionBlock)\nAnyNumberToLREAL (FunctionBlock)\nAnyNumberToREAL (FunctionBlock)\nAnyNumberToSINT (FunctionBlock)\nAnyNumberToUDINT (FunctionBlock)\nAnyNumberToUINT (FunctionBlock)\nAnyNumberToUSINT (FunctionBlock)\nDINTToAnyNumber (FunctionBlock)\nINTToAnyNumber (FunctionBlock)\nLREALToAnyNumber (FunctionBlock)\nREALToAnyNumber (FunctionBlock)\nSINTToAnyNumber (FunctionBlock)\nUDINTToAnyNumber (FunctionBlock)\nUINTToAnyNumber (FunctionBlock)\nUSINTToAnyNumber (FunctionBlock)\nETHdeviceHelper (FunctionBlock)\nMaster\nAddressQualifier (Enum)\nAnalogInfo (Struct)\nAutoUpdateMode (Enum)\nCROB_Info (Struct)\nCommands\nFreezeTimeDateField (Enum)\nFunctionCode (Enum)\nMaster (FunctionBlock)\nMasterConfiguration (FunctionBlock)\nMasterConfigurationCOM (FunctionBlock)\nMasterConfigurationIP (FunctionBlock)\nMasterLoggingOptions (Enum)\nPointObserver\nTimeSyncType (Enum)\nOutstation\nDNP3OutstationSessionConfigEvents (Struct)\nDNP3OutstationSessionConfigUnsolicitedResponse (Struct)\nEvents\nGroups\nOutstation (FunctionBlock)\nOutstationConfiguration (FunctionBlock)\nOutstationConfigurationCOM (FunctionBlock)\nOutstationConfigurationIP (FunctionBlock)\nOutstationDataModel (FunctionBlock)\nOutstationDataModelExample (FunctionBlock)\nOutstationLoggingOptions (Enum)\nPoints\nFunctions\nAnyNumber\nAnyNumberArithmetic (Function)\nAnyNumberArithmeticOperation (Enum)\nAnyNumberAssign (Function)\nAnyNumberAssignIfNotEqual (Function)\nAnyNumberCheck (Function)\nAnyNumberClipToLimits (Function)\nAnyNumberCompare (Function)\nAnyNumberCompareOperation (Enum)\nAnyNumberConvertFromDINT (Function)\nAnyNumberConvertFromINT (Function)\nAnyNumberConvertFromLREAL (Function)\nAnyNumberConvertFromREAL (Function)\nAnyNumberConvertFromSINT (Function)\nAnyNumberConvertFromUDINT (Function)\nAnyNumberConvertFromUINT (Function)\nAnyNumberConvertFromUSINT (Function)\nAnyNumberConvertToDINT (Function)\nAnyNumberConvertToINT (Function)\nAnyNumberConvertToLREAL (Function)\nAnyNumberConvertToREAL (Function)\nAnyNumberConvertToSINT (Function)\nAnyNumberConvertToUDINT (Function)\nAnyNumberConvertToUINT (Function)\nAnyNumberConvertToUSINT (Function)\nAnyNumberInitToZero (Function)\nAnyNumberIsWithinLimits (Function)\nAnyNumberMaximum (Function)\nAnyNumberMinimum (Function)\nAnyNumberToString (Function)\nAnyNumberTypeEquals (Function)\nAnyNumberTypeToString (Function)\nAnyNumberValueToString (Function)\nAnyNumberZero (Function)\nGetCurrentDateTime (Function)\nGlobalConstants\nConstants (GVL)\nConstantsInternal (GVL)\nInterfaces\nIPoint (Interface)\nGetDescriptionString (Method)\nIdentificationToString (Method)\nPointNum (Property)\nPointTyp (Property)\nToString (Method)\nIPointObserver (Interface)\nEnabled (Property)\nEquals (Method)\nGetError (Method)\nGetErrorId (Method)\nGetSequenceNumber (Method)\nIsModified (Property)\nKey (Property)\nNum (Property)\nToString (Method)\nTyp (Property)\nParameter\nParameter (ParamList)\nTypes\nAnyNumber\nAnyNumber (Struct)\nAnyNumberPointerUnion (Union)\nAnyNumberType (Enum)\nAnyNumberUnion (Union)\nAnyNumberValueUnion (Union)\nCOMParity (Enum)\nCOMStopBits (Enum)\nDNP3_String (Alias)\nLibrary Information\nGetLibVersion (Function)\nGetLibVersionNumber (Function)\nIsLibReleased (Function)\nFile and Project Information\nLibrary Reference\n3SLicense\nLibrary Identification\nLibrary Properties\nCmpApp\nLibrary Identification\nLibrary Properties\nCmpDNP3\nLibrary Identification\nLibrary Properties\nCmpErrors2 Interfaces\nLibrary Identification\nLibrary Properties\nCmpEventMgr\nLibrary Identification\nLibrary Properties\nCmpLog\nLibrary Identification\nLibrary Properties\nComponent Manager\nLibrary Identification\nLibrary Properties\nIoDrvEthernet Interfaces\nLibrary Identification\nLibrary Properties\nIoDrvUtility\nLibrary Identification\nLibrary Properties\nIoStandard\nLibrary Identification\nLibrary Properties\nStandard\nLibrary Identification\nLibrary Properties\nSysCpuHandling\nLibrary Identification\nLibrary Properties\nSysMem\nLibrary Identification\nLibrary Properties\nSysSocket\nLibrary Identification\nLibrary Properties\nSysTask\nLibrary Identification\nLibrary Properties\nSysTimeCore\nLibrary Identification\nLibrary Properties\nSysTimeRtc\nLibrary Identification\nLibrary Properties\nSysTypes2 Interfaces\nLibrary Identification\nLibrary Properties\nUtil\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nDNP3\nDocs\n»\nDNP3\n»\nFunction\nBlocks\n»\nMaster\n»\nMaster\n(FB)\n»\nCommands\n»\nMaster.PatternMask (METH)\nMaster.PatternMask (METH)\nÂ¶\nMETHOD PatternMask :\nError\nSend a pattern mask to remote device\nNOTE: If you are doing a SELECT/OPERATE but choose not to use the autoMode\nmask to do this, but instead are going to call this brm function to send\nthe SELECT and then call this function again to send the OPERATE, you will\nneed to increase the pReqDesc->priority of the OPERATE to 255 to\nguarantee it gets sent before any automatic processing of events is performed.\n(Automatic processing of events is enabled by default when the mdnp session\nwas opened). For example, if in the response to the SELECT the restart IIN bit\nis set and the session was set up to automatically send a clear restart\ncommand, you will want to make sure the OPERATE gets sent before the clear\nrestart, otherwise the operate will fail.\nInOut:\nScope\nName\nType\nComment\nReturn\nPatternMask\nError\nInput\nfuncCode\nFunctionCode\nfunction code, DNPDEFS_FC_SELECT, DNPDEFS_FC_OPERATE,\nDNPDEFS_FC_DIRECT_OP, or DNPDEFS_FC_DIRECT_OP_NOACK\nautoMode\nUSINT\nbit mask to specify which actions to perform. Combine\nAUTO_MODE_OPERATE and AUTO_MODE_FEEDBACK as needed.\nopFeedbackDelay\nTIME\nspecify a delay, in milliseconds, after receiving\nthe response to an operate or direct operate request before issueing\nan operate feedback poll using the autoMode parameter.\nqualifier\nAddressQualifier\naddress qualifier, must be 8 or 16 bit start/stop\nQUAL_8BIT_START_STOP or QUAL_16BIT_START_STOP\nstart\nUINT\nfirst point number for mask\nstop\nUINT\nlast point number for mask\ncontrol\nUSINT\ncontrol code\nlow 4 bits is Op Type\nDNPDEFS_CROB_CTRL_NUL, DNPDEFS_CROB_CTRL_PULSE_ON, DNPDEFS_CROB_CTRL_PULSE_OFF,\nDNPDEFS_CROB_CTRL_LATCH_ON, or DNPDEFS_CROB_CTRL_LATCH_OFF\nThen the Queue Field which is obsolete\nThen the Clear Field DNPDEFS_CROB_CTRL_CLEAR\nThen the two bit Trip-Close field  0, or DNPDEFS_CROB_CTRL_PAIRED_CLOSE or DNPDEFS_CROB_CTRL_PAIRED_TRIP\ncount\nUSINT\nnumber of times outstation shall execute the operation\nactivationPeriod\nTIME\npulse activation time\ndeactivationPeriod\nTIME\npulse deactivation time\npMask\nPOINTER TO USINT\nbitmask indicating which points in the range specified by start->stop are to be controlled.\nbit value of 1 means that point should be controlled.\nExample: funcCode=DNPDEFS_FC_DIRECT_OP, start==2, stop==17,\ncontrol=DNPDEFS_CROB_CTRL_LATCH_ON,\n*\npMask=0x81,0x10;\nsends a latch on to points 2, 9 and 14",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Return",
          "Name": "PatternMask",
          "Type": "Error",
          "Comment": ""
        },
        {
          "Scope": "Input",
          "Name": "funcCode",
          "Type": "FunctionCode",
          "Comment": "function code, DNPDEFS_FC_SELECT, DNPDEFS_FC_OPERATE,DNPDEFS_FC_DIRECT_OP, or DNPDEFS_FC_DIRECT_OP_NOACK"
        },
        [
          "autoMode",
          "USINT",
          "bit mask to specify which actions to perform. Combine\nAUTO_MODE_OPERATE and AUTO_MODE_FEEDBACK as needed."
        ],
        [
          "opFeedbackDelay",
          "TIME",
          "specify a delay, in milliseconds, after receivingthe response to an operate or direct operate request before issueing\nan operate feedback poll using the autoMode parameter."
        ],
        [
          "qualifier",
          "AddressQualifier",
          "address qualifier, must be 8 or 16 bit start/stopQUAL_8BIT_START_STOP or QUAL_16BIT_START_STOP"
        ],
        [
          "start",
          "UINT",
          "first point number for mask"
        ],
        [
          "stop",
          "UINT",
          "last point number for mask"
        ],
        [
          "control",
          "USINT",
          "control codelow 4 bits is Op TypeDNPDEFS_CROB_CTRL_NUL, DNPDEFS_CROB_CTRL_PULSE_ON, DNPDEFS_CROB_CTRL_PULSE_OFF,\nDNPDEFS_CROB_CTRL_LATCH_ON, or DNPDEFS_CROB_CTRL_LATCH_OFFThen the Queue Field which is obsolete\nThen the Clear Field DNPDEFS_CROB_CTRL_CLEAR\nThen the two bit Trip-Close field  0, or DNPDEFS_CROB_CTRL_PAIRED_CLOSE or DNPDEFS_CROB_CTRL_PAIRED_TRIP"
        ],
        [
          "count",
          "USINT",
          "number of times outstation shall execute the operation"
        ],
        [
          "activationPeriod",
          "TIME",
          "pulse activation time"
        ],
        [
          "deactivationPeriod",
          "TIME",
          "pulse deactivation time"
        ],
        [
          "pMask",
          "POINTER TO USINT",
          "bitmask indicating which points in the range specified by start->stop are to be controlled.bit value of 1 means that point should be controlled.\nExample: funcCode=DNPDEFS_FC_DIRECT_OP, start==2, stop==17,control=DNPDEFS_CROB_CTRL_LATCH_ON,*pMask=0x81,0x10;sends a latch on to points 2, 9 and 14"
        ]
      ]
    }
  ]
}