{
  "library": "String Segments",
  "title": "CreateString (Function)",
  "url": "https://content.helpme-codesys.com/en/libs/String Segments/Current/Strings/Functions/CreateString.html",
  "page_title": "CreateString (FUN)",
  "text": "Library Information\nGetLibVersion (Function)\nGetLibVersionNumber (Function)\nIsLibReleased (Function)\nStrings\nAliases\nConstants (GVL)\nIDisposable (Alias)\nRUNE (Alias)\nEnums\nERROR (Enum)\nFunctionblocks\nRange (FunctionBlock)\nIRange\nSetInitialValue (Method)\nUTF8Literal (FunctionBlock)\nSetInitialValue (Method)\n_RangePool (FunctionBlock)\nProtected\n_StringPool (FunctionBlock)\nIStringPool\nSetInitialValue (Method)\n_UTF8String (FunctionBlock)\nIString\nIStringRepresentation\nFunctions\nCompare (Function)\nCopy (Function)\nCreateRangePool (Function)\nCreateString (Function)\nCreateStringPool (Function)\nIsASCIIString (Function)\nIsValidString (Function)\nLen (Function)\nReset (Function)\nRuneCount (Function)\nSetSegment (Function)\nInterfaces\nIRange (Interface)\nGetNextRune (Method)\nReset (Method)\nUngetLastRune (Method)\nIRangePool (Interface)\nGetPoolStatus (Method)\nGetRange (Method)\nIRangeProvider (Interface)\nGetRange (Method)\nIString (Interface)\nGetSegment (Method)\nIsASCII (Method)\nIsValid (Method)\nLen (Method)\nIStringPool (Interface)\nGetPoolConfig (Method)\nGetString (Method)\nIStringRepresentation (Interface)\nLen (Method)\nToIString (Method)\nStructs\nCONFIG (Struct)\nSTATUS (Struct)\nFile and Project Information\nLibrary Reference\nMemory Block Manager\nLibrary Identification\nLibrary Properties\nSysMem\nLibrary Identification\nLibrary Properties\nUTF-8 Encoding Support\nLibrary Identification\nLibrary Properties\nString Segments\nDocs\n»\nStrings\n»\nFunctions\n»\nCreateString (FUN)\nCreateString (FUN)\nÂ¶\nFUNCTION CreateString :\nIString\nReturns a\nIString\ninstance placed in the memory area given by the parameters.\nExample for a IString instance with a capacity of minimal 80 byte:\nsValue : STRING(50) := UTF8#'CÃDâ¬Å¡Å¸Å  Ã¯Ã vÃ¤rÃ¿ Ã§Ã´Ãµl';\nudiCapacity : UDINT; // Capacity of the new String\naxwMemory : ARRAY[0..(SIZEOF(STR._UTF8String)+80) / SIZEOF(__XWORD)] OF __XWORD;\nitfString : STR.IString := STR.CreateString(ADR(axwMemory), SIZEOF(axwMemory), ADR(sValue), udiStrSize=>udiCapacity);\nNote\nThe size of the memory area should be a multible of\nSIZEOF(__XWORD)\n.\nThe last byte of this memory area is reserved for the final NULL byte.\nTherefore,\nudiCapacity\nrepresents the practical amount of memory available.\nPlease take a look to the function blocks in the Library âGeneric String Baseâ\nYou can use the\nGSB.UTF8String\nfunction block, which performs this task in a much more convenient way\nInOut:\nScope\nName\nType\nInitial\nComment\nReturn\nCreateString\nIString\nInput\npbyMemory\nPOINTER TO BYTE\nPointer to the first byte of the memory.\nThis address should aligned to a\n__XWORD\nboundary!\nudiMemSize\nUDINT\nSize of the allocated memory for the string.\nThis also includes the memory for the\n_UTF8String\ninstance.\nIf e.g. an 80 byte string is required than memory size would be\nSIZEOF(STR._UTF8String)\n+\n80\npsValue\nPOINTER TO BYTE\n0\noptional address of a utf-8 encoded, NULL terminated byte\narray (string), used as inital value\nOutput\nudiStrSize\nUDINT\nThe capacity in bytes of the new IString instance\neErrorID\nERROR",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Return",
          "Name": "CreateString",
          "Type": "IString",
          "Initial": "",
          "Comment": ""
        },
        {
          "Scope": "Input",
          "Name": "pbyMemory",
          "Type": "POINTER TO BYTE",
          "Initial": "",
          "Comment": "Pointer to the first byte of the memory.This address should aligned to a__XWORDboundary!"
        },
        [
          "udiMemSize",
          "UDINT",
          "",
          "Size of the allocated memory for the string.This also includes the memory for the_UTF8Stringinstance.If e.g. an 80 byte string is required than memory size would beSIZEOF(STR._UTF8String)+80"
        ],
        [
          "psValue",
          "POINTER TO BYTE",
          "0",
          "optional address of a utf-8 encoded, NULL terminated byte\narray (string), used as inital value"
        ],
        {
          "Scope": "Output",
          "Name": "udiStrSize",
          "Type": "UDINT",
          "Initial": "",
          "Comment": "The capacity in bytes of the new IString instance"
        },
        [
          "eErrorID",
          "ERROR",
          "",
          ""
        ]
      ]
    }
  ]
}