{
  "library": "SM3_Robotics",
  "title": "SMC_GroupConvertPosition (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/SM3_Robotics/Current/SM3_Robotics/POUs/Diagnostics/SMC_GroupConvertPosition.html",
  "page_title": "SMC_GroupConvertPosition (FB)",
  "text": "Library Information\nGetLibVersion (Function)\nGetLibVersionNumber (Function)\nGetVersion (Function)\nIsLibReleased (Function)\nSM3_Robotics\nBasic types\nIDENT_IN_GROUP_REF_SM3 (Alias)\nMC_CIRC_PATHCHOICE (Enum)\nMC_COORD_REF (Struct)\nMC_EXECUTION_MODE (Enum)\nMC_TRANSITION_MODE (Enum)\nSMC_AXIS_GROUP_COMPATIBILITY_OPTIONS (Struct)\nSMC_AXIS_GROUP_CONTINUE_DATA (FunctionBlock)\nSMC_AXIS_GROUP_STATE (Enum)\nSMC_CIRC_MODE (Enum)\nSMC_DYN_LIMITS (Alias)\nSMC_IDynamicCS (Interface)\nSMC_ORIENTATION_MODE (Enum)\nSMC_POS_REF (Union)\nSMC_PTP_MOVEMENT_TYPE (Enum)\nSMC_READ_TOOL_MODE (Enum)\nPOUs\nAdditional\nSMC_AxisDistanceAxes (Enum)\nSMC_AxisDistanceSubMode (Enum)\nSMC_AxisDistanceTransition (FunctionBlock)\nSMC_AxisDistanceTransitionParam (Function)\nSMC_CornerDistance (FunctionBlock)\nSMC_CornerDistanceTransitionParam (Function)\nSMC_StartVelocity (FunctionBlock)\nSMC_StartVelocityAxes (Enum)\nSMC_StartVelocityTransitionParam (Function)\nSMC_StartupAxisGroup (FunctionBlock)\nAdministrative/Configuration\nAxisGroup\nComputation\nCoordinate systems\nDynamics\nKinematics\nTrigger\nAxisGroup\nAXIS_GROUP_REF_SM3 (FunctionBlock)\nHelpers\nMovements\nDiagnostics\nMC_GroupReadActualAcceleration (FunctionBlock)\nMC_GroupReadActualPosition (FunctionBlock)\nMC_GroupReadActualVelocity (FunctionBlock)\nMC_GroupReadConfiguration (FunctionBlock)\nMC_GroupReadError (FunctionBlock)\nMC_GroupReadStatus (FunctionBlock)\nMC_ReadCoordinateTransform (FunctionBlock)\nMC_ReadKinTransform (FunctionBlock)\nSMC_GroupAddOffset (FunctionBlock)\nSMC_GroupAdditionalAxesTargetPositions (FunctionBlock)\nSMC_GroupConvertPosition (FunctionBlock)\nSMC_GroupGetContinuePosition (FunctionBlock)\nSMC_GroupGetContinueToolOffset (FunctionBlock)\nSMC_GroupReadPathAcceleration (FunctionBlock)\nSMC_GroupReadPathDynamics (FunctionBlock)\nSMC_GroupReadPathVelocity (FunctionBlock)\nSMC_GroupReadPlanningStatistics (FunctionBlock)\nSMC_GroupReadPositionInMovement (FunctionBlock)\nSMC_GroupReadRemainingTrajectoryDuration (FunctionBlock)\nSMC_GroupReadSetAcceleration (FunctionBlock)\nSMC_GroupReadSetJerk (FunctionBlock)\nSMC_GroupReadSetPosition (FunctionBlock)\nSMC_GroupReadSetVelocity (FunctionBlock)\nSMC_GroupTargetPosition (FunctionBlock)\nSMC_ReadKinTransformForAxis (FunctionBlock)\nMovement\nAdditionalAxes\nGroupInterrupt\nMC_GroupContinue (FunctionBlock)\nMC_GroupHalt (FunctionBlock)\nMC_GroupInterrupt (FunctionBlock)\nMC_GroupStop (FunctionBlock)\nMC_MoveCircularAbsolute (FunctionBlock)\nMC_MoveCircularRelative (FunctionBlock)\nMC_MoveDirectAbsolute (FunctionBlock)\nMC_MoveDirectRelative (FunctionBlock)\nMC_MoveLinearAbsolute (FunctionBlock)\nMC_MoveLinearRelative (FunctionBlock)\nSMC_GroupEnableResumeAfterError (FunctionBlock)\nSMC_GroupJog (FunctionBlock)\nSMC_GroupJog2 (FunctionBlock)\nSMC_GroupUpdateContinueData (FunctionBlock)\nSMC_GroupWait (FunctionBlock)\nSMC_MoveAdditionalAxes (FunctionBlock)\ninternal\nDivers\nKernel_CP\nFile and Project Information\nLibrary Reference\n3SLicense\nLibrary Identification\nLibrary Properties\nCmpApp\nLibrary Identification\nLibrary Properties\nCmpIecTask\nLibrary Identification\nLibrary Properties\nCmpLog\nLibrary Identification\nLibrary Properties\nFloatingPointUtils\nLibrary Identification\nLibrary Properties\nSM3_Basic\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nSM3_CPKernelDefaults\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nSM3_CommonPublic\nLibrary Identification\nLibrary Properties\nSM3_Dynamics\nLibrary Identification\nLibrary Properties\nSM3_Error\nLibrary Identification\nLibrary Properties\nSM3_RBase\nLibrary Identification\nLibrary Properties\nSM3_RCP\nLibrary Identification\nLibrary Properties\nSM3_RError\nLibrary Identification\nLibrary Properties\nSM3_Ramps\nLibrary Identification\nLibrary Properties\nSM3_Shared\nLibrary Identification\nLibrary Properties\nSM3_StringUtils\nLibrary Identification\nLibrary Properties\nSM3_TrajectoryGeneration\nLibrary Identification\nLibrary Properties\nSM3_Transformation\nLibrary Identification\nLibrary Properties\nStandard\nLibrary Identification\nLibrary Properties\nSysMem\nLibrary Identification\nLibrary Properties\nSysTarget\nLibrary Identification\nLibrary Properties\nSysTime\nLibrary Identification\nLibrary Properties\nSysTypes2 Interfaces\nLibrary Identification\nLibrary Properties\nSM3_Robotics\nDocs\n»\nSM3_Robotics\n»\nPOUs\n»\nDiagnostics\n»\nSMC_GroupConvertPosition (FB)\nSMC_GroupConvertPosition (FB)\nÂ¶\nFUNCTION_BLOCK SMC_GroupConvertPosition\nConverts a position between different coordinate systems of an axis group.\nIf one of the coordinate systems is dynamic, the conversion between the\ncoordinate systems is done at the time at the end of the bus task cycle.\nThe tool offset currently set in the axis group is used, not the tool offset\nof the active movement. This can be overriden by the inputs\nUseToolOffsetParameter\nand\nToolOffset\n.\nNote\nthe coordinate system used is not necessarily the one of the\ncurrently active movement. It is always the coordinate system that\nwould be used for new movements.\nInOut:\nScope\nName\nType\nComment\nInout\nAxisGroup\nAXIS_GROUP_REF_SM3\nReference to a group of axes\nInout Const\nPositionIn\nSMC_POS_REF\nIn: Position to be converted\nInput\nEnable\nBOOL\nConverts the position while enabled\nCoordSystemIn\nSMC_COORD_SYSTEM\nCoordinate system of\nPositionIn\nCoordSystemOut\nSMC_COORD_SYSTEM\nCoordinate system of\nPositionOut\naRef\nTRAFO.AXISPOS_REF\nThe reference position of the axes.  Only used if\nCoordSystemOut\n=\nACS\nand\nCoordSystemIn\n<>\nACS\n.\nconfig\nTRAFO.CONFIGDATA\nThe kinematic configuration.  Only used if\nCoordSystemOut\n=\nACS\nand\nCoordSystemIn\n<>\nACS\n.\nUseToolOffsetParameter\nBOOL\nWhether to use the\nToolOffset\nparameter.\nIf set to FALSE, the last tool offset set by\nSMC_GroupSetTool\nis used.\nToolOffset\nMC_COORD_REF\nThe tool offset used for converting the position.\nOutput\nValid\nBOOL\nTRUE\nif valid outputs are available\nBusy\nBOOL\nThe FB is not finished\nError\nBOOL\nSignals that an error has occurred within the function block\nErrorID\nSMC_ERROR\nError identification\nPositionOut\nSMC_POS_REF\nThe position converted to coordinate system\nCoordSystemOut\nconfigOut\nTRAFO.CONFIGDATA\nThe kinematic configuration that belongs to\na cartesian position.\nThe configuration is calculated when an axis position\ngets converted to a cartesian position, i.e.\nCoordSystemIn\n=\nACS\nand\nCoordSystemOut\n<>\nACS\n.\nOtherwise, the given\nconfig\nis returned.\nFor rotary axes with multiple periods,\nconfigOut\ncontains\nthe periods determined by the axis positions.  Automatic period\nselection can be enabled using\nSMC_KinConfigActivateAutomaticPeriods\n.",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Inout",
          "Name": "AxisGroup",
          "Type": "AXIS_GROUP_REF_SM3",
          "Comment": "Reference to a group of axes"
        },
        {
          "Scope": "Inout Const",
          "Name": "PositionIn",
          "Type": "SMC_POS_REF",
          "Comment": "In: Position to be converted"
        },
        {
          "Scope": "Input",
          "Name": "Enable",
          "Type": "BOOL",
          "Comment": "Converts the position while enabled"
        },
        [
          "CoordSystemIn",
          "SMC_COORD_SYSTEM",
          "Coordinate system ofPositionIn"
        ],
        [
          "CoordSystemOut",
          "SMC_COORD_SYSTEM",
          "Coordinate system ofPositionOut"
        ],
        [
          "aRef",
          "TRAFO.AXISPOS_REF",
          "The reference position of the axes.  Only used ifCoordSystemOut=ACSandCoordSystemIn<>ACS."
        ],
        [
          "config",
          "TRAFO.CONFIGDATA",
          "The kinematic configuration.  Only used ifCoordSystemOut=ACSandCoordSystemIn<>ACS."
        ],
        [
          "UseToolOffsetParameter",
          "BOOL",
          "Whether to use theToolOffsetparameter.\nIf set to FALSE, the last tool offset set bySMC_GroupSetToolis used."
        ],
        [
          "ToolOffset",
          "MC_COORD_REF",
          "The tool offset used for converting the position."
        ],
        {
          "Scope": "Output",
          "Name": "Valid",
          "Type": "BOOL",
          "Comment": "TRUEif valid outputs are available"
        },
        [
          "Busy",
          "BOOL",
          "The FB is not finished"
        ],
        [
          "Error",
          "BOOL",
          "Signals that an error has occurred within the function block"
        ],
        [
          "ErrorID",
          "SMC_ERROR",
          "Error identification"
        ],
        [
          "PositionOut",
          "SMC_POS_REF",
          "The position converted to coordinate systemCoordSystemOut"
        ],
        [
          "configOut",
          "TRAFO.CONFIGDATA",
          "The kinematic configuration that belongs to\na cartesian position.\nThe configuration is calculated when an axis position\ngets converted to a cartesian position, i.e.CoordSystemIn=ACSandCoordSystemOut<>ACS.\nOtherwise, the givenconfigis returned.\nFor rotary axes with multiple periods,configOutcontains\nthe periods determined by the axis positions.  Automatic period\nselection can be enabled usingSMC_KinConfigActivateAutomaticPeriods."
        ]
      ]
    }
  ]
}