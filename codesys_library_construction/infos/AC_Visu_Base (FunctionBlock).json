{
  "library": "AC_ModuleBase",
  "title": "AC_Visu_Base (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/AC_ModuleBase/Current/GenVisu/AC_Visu_Base.html",
  "page_title": "AC_Visu_Base (FB)",
  "text": "\nFUNCTION_BLOCK ABSTRACT AC_Visu_Base\nThis function block implements the logic of the visualizations\ngenerated by GenVisu.\nSpecific information about the ancestor visualization and custom\nbehavior on frame changes is provided by extending this FB and\nimplementing the methods GetAncestor() and OnFrameChanged().\nThis FB must be called cyclically, preferably at the end of the\nvisu task.\nInputs\nIf uiFrameIdx is set to a value different from uiCurFrameIdx,\nthe frame is changed in the next cycle\nIf xUp, xBack, or xFwd is set, the corresponding navigation is\nperformed in the next cycle.\nIf xâ¦Pressed is set or reset, the output state (iâ¦State) is set\naccordingly.\nNote\n: At the end of each cycle, xUp, xBack, and xFwd are set to\nFALSE and uiFrameIdx is set to uiCurFrameIdx.\nOutputs\nThe output variable uiCurFrameIdx controls which visualization is\ndisplayed in the main frame of the toplevel visualization.\nThe output variables stAddr controls the content of the address bar.\nThe output variables iâ¦State control whether the respective\nnavigation buttons are pressed or disabled.\nAdditional functions created during generation\nDuring generation this function block gets attached a method\nGetModuleFrameIndex, which allows to get the index of the page\nvisu in the main frame, which belongs to certain module\nBy this it is possible to arbitrallily change pages visus\nand i.e. jump from one page visu to a completelly different on\ndepending on some own IEC logic.\n",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Input",
          "Name": "uiFrameIdx",
          "Type": "UINT",
          "Initial": "0",
          "Comment": "The new frame index to change to"
        },
        [
          "xUp",
          "BOOL",
          "FALSE",
          "Whether Up() should be called"
        ],
        [
          "xBack",
          "BOOL",
          "FALSE",
          "Whether Back() should be called"
        ],
        [
          "xFwd",
          "BOOL",
          "FALSE",
          "Whether Forward() should be called"
        ],
        [
          "xUpPressed",
          "BOOL",
          "FALSE",
          "Whether the Up button is currently pressed"
        ],
        [
          "xBackPressed",
          "BOOL",
          "FALSE",
          "Whether the Back button is currently pressed"
        ],
        [
          "xFwdPressed",
          "BOOL",
          "FALSE",
          "Whether the Forward button is currently pressed"
        ],
        {
          "Scope": "Output",
          "Name": "uiCurFrameIdx",
          "Type": "UINT",
          "Initial": "0",
          "Comment": "The current frame index"
        },
        [
          "stAddr",
          "STRING",
          "ââ",
          "The current âmodule addressâ displayed in the visu"
        ],
        [
          "iUpState",
          "INT",
          "0",
          "0: neutral, 1: pressed, 2: disabled"
        ],
        [
          "iBackState",
          "INT",
          "0",
          "0: neutral, 1: pressed, 2: disabled"
        ],
        [
          "iFwdState",
          "INT",
          "0",
          "0: neutral, 1: pressed, 2: disabled"
        ]
      ]
    }
  ]
}