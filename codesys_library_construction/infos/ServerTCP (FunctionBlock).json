{
  "library": "ModbusFB",
  "title": "ServerTCP (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/ModbusFB/Current/ModbusFB/Function-Blocks/Server/ServerTCP.html",
  "page_title": "ServerTCP (FB)",
  "text": "\nFUNCTION_BLOCK ServerTCP EXTENDS\nServer\nMODBUS TCP server (slave).\nServerTCP processes MODBUS TCP requests by up to 64 parallel client connections.\nFor details about supported function codes and âdata modelâ see\nServer\n.\nPlease note: some input variables related to connection configuration are read when rising edge on xEnable occurs.\nTo change connection configuration the application needs to\n- disconnect (xEnable := FALSE and execute the FB)\n- modify the related input variables\n- connect (xEnable := TRUE and execute the FB)\nThe\nServer\nprovides some statistics of received valid requests messages and sent reply messages.\nInvalid messages are dropped at the communication level, so doesnt appear in the statistics.\nTo analyse situations where invalid reply messages might occur, you can use udiLogOptions with LoggingOptions.WarnOnReceivedInvalidFrames.\nPlease visit\nhttps://forge.codesys.com/prj/codesys-example/modbus/home\nto find examples.\n",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment",
        "Inherited from"
      ],
      "rows": [
        {
          "Scope": "Input",
          "Name": "xEnable",
          "Type": "BOOL",
          "Initial": "FALSE",
          "Comment": "Enables the server, take over the configuration information fcsSupported and dataModel.\nIf the âdata modelâ (tableDefinitions) contains configuration errors, the Server will not got busy (xBusy = FALSE).",
          "Inherited from": "Server"
        },
        [
          "fcsSupported",
          "SupportedFcs",
          "Constants.SUPPORTED_FCS_SIMPLE_SERVER",
          "Supported âfunction codesâ, accepted at xEnable FALSE => TRUE.\nIn case fcsSupported is not assigned by the application it defaults toConstants.SUPPORTED_FCS_SIMPLE_SERVER.",
          "Server"
        ],
        [
          "dataModel",
          "TableDefinitions",
          "",
          "âdata modelâ, accepted at xEnable FALSE => TRUE.",
          "Server"
        ],
        [
          "tInactivityInfoTime",
          "UDINT",
          "0",
          "âinactivity info timeâ (in milliseconds).\nIf no valid requests are received in this time xInactive is signaling inactivity - default = 0 -> no âinactivity infoâ.",
          "Server"
        ],
        {
          "Scope": "Output",
          "Name": "xRunning",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "Server is up and running, waiting for requests.",
          "Inherited from": "Server"
        },
        [
          "xError",
          "BOOL",
          "",
          "Error",
          "Server"
        ],
        [
          "eErrorID",
          "Error",
          "",
          "Error status",
          "Server"
        ],
        [
          "xInactive",
          "BOOL",
          "",
          "No valid requests received for tInactivityTimeOut.",
          "Server"
        ],
        [
          "udiNumMsgRecv",
          "UDINT",
          "",
          "Request statistics: number of request messages received\nsince enabling the Server.",
          "Server"
        ],
        [
          "udiNumMsgReply",
          "UDINT",
          "",
          "Request statistics: number of reply messages send since\nenabling the Server.",
          "Server"
        ],
        [
          "udiNumMsgExcReply",
          "UDINT",
          "",
          "Request statistics: number of exception reply messages send\nsince enabling the Server.",
          "Server"
        ],
        [
          "udiNumMsgExcReplyIllFct",
          "UDINT",
          "",
          "Request statistics: number of exception reply messages send\nsince enabling the Server, signaling illegal function.",
          "Server"
        ],
        [
          "udiNumMsgExcReplyIllDataAdr",
          "UDINT",
          "",
          "Request statistics: number of exception reply messages send\nsince enabling the Server, signaling illegal data address.",
          "Server"
        ],
        [
          "udiNumMsgExcReplyIllDataValue",
          "UDINT",
          "",
          "Request statistics: number of exception reply messages send\nsince enabling the Server, signaling illegal data value.",
          "Server"
        ],
        [
          "xReadRequest",
          "BOOL",
          "",
          "Read request(s) happened since last call, rejected requests\nincluded.",
          "Server"
        ],
        [
          "udiNumReadRequests",
          "UDINT",
          "",
          "Request statistics: read request counter, rejected requests\nincluded.",
          "Server"
        ],
        [
          "xWriteRequest",
          "BOOL",
          "",
          "Write request(s) happened since last call, rejected requests\nincluded.",
          "Server"
        ],
        [
          "udiNumWriteRequests",
          "UDINT",
          "",
          "Request statistics: write request counter, rejected requests\nincluded.",
          "Server"
        ],
        {
          "Scope": "Input",
          "Name": "wsInterfaceName",
          "Type": "WSTRING(255)",
          "Initial": "",
          "Comment": "ETH interface name to bind to, ââ to bind to any ETH\ninterface. Only read when rising edge on xEnable occurs.",
          "Inherited from": ""
        },
        [
          "uiPort",
          "UINT",
          "502",
          "ETH port to use. Only read when rising edge on xEnable\noccurs.",
          ""
        ],
        [
          "xReset",
          "BOOL",
          "FALSE",
          "Reset the server.\nClose the server socket, and open again.\nReset xRunning, xError, eErrorID and xInactive.\nReset the request statistics: udiNumMsgRecv, udiNumMsgReply â¦ udiNumWriteRequests.\nReset xReadRequest and xWriteRequest information.",
          ""
        ],
        [
          "udiLogOptions",
          "UDINT",
          "LoggingOptions.ServerStartStop",
          "Logging options.",
          ""
        ],
        {
          "Scope": "Output",
          "Name": "uiConnectedClients",
          "Type": "UINT",
          "Initial": "",
          "Comment": "Number of actually connected clients.",
          "Inherited from": ""
        }
      ]
    }
  ]
}