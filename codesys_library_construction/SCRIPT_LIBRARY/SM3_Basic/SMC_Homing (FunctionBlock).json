{
  "library": "SM3_Basic",
  "title": "SMC_Homing (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/SM3_Basic/Current/SM3_Basic/POUs/Movement/SMC_Homing.html",
  "page_title": "SMC_Homing (FB)",
  "text": "\nFUNCTION_BLOCK SMC_Homing\nThis function block causes the execution of a homing sequence.\nIf\nSMC_Homing\nis executed, the axis is moved at\nfVelocityFast\nin\nthe direction specified by\nnDirection\nas long as the reference switch\nis open (\nbReferenceSwitch\n:=\nTRUE\n).\nOnce the reference switch is closed (\nbReferenceSwitch\n:=\nFALSE\n), the axis is\ndecelerated and driven at\nfVelocitySlow\n(the direction depends on the homing mode).\nAt the point at which the reference switch opens again (\nbReferenceSwitch\n:=\nTRUE\n),\nthe following actions are performed:\nthe index pulse and index position are used (optionally), the reference position\nfHomePosition\nis set, the drive is stopped.\n(The order of these actions depends on the homing mode, see\nSMC_HOMING_MODE\n.)\n",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Inout",
          "Name": "Axis",
          "Type": "AXIS_REF_SM3",
          "Initial": "",
          "Comment": ""
        },
        {
          "Scope": "Input",
          "Name": "bExecute",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "Rising edge: Starts the execution of the function block."
        },
        [
          "fHomePosition",
          "LREAL",
          "",
          "Home position; set after homing (in technical unit [u])"
        ],
        [
          "fVelocitySlow",
          "LREAL",
          "",
          "Low velocity; used to drive out of the reference switch\n[u/s]"
        ],
        [
          "fVelocityFast",
          "LREAL",
          "",
          "High velocity; used until reference switch is found [u/s]"
        ],
        [
          "fAcceleration",
          "LREAL",
          "",
          "Value of the acceleration (increasing energy of the motor)\n[u/s^2]"
        ],
        [
          "fDeceleration",
          "LREAL",
          "",
          "Value of the deceleration (decreasing energy of the motor)\n[u/s^2]"
        ],
        [
          "fJerk",
          "LREAL",
          "",
          "Value of the Jerk [u/s^3]"
        ],
        [
          "nDirection",
          "MC_Direction",
          "negative",
          "The direction for the fast movement searching the reference switch.\n(positiveornegative)"
        ],
        [
          "bReferenceSwitch",
          "BOOL",
          "TRUE",
          "TRUE: The switch is open (the drive is not in the switch)FALSE: The switch is closed (the drive is in the switch)"
        ],
        [
          "fSignalDelay",
          "LREAL",
          "",
          "Time [s] forbReferenceSwitchto be transmitted."
        ],
        [
          "nHomingMode",
          "SMC_HOMING_MODE",
          "FAST_BSLOW_S_STOP",
          "Homing mode"
        ],
        [
          "bReturnToZero",
          "BOOL",
          "",
          "TRUE: Moves to position zero after homing."
        ],
        [
          "bIndexOccured",
          "BOOL",
          "",
          "TRUE: Index pulse has been detected, the index position is\nstored in inputfIndexPosition."
        ],
        [
          "fIndexPosition",
          "LREAL",
          "",
          "Position where index occured"
        ],
        [
          "bIgnoreHWLimit",
          "BOOL",
          "",
          "Disables the limit switch handling in the driver by settingbHWLimitEnabletoFALSEduring homing.\nPlease note that for most servo drives, this is necessary but not sufficient\nto disable the limit switch handling in the drive.  Often, the limit\nswitch handling in the drive must be deactivated by other means before calling\nSMC_Homing, and reactivated when SMC_Homing is done. (For example by writing\na drive-specific configuration object.)"
        ],
        {
          "Scope": "Output",
          "Name": "bDone",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "TRUE: Homing has been done."
        },
        [
          "bBusy",
          "BOOL",
          "",
          "TRUE: FB is not idle."
        ],
        [
          "bCommandAborted",
          "BOOL",
          "",
          "TRUE: Commanded motion has been interrupted by any motion FB\nacting on the same axis exceptMoveSuperImposed."
        ],
        [
          "bError",
          "BOOL",
          "",
          "TRUE: Error has occured within function block."
        ],
        [
          "nErrorID",
          "SMC_ERROR",
          "",
          "Error identification*"
        ],
        [
          "bStartLatchingIndex",
          "BOOL",
          "",
          "For some homing modes, the index pulse is evaluated.TRUE: Storing of the index pulse has been started and must\nbe done by the application.\nThe result is expected in the inputsbIndexOccuredandfIndexPosition."
        ]
      ]
    }
  ]
}