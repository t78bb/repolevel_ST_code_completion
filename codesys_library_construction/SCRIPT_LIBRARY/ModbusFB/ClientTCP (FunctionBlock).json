{
  "library": "ModbusFB",
  "title": "ClientTCP (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/ModbusFB/Current/ModbusFB/Function-Blocks/Client/ClientTCP.html",
  "page_title": "ClientTCP (FB)",
  "text": "\nFUNCTION_BLOCK ClientTCP EXTENDS\nClient\nMODBUS TCP client (master).\nPlease note: some input variables related to connection configuration are read when rising edge on xConnect occurs.\nTo change connection configuration the application needs to\n- disconnect (xConnect := FALSE and execute the FB)\n- modify the related input variables\n- connect (xConnect := TRUE and execute the FB)\nThe\nClient\nprovides some statistics of sent request messages and received valid reply messages.\nInvalid messages are dropped at the communication level, so doesnt appear in the statistics.\nTo analyse situations where invalid reply messages might occur, you can use udiLogOptions with LoggingOptions.WarnOnReceivedInvalidFrames.\nPlease visit\nhttps://forge.codesys.com/prj/codesys-example/modbus/home\nto find examples.\n",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment",
        "Inherited from"
      ],
      "rows": [
        {
          "Scope": "Input",
          "Name": "xConnect",
          "Type": "BOOL",
          "Initial": "FALSE",
          "Comment": "Connect to server (slave).",
          "Inherited from": "Client"
        },
        {
          "Scope": "Output",
          "Name": "xConnected",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "Client (master) is connected to server (slave).",
          "Inherited from": "Client"
        },
        [
          "xError",
          "BOOL",
          "",
          "Error",
          "Client"
        ],
        [
          "eErrorID",
          "Error",
          "",
          "Error status",
          "Client"
        ],
        [
          "udiNumMsgSent",
          "UDINT",
          "",
          "Number of request messages send since connect.",
          "Client"
        ],
        [
          "udiNumMsgReply",
          "UDINT",
          "",
          "Number of reply messages received since connect.",
          "Client"
        ],
        [
          "udiNumMsgExcReply",
          "UDINT",
          "",
          "Number of exception reply messages received since connect.",
          "Client"
        ],
        [
          "udiNumMsgExcReplyIllFct",
          "UDINT",
          "",
          "Number of exception reply messages received since connect,\nsignaling illegal function.",
          "Client"
        ],
        [
          "udiNumMsgExcReplyIllDataAdr",
          "UDINT",
          "",
          "Number of exception reply messages received since connect,\nsignaling illegal data address.",
          "Client"
        ],
        [
          "udiNumReplyTimeouts",
          "UDINT",
          "",
          "Number of reply timeouts since connect.",
          "Client"
        ],
        [
          "udiNumReqNotProcessed",
          "UDINT",
          "",
          "Number of requests not processed in time (ârequest\nstarvationâ) since connect.",
          "Client"
        ],
        [
          "udiNumReqParamError",
          "UDINT",
          "",
          "Number of requests started with parameter error, for example\nâRead Coilsâ -> âQuantity of coilsâ = 0.",
          "Client"
        ],
        [
          "udiLastTransactionTime",
          "UDINT",
          "",
          "Transaction time in ms - time difference between request\nmessage send und reply message received.",
          "Client"
        ],
        {
          "Scope": "Input",
          "Name": "aIPaddr",
          "Type": "ARRAY [0..3] OF BYTE",
          "Initial": "[255, 255, 255, 255]",
          "Comment": "ETH server (slave) address, only read when rising edge on\nxConnect occurs.",
          "Inherited from": ""
        },
        [
          "uiPort",
          "UINT",
          "502",
          "ETH server (slave) port, only read when rising edge on\nxConnect occurs.",
          ""
        ],
        [
          "tConnnectTimeOut",
          "TIME",
          "TIME#1s0ms",
          "Connect timeout (in milliseconds), only read when rising\nedge on xConnect occurs.",
          ""
        ],
        [
          "udiLogOptions",
          "UDINT",
          "LoggingOptions.ClientConnectDisconnect",
          "Logging options.",
          ""
        ]
      ]
    }
  ]
}