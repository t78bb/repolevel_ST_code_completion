{
  "library": "SM3_CNC",
  "title": "SMC_Trafo_ArticulatedRobot_6DOF (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/SM3_CNC/Current/SM_Trafo_POUs/SoftMotion-Transformations/Robot-Kinematiks/SMC_Trafo_ArticulatedRobot_6DOF.html",
  "page_title": "SMC_Trafo_ArticulatedRobot_6DOF (FB)",
  "text": "GlobalTextList (GlobalTextList)\nImagePool_cnc_sm3 (ImagePool)\nImages\nLibrary Information\nGetLibVersion (Function)\nGetLibVersionNumber (Function)\nIsLibReleased (Function)\nProjektinformationen\nGetBooleanProperty (Function)\nGetCompany (Function)\nGetNumberProperty (Function)\nGetTextProperty (Function)\nGetTextProperty2 (Function)\nGetTitle (Function)\nGetVersion (Function)\nGetVersionProperty (Function)\nSM3_CNC_GetVersion (Function)\nSMC_CNC_LibParams (ParamList)\nSM_CNC_Data types\nFile\nSMC_SINGLEVAR (Struct)\nSMC_TOKENTYPE (Enum)\nSMC_VARLIST (Struct)\nSMC_VARTYPE (Enum)\nSoftMotion CNC\nSMC_ABC_SLOPES_AT_STOP (Enum)\nSMC_ABC_SLOPES_NO_STOP (Enum)\nSMC_ADDAXIS (Enum)\nSMC_AL_STATUS (Enum)\nSMC_CNC_REF (FunctionBlock)\nSMC_DEC_STATUS (Enum)\nSMC_DIRECTION (Enum)\nSMC_GAddress (Alias)\nSMC_GCODEVIEWER_DATA (Struct)\nSMC_GCODE_TEXT (Struct)\nSMC_GCODE_WORD (Struct)\nSMC_GCodeObjectId (Struct)\nSMC_GEOINFO (Struct)\nSMC_GWord (Struct)\nSMC_INT_STATUS (Enum)\nSMC_INT_VELMODE (Enum)\nSMC_LINE_3D (Struct)\nSMC_MOVTYP (Enum)\nSMC_M_PARAMETERS (Struct)\nSMC_OBJECTSPLITTERMODE (Enum)\nSMC_ORI_CONVENTION (Enum)\nSMC_OUTQUEUE (FunctionBlock)\nbFull (Property)\nSMC_PLANE_H (Struct)\nSMC_POSINFO (Struct)\nSMC_SEGMENT (Struct)\nSMC_SEGMENTTYPE (Enum)\nSMC_SMOOTHBSPLINE_MODE (Enum)\nSMC_SMOOTHPATHADDAXMODE (Enum)\nSMC_SMOOTHPATHMODE (Enum)\nSMC_Seg (Struct)\nSMC_TC_STATUS (Enum)\nSMC_TOOLCORRMODE (Enum)\nSMC_VECTOR6D (Struct)\nSM_CNC_POUs\nFile\nReadNCFile\nSMC_ReadNCFile (FunctionBlock)\nStream\nToken\nSMC_ReadNCQueue (FunctionBlock)\nCloseFile (Action)\nhelp functions\nSMC_StringBuffer (FunctionBlock)\nNC2\nGSentence\nSMC_GExpToken_Iterator (FunctionBlock)\nSMC_GJUMP_COMMAND (Enum)\nSMC_GJUMP_TARGET (Union)\nSMC_GSentence (Struct)\nSMC_GSentenceQueue (FunctionBlock)\nSMC_GSentence_DynCall (Struct)\nSMC_GSentence_GWords (Struct)\nSMC_GSentence_GWords_Create (Function)\nSMC_GSentence_Iterator (FunctionBlock)\nSMC_GSentence_Let (Struct)\nSMC_GSentence_SubCall (Struct)\nSMC_GSentence_SubRet (Struct)\nSMC_GSentence_Type (Enum)\nSMC_GSentence_Union (Union)\nSMC_GVarDecl (Struct)\nSMC_GVar_Type (Enum)\nSMC_GWord_Iterator (FunctionBlock)\nSMC_NC_CopySentence (Function)\nSMC_NC_CopySentenceChecked (Function)\nGSentenceJumpBuffer\nSMC_GSentenceJumpBuffer (FunctionBlock)\nInterpreter\nCallstack\nSMC_NCInterpreter (FunctionBlock)\nParser\nExpressions\nSMC_NCTokenParser (FunctionBlock)\nSMC_NC_SourcePosition (Struct)\nSymbolTable\nReadNCFile2\nSMC_IGSentenceModifier (Interface)\nSMC_INCLookup (Interface)\nSMC_ITokenModifier (Interface)\nSMC_NCLookupFile (FunctionBlock)\nSMC_NCNavigator (FunctionBlock)\nSMC_NC_CanProcessTokens (Function)\nSMC_NC_FindProgramFile (Function)\nSMC_NC_PrependDefaults (FunctionBlock)\nSMC_NC_TokenQueue_Completed (Function)\nSMC_ReadNCFile2 (FunctionBlock)\nSMC_ReadNCFromStream (FunctionBlock)\nSoftMotion CNC\nCoordinate Transformations\nSMC_CoordinateTransformation3D (FunctionBlock)\nSMC_DetermineCuboidBearing (FunctionBlock)\nSMC_InvCoordinateTransformation3D (FunctionBlock)\nSMC_TeachCoordinateSystem (FunctionBlock)\nSMC_UnitVectorToRPY (FunctionBlock)\nDirect Axis Control\nSMC_ControlAxisByPos (FunctionBlock)\nSMC_ControlAxisByPosVel (FunctionBlock)\nSMC_ControlAxisByVel (FunctionBlock)\nGCode Viewer\nSMC_GCodeViewer (FunctionBlock)\nGeoInfo Help Functions\nSMC_AdaptHelpMarks (Function)\nSMC_CalcEndPnt (Function)\nSMC_CalcLengthGeo (Function)\nSMC_CalcStartPnt (Function)\nSMC_CutEnd (Function)\nSMC_CutStart (Function)\nSMC_GeoinfoInit (Function)\nSMC_GetAccVec (Function)\nSMC_GetAddAxValue (Function)\nSMC_GetClosestPnt (Function)\nSMC_GetLengthOfPrefix (Function)\nSMC_GetPnt (Function)\nSMC_GetPntPI (Function)\nSMC_GetTanVec (Function)\nSMC_GetTanVec3D (Function)\nSMC_InvertDirection (Function)\nSMC_RampInCorr (Function)\nSMC_RampOutCorr (Function)\nSMC_RecalculateHelpMarks (Function)\nSMC_SingleCorr (Function)\nOutQueue Functions\nSMC_AppendObj (Function)\nSMC_DeleteObj (Function)\nSMC_GetCount (Function)\nSMC_GetHistoryCount (Function)\nSMC_GetLastObj (Function)\nSMC_GetObj (Function)\nSMC_GetObjFromEnd (Function)\nSMC_GetObjFromHistory (Function)\nSMC_OutQueueInit (Function)\nSMC_OutQueueIsSyncing (Function)\nSMC_OutQueue_IsFull (Function)\nSMC_RestoreQueue (Function)\nSMC_SetObj (Function)\nSMC_SetQueueCapacity (Function)\nPosinfo Functions\nSMC_PosInfo_Trf_Inverse (Function)\nSMC_PosInfo_Trf_Mult (Function)\nQueue manipulation\nSMC_QueueSetReservedEntries (FunctionBlock)\nSMC_RotateQueue2D (FunctionBlock)\nSMC_ScaleQueue3D (FunctionBlock)\nSMC_TranslateQueue3D (FunctionBlock)\nSoftMotion Function Blocks\nBlockSearch\nDecoderBuffer\nInterpolator_Help_Functions\nM_Functions\nNCDecoder_Help_Functions\nSMC_AddGCodeState (Struct)\nSMC_AvoidLoop (FunctionBlock)\nSMC_CheckForLimits (FunctionBlock)\nSMC_CheckVelocities (FunctionBlock)\nSMC_ExtendedVelocityChecks (FunctionBlock)\nSMC_Interpolator (FunctionBlock)\nSMC_Interpolator2Dir (FunctionBlock)\nSMC_Interpolator2Dir_SlowTask (FunctionBlock)\nSMC_LimitCircularVelocity (FunctionBlock)\nSMC_LimitDynamics (FunctionBlock)\nSMC_NCDecoder (FunctionBlock)\nSMC_ObjectSplitter (FunctionBlock)\nSMC_ReadAdditionalIpoState (FunctionBlock)\nSMC_RecomputeABCSlopes (FunctionBlock)\nSMC_ReduceVelEndAtCorner (FunctionBlock)\nSMC_RoundPath (FunctionBlock)\nSMC_SegmentAnalyzer (FunctionBlock)\nSMC_SetInterpreterStartPosition (FunctionBlock)\nSMC_SmoothAddAxes (FunctionBlock)\nSMC_SmoothBSpline (FunctionBlock)\nSMC_SmoothMerge (FunctionBlock)\nSMC_SmoothPath (FunctionBlock)\nSMC_ToolCorr (FunctionBlock)\nSMC_ToolLengthCorr (FunctionBlock)\nSMC_ToolRadiusCorr (FunctionBlock)\nSMC_XInterpolator (FunctionBlock)\nSM_Trafo_Data types\nSMC_ArticulatedRobot_6DOF_J0_State (Enum)\nSMC_ArticulatedRobot_6DOF_J1_State (Enum)\nSMC_ArticulatedRobot_6DOF_J4_State (Enum)\nSMC_TrafoConfig_4AxisPalletizer (Struct)\nSMC_TrafoConfig_ArticulatedRobot_6DOF (Struct)\nSMC_TrafoResult_4AxisPalletizer (Enum)\nSMC_TrafoResult_ArticulatedRobot_6DOF (Enum)\nSMC_VECTORDIR (Enum)\nSM_Trafo_POUs\nForward and inverse transformation\nSMC_TRAFOV_\nSoftMotion Transformations\nGantry systems\nParallel Systems\nRobot Kinematiks\nScara System\nWrapper\nadditional FBs\nVisu_Templates\nFile\nCNC\nSM_CNC_Visualizations\nFBs\nCNC\nDirect Axis Control\nTranslation & Rotation & Scaling\nhelp visu\nSM_Trafo_Visualizations\nTrafo templates\nGantry\nParallel\nRobot\nScara\nVisu_Templates_New\nFramed Visu Helpers\nTextListForCombobox_MC_DIRECTION (TextList)\nTextListForCombobox_SMC_ABC_SLOPES_AT_STOP (TextList)\nTextListForCombobox_SMC_ABC_SLOPES_NO_STOP (TextList)\nTextListForCombobox_SMC_AL_STATUS (TextList)\nTextListForCombobox_SMC_DEC_STATUS (TextList)\nTextListForCombobox_SMC_DIRECTION (TextList)\nTextListForCombobox_SMC_ERROR (TextList)\nTextListForCombobox_SMC_INT_STATUS (TextList)\nTextListForCombobox_SMC_INT_VELMODE (TextList)\nTextListForCombobox_SMC_ORI_CONVENTION (TextList)\nTextListForCombobox_SMC_SMOOTHBSPLINE_MODE (TextList)\nTextListForCombobox_SMC_SMOOTHPATHADDAXMODE (TextList)\nTextListForCombobox_SMC_SMOOTHPATHMODE (TextList)\nTextListForCombobox_SMC_TC_STATUS (TextList)\nTextListForCombobox_SMC_TOOLCORRMODE (TextList)\nFile and Project Information\nLibrary Reference\n3SLicense\nLibrary Identification\nLibrary Properties\nBase Interfaces\nLibrary Identification\nLibrary Properties\nCmpLog\nLibrary Identification\nLibrary Properties\nFloatingPointUtils\nLibrary Identification\nLibrary Properties\nMatrix\nLibrary Identification\nLibrary Properties\nSM3_Basic\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nSM3_RBase\nLibrary Identification\nLibrary Properties\nSM3_Shared\nLibrary Identification\nLibrary Properties\nSM3_Transformation\nLibrary Identification\nLibrary Properties\nStandard\nLibrary Identification\nLibrary Properties\nSysFile\nLibrary Identification\nLibrary Properties\nSysMem\nLibrary Identification\nLibrary Properties\nSysTarget\nLibrary Identification\nLibrary Properties\nSysTypes2 Interfaces\nLibrary Identification\nLibrary Properties\nVisuElem3DPath\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nVisuElemCamDisplayer\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nVisuElemMeter\nLibrary Identification\nLibrary Properties\nVisuElemTextEditor\nLibrary Identification\nLibrary Properties\nVisuElemTrace\nLibrary Identification\nLibrary Properties\nVisuElems\nLibrary Identification\nLibrary Properties\nVisuElemsAlarm\nLibrary Identification\nLibrary Properties\nVisuElemsDateTime\nLibrary Identification\nLibrary Properties\nVisuElemsSpecialControls\nLibrary Identification\nLibrary Properties\nVisuElemsWinControls\nLibrary Identification\nLibrary Properties\nVisuInputs\nLibrary Identification\nLibrary Properties\nVisuNativeControl\nLibrary Identification\nLibrary Properties\nSM3_CNC\nDocs\n»\nSM_Trafo_POUs\n»\nSoftMotion\nTransformations\n»\nRobot\nKinematiks\n»\nSMC_Trafo_ArticulatedRobot_6DOF (FB)\nSMC_Trafo_ArticulatedRobot_6DOF (FB)\nÂ¶\nFUNCTION_BLOCK SMC_Trafo_ArticulatedRobot_6DOF\nSMC_Trafo_ArticulatedRobot_6DOF\nimplements the\nmathematic inverse transformation of an articulated robot\nwith six rotary axes used for calculation of the\ntool center point coordinates from the axes position,\nthe tool orientation and the states of joint.\nRobots with the following denavit-hartenberg configuration are supported:\n(the values of\nd_i\nand\na_i\nare supplied in the configuration)\nx\njoint offset\nlink offset d_i\nlink length a_i\nlink twist\n1\n0Â°\nd1\na1\n-90Â°\n2\n90Â°\n0\na2\n0Â°\n3\n0Â°\nd3\na3\n90Â°\n4\n0Â°\nd4\n0\n90Â°\n5\n0Â°\n0\n0\n-90Â°\n6\n0Â°\nd6\n0\n0Â°\nAssumptions:\nAll lengths in config are positive\n(greater than\ng_fSMC_CNC_EPS\n)\nThe valid range for axis 0, 1, 3, and 4\nis contained in\n]-180Â°,\n180Â°[\nThe valid range for axis 2 (\ndQ2\n)\nis contained in\n]-90Â°,\n180Â°[\nThe valid range for axis 5 (\ndQ5\n)\nis not constrained and may be greater than\n360Â°\nInOut:\nScope\nName\nType\nComment\nInout\nconfig\nSMC_TrafoConfig_ArticulatedRobot_6DOF\nThe configuration settings of the robot\nSMC_TrafoConfig_ArticulatedRobot_6DOF\npi\nSMC_PosInfo\nPosition and orientation in world cooridinates:\ndX\n,\ndY\n,\ndZ\n,\ndA\n(yaw),\ndB\n(pitch),\ndC\n(roll)\nSMC_POSINFO\nInput\ndQ0_old\nLREAL\nThe old value of axis 0 in degrees\ndQ1_old\nLREAL\nThe old value of axis 1 in degrees\ndQ2_old\nLREAL\nThe old value of axis 2 in degrees\ndQ3_old\nLREAL\nThe old value of axis 3 in degrees\ndQ4_old\nLREAL\nThe old value of axis 4 in degrees\ndQ5_old\nLREAL\nThe old value of axis 5 in degrees\narmState\nSMC_ArticulatedRobot_6DOF_J0_State\nState of joint 0, (forward, straight, backwards)\nelbowState\nSMC_ArticulatedRobot_6DOF_J1_State\nState of joint 1, (up, straight, down)\nhandState\nSMC_ArticulatedRobot_6DOF_J4_State\nState of joint 4, (up, straight, down)\nOutput\ndQ0\nLREAL\nThe value of axis 0 in degrees\ndQ1\nLREAL\nThe value of axis 1 in degrees\ndQ2\nLREAL\nThe value of axis 2 in degrees\ndQ3\nLREAL\nThe value of axis 3 in degrees\ndQ4\nLREAL\nThe value of axis 4 in degrees\ndQ5\nLREAL\nThe value of axis 5 in degrees\nbError\nBOOL\nIf\nTRUE\n, an error has occured during computation\nresult\nSMC_TrafoResult_ArticulatedRobot_6DOF\nResult of the computation in detail",
  "tables": [
    {
      "headers": [
        "x",
        "joint offset",
        "link offset d_i",
        "link length a_i",
        "link twist"
      ],
      "rows": [
        {
          "x": "1",
          "joint offset": "0Â°",
          "link offset d_i": "d1",
          "link length a_i": "a1",
          "link twist": "-90Â°"
        },
        {
          "x": "2",
          "joint offset": "90Â°",
          "link offset d_i": "0",
          "link length a_i": "a2",
          "link twist": "0Â°"
        },
        {
          "x": "3",
          "joint offset": "0Â°",
          "link offset d_i": "d3",
          "link length a_i": "a3",
          "link twist": "90Â°"
        },
        {
          "x": "4",
          "joint offset": "0Â°",
          "link offset d_i": "d4",
          "link length a_i": "0",
          "link twist": "90Â°"
        },
        {
          "x": "5",
          "joint offset": "0Â°",
          "link offset d_i": "0",
          "link length a_i": "0",
          "link twist": "-90Â°"
        },
        {
          "x": "6",
          "joint offset": "0Â°",
          "link offset d_i": "d6",
          "link length a_i": "0",
          "link twist": "0Â°"
        }
      ]
    },
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Inout",
          "Name": "config",
          "Type": "SMC_TrafoConfig_ArticulatedRobot_6DOF",
          "Comment": "The configuration settings of the robotSMC_TrafoConfig_ArticulatedRobot_6DOF"
        },
        [
          "pi",
          "SMC_PosInfo",
          "Position and orientation in world cooridinates:dX,dY,dZ,dA(yaw),dB(pitch),dC(roll)SMC_POSINFO"
        ],
        {
          "Scope": "Input",
          "Name": "dQ0_old",
          "Type": "LREAL",
          "Comment": "The old value of axis 0 in degrees"
        },
        [
          "dQ1_old",
          "LREAL",
          "The old value of axis 1 in degrees"
        ],
        [
          "dQ2_old",
          "LREAL",
          "The old value of axis 2 in degrees"
        ],
        [
          "dQ3_old",
          "LREAL",
          "The old value of axis 3 in degrees"
        ],
        [
          "dQ4_old",
          "LREAL",
          "The old value of axis 4 in degrees"
        ],
        [
          "dQ5_old",
          "LREAL",
          "The old value of axis 5 in degrees"
        ],
        [
          "armState",
          "SMC_ArticulatedRobot_6DOF_J0_State",
          "State of joint 0, (forward, straight, backwards)"
        ],
        [
          "elbowState",
          "SMC_ArticulatedRobot_6DOF_J1_State",
          "State of joint 1, (up, straight, down)"
        ],
        [
          "handState",
          "SMC_ArticulatedRobot_6DOF_J4_State",
          "State of joint 4, (up, straight, down)"
        ],
        {
          "Scope": "Output",
          "Name": "dQ0",
          "Type": "LREAL",
          "Comment": "The value of axis 0 in degrees"
        },
        [
          "dQ1",
          "LREAL",
          "The value of axis 1 in degrees"
        ],
        [
          "dQ2",
          "LREAL",
          "The value of axis 2 in degrees"
        ],
        [
          "dQ3",
          "LREAL",
          "The value of axis 3 in degrees"
        ],
        [
          "dQ4",
          "LREAL",
          "The value of axis 4 in degrees"
        ],
        [
          "dQ5",
          "LREAL",
          "The value of axis 5 in degrees"
        ],
        [
          "bError",
          "BOOL",
          "IfTRUE, an error has occured during computation"
        ],
        [
          "result",
          "SMC_TrafoResult_ArticulatedRobot_6DOF",
          "Result of the computation in detail"
        ]
      ]
    }
  ]
}