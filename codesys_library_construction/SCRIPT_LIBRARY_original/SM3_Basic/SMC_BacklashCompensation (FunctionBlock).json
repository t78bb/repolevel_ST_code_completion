{
  "library": "SM3_Basic",
  "title": "SMC_BacklashCompensation (FunctionBlock)",
  "url": "https://content.helpme-codesys.com/en/libs/SM3_Basic/Current/SM3_Basic/POUs/Movement/SMC_BacklashCompensation.html",
  "page_title": "SMC_BacklashCompensation (FB)",
  "text": "GlobalTextList (GlobalTextList)\nImages\nLibrary Information\nGetLibVersion (Function)\nGetLibVersionNumber (Function)\nIsLibReleased (Function)\nProject Information\nGetBooleanProperty (Function)\nGetCompany (Function)\nGetNumberProperty (Function)\nGetTextProperty (Function)\nGetTextProperty2 (Function)\nGetTitle (Function)\nGetVersion (Function)\nGetVersionProperty (Function)\nSM3_Basic\nDataTypes\nAdditional\nMC_CAMSWITCH_REF (Struct)\nMC_CAMSWITCH_TR (Struct)\nMC_OUTPUT_REF (Alias)\nMC_TAPPETMODE (Enum)\nMC_TRACK_REF (Alias)\nMC_TRACK_TR (Struct)\nTRIGGER_REF (Struct)\nAdministrative/Configuration\nSMC3_BrakeSetState (Enum)\nSMC3_PersistPositionDiag (Enum)\nSMC3_PersistPosition_Data (Struct)\nSMC_AXIS_AUTORESTART_MODE (Enum)\nCAM\nCamSegment\nMC_CAM_ID (Struct)\nMC_CAM_REF (FunctionBlock)\nMC_STARTMODE (Enum)\nSMC_CAMTAPPETACTION (Enum)\nSMC_CAMTAPPETTYPE (Enum)\nSMC_CAMTable_LREAL_128_1 (Struct)\nSMC_CAMTable_LREAL_128_2 (Struct)\nSMC_CAMTable_LREAL_256_1 (Struct)\nSMC_CAMTable_LREAL_256_2 (Struct)\nSMC_CAMTable_REAL_128_1 (Struct)\nSMC_CAMTable_REAL_128_2 (Struct)\nSMC_CAMTable_REAL_256_1 (Struct)\nSMC_CAMTable_REAL_256_2 (Struct)\nSMC_CAMTable_UDINT_128_1 (Struct)\nSMC_CAMTable_UDINT_128_2 (Struct)\nSMC_CAMTable_UDINT_256_1 (Struct)\nSMC_CAMTable_UDINT_256_2 (Struct)\nSMC_CAMTable_UINT_128_1 (Struct)\nSMC_CAMTable_UINT_128_2 (Struct)\nSMC_CAMTable_UINT_256_1 (Struct)\nSMC_CAMTable_UINT_256_2 (Struct)\nSMC_CAMTappet (Struct)\nSMC_CAMXYVA (Struct)\nSMC_CAM_TYPE (Enum)\nDiagnostics\nSMC_CommunicationState (Enum)\nSMC_LOGGERMODE (Enum)\nDriveInterface\nMC_DIRECTION (Enum)\nSMC3_CaptureDescription (Struct)\nSMC3_CheckPositionLagMode (Enum)\nSMC3_DriveAcyclicTel (Struct)\nSMC3_MappingEntry (Alias)\nSMC3_ParamCommunicationMethod_Enum (Enum)\nSMC_AXIS_STATE (Enum)\nSMC_AXIS_TYPE (Enum)\nSMC_CONTROLLER_MODE (Enum)\nSMC_ENCODER_REF (Struct)\nSMC_FBERROR (Struct)\nSMC_MOTOR_TYPE (Enum)\nSMC_MOVEMENTTYPE (Enum)\nSMC_RAMPTYPE (Enum)\nSMC_SWITCHING_STATE (Enum)\nSMC_ValueSelect (Enum)\nMovement\nMC_TA_REF (Struct)\nMC_TP_REF (Struct)\nMC_TV_REF (Struct)\nSMC_BACKLASH_MODE (Enum)\nSMC_BACKLASH_STARTSTATE (Enum)\nSMC_HOMING_MODE (Enum)\nSMC_TA (Struct)\nSMC_TP (Struct)\nSMC_TV (Struct)\nDriveInterface\nAXIS_REF\nAXIS_REF_SM3 (FunctionBlock)\nIAxisRef (Interface)\nSMC3_ReinitDrive (FunctionBlock)\nSMC_AxisChangeSettings (FunctionBlock)\nSMC_AxisReadSettings (FunctionBlock)\nAXIS_REF_LOGICAL\nAXIS_REF_LOGICAL_SM3 (FunctionBlock)\nAXIS_REF_MAPPING\nAXIS_REF_MAPPING_SM3 (FunctionBlock)\nAXIS_REF_VIRTUAL\nAXIS_REF_VIRTUAL_SM3 (FunctionBlock)\nENCODER_REF\nENCODER_REF_SM3 (FunctionBlock)\nFREE_ENCODER_REF\nFREE_ENCODER_REF (FunctionBlock)\nGlobals\nLibParams (ParamList)\nSMC_DriveBasic_GlobalVariables (GVL)\nSM_PLCOpen_GlobalVariables (GVL)\nPOUs\nAdditional\nMC_AbortTrigger (FunctionBlock)\nMC_DigitalCamSwitch (FunctionBlock)\nMC_TouchProbe (FunctionBlock)\nSMC_CAMSWITCH_TOGGLE_EVENT (Struct)\nSMC_CAMSWITCH_TOGGLE_EVENTS (Struct)\nSMC_CAMSWITCH_TRACKS_EVENTS (Alias)\nSMC_DigitalCamSwitch_HighPrecision (FunctionBlock)\nSMC_FreeEncoder (FunctionBlock)\nSMC_Logical_Axis (FunctionBlock)\nSMC_StartupDrive (FunctionBlock)\nSMC_VIRTUAL_AXIS (FunctionBlock)\nAdministrative/Configuration\nMC_Power (FunctionBlock)\nMC_Reset (FunctionBlock)\nMC_SetPosition (FunctionBlock)\nSMC3_BrakeControl (FunctionBlock)\nSMC3_PersistPosition (FunctionBlock)\nSMC3_PersistPositionLogical (FunctionBlock)\nSMC3_PersistPositionSingleturn (FunctionBlock)\nSMC_ChangeAxisScalingLinear (FunctionBlock)\nSMC_ChangeAxisScalingRotary (FunctionBlock)\nSMC_ChangeDynamicLimits (FunctionBlock)\nSMC_ChangeGearingRatio (FunctionBlock)\nSMC_GetForecast (FunctionBlock)\nSMC_GetTravelTime (FunctionBlock)\nSMC_SetAdditionalConversionFactors (FunctionBlock)\nSMC_SetControllerMode (FunctionBlock)\nSMC_SetCustomRampType (FunctionBlock)\nSMC_SetForecast (FunctionBlock)\nSMC_SetMovementType (FunctionBlock)\nSMC_SetRampType (FunctionBlock)\nSMC_SetSoftwareLimits (FunctionBlock)\nCAM\nMC_CamTableSelect (FunctionBlock)\nSMC_CAMBounds (FunctionBlock)\nSMC_CAMBounds_Pos (FunctionBlock)\nSMC_CamEditor (FunctionBlock)\nSMC_CamRegister (FunctionBlock)\nSMC_CamTableEvaluate (Function)\nSMC_GetCamSlaveSetPosition (FunctionBlock)\nSMC_GetTappetValue (FunctionBlock)\nSMC_ReadCAM (FunctionBlock)\nSMC_WriteCAM (FunctionBlock)\nDiagnostics\nFBError\nMC_ReadActualPosition (FunctionBlock)\nMC_ReadActualTorque (FunctionBlock)\nMC_ReadActualVelocity (FunctionBlock)\nMC_ReadAxisError (FunctionBlock)\nMC_ReadStatus (FunctionBlock)\nSMC3_BrakeStatus (FunctionBlock)\nSMC_AxisDiagnosticLog (FunctionBlock)\nSMC_CheckAxisCommunication (FunctionBlock)\nSMC_CheckLimits (FunctionBlock)\nSMC_EstimateDeadTime (FunctionBlock)\nSMC_GetMaxSetAccDec (FunctionBlock)\nSMC_GetMaxSetVelocity (FunctionBlock)\nSMC_GetTrackingError (FunctionBlock)\nSMC_InPosition (FunctionBlock)\nSMC_MeasureDistance (FunctionBlock)\nSMC_ReadSetPosition (FunctionBlock)\nSMC_ReadSetValues (FunctionBlock)\nMovement\nDirect\nMC_AccelerationProfile (FunctionBlock)\nMC_Halt (FunctionBlock)\nMC_HaltSuperImposed (FunctionBlock)\nMC_Home (FunctionBlock)\nMC_Jog (FunctionBlock)\nMC_MoveAbsolute (FunctionBlock)\nMC_MoveAdditive (FunctionBlock)\nMC_MoveRelative (FunctionBlock)\nMC_MoveSuperImposed (FunctionBlock)\nMC_MoveVelocity (FunctionBlock)\nMC_PositionProfile (FunctionBlock)\nMC_SetOverride (FunctionBlock)\nMC_Stop (FunctionBlock)\nMC_VelocityProfile (FunctionBlock)\nMaster/Slave\nSMC_BacklashCompensation (FunctionBlock)\nSMC_GetOverride (FunctionBlock)\nSMC_Homing (FunctionBlock)\nSMC_Inch (FunctionBlock)\nSMC_MoveContinuousAbsolute (FunctionBlock)\nSMC_MoveContinuousRelative (FunctionBlock)\nParameter access\nMC_ReadBoolParameter (FunctionBlock)\nMC_ReadParameter (FunctionBlock)\nMC_WriteBoolParameter (FunctionBlock)\nMC_WriteParameter (FunctionBlock)\nSMC_ParameterNumber_CoE (Function)\nSMC_ParameterNumber_SoE (Function)\nSMC_GetCyclicMapping (Function)\ninternal\nTrajectories\nVisualization\nGenerated\nFramed visu helpers\nOriginal\nImagePool_sm3 (ImagePool)\nSM3_Basic_GetVersion (Function)\nFile and Project Information\nLibrary Reference\n3SLicense\nLibrary Identification\nLibrary Properties\nBase Interfaces\nLibrary Identification\nLibrary Properties\nCAA Callback Extern\nLibrary Identification\nLibrary Properties\nCAA Device Diagnosis\nLibrary Identification\nLibrary Properties\nCAA Types Extern\nLibrary Identification\nLibrary Properties\nCmpApp\nLibrary Identification\nLibrary Properties\nCmpErrors2 Interfaces\nLibrary Identification\nLibrary Properties\nCmpEventMgr\nLibrary Identification\nLibrary Properties\nCmpIecTask\nLibrary Identification\nLibrary Properties\nCmpLog\nLibrary Identification\nLibrary Properties\nComponent Manager\nLibrary Identification\nLibrary Properties\nEmpty\nLibrary Identification\nLibrary Properties\nFloatingPointUtils\nLibrary Identification\nLibrary Properties\nIoDriver Interfaces\nLibrary Identification\nLibrary Properties\nIoStandard\nLibrary Identification\nLibrary Properties\nSM3_CommonPublic\nLibrary Identification\nLibrary Properties\nSM3_Error\nLibrary Identification\nLibrary Properties\nSM3_Math\nLibrary Identification\nLibrary Properties\nSM3_RBase\nLibrary Identification\nLibrary Properties\nSM3_Ramps\nLibrary Identification\nLibrary Properties\nSM3_Shared\nLibrary Identification\nLibrary Properties\nSM3_StringUtils\nLibrary Identification\nLibrary Properties\nSM3_TrajectoryGeneration\nLibrary Identification\nLibrary Properties\nStandard\nLibrary Identification\nLibrary Properties\nSysCpuHandling\nLibrary Identification\nLibrary Properties\nSysFile\nLibrary Identification\nLibrary Properties\nSysMem\nLibrary Identification\nLibrary Properties\nSysTarget\nLibrary Identification\nLibrary Properties\nSysTime\nLibrary Identification\nLibrary Properties\nSysTypes2 Interfaces\nLibrary Identification\nLibrary Properties\nVisuElem3DPath\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nVisuElemCamDisplayer\nLibrary Identification\nLibrary Properties\nLibrary Parameter\nVisuElemMeter\nLibrary Identification\nLibrary Properties\nVisuElemTextEditor\nLibrary Identification\nLibrary Properties\nVisuElemTrace\nLibrary Identification\nLibrary Properties\nVisuElemXYChart\nLibrary Identification\nLibrary Properties\nVisuElems\nLibrary Identification\nLibrary Properties\nVisuElemsAlarm\nLibrary Identification\nLibrary Properties\nVisuElemsDateTime\nLibrary Identification\nLibrary Properties\nVisuElemsSpecialControls\nLibrary Identification\nLibrary Properties\nVisuElemsWinControls\nLibrary Identification\nLibrary Properties\nVisuInputs\nLibrary Identification\nLibrary Properties\nVisuNativeControl\nLibrary Identification\nLibrary Properties\nSM3_Basic\nDocs\n»\nSM3_Basic\n»\nPOUs\n»\nMovement\n»\nSMC_BacklashCompensation (FB)\nSMC_BacklashCompensation (FB)\nÂ¶\nFUNCTION_BLOCK SMC_BacklashCompensation\nThis function block can be used to compensate the backlash which arises\nfor example at a belt drive or in a gear-box.\nFor this purpose a (usually virtual) master axis gets mirrored on the\nreal slave axis, whose backlash should be compensated.\nThe function block works similar to a phasing function block, the phase\ndepends on the direction of the master axis.\nIf the master axis starts in a certain direction, the slave axis does\nthe same plus an additional movement (distance:\nfBacklash\n) in this direction;\nif the master axis inverts, the slave axis also turns around and\nadditionally covers the double distance\nfBacklash\nin this new direction.\nTake care that the master axis and the slave axis are at the same\nposition when the module starts working, because otherwise the slave\naxis would be positioned on the master axis.\nInOut:\nScope\nName\nType\nInitial\nComment\nInout\nMaster\nAXIS_REF_SM3\nReference to master axis\nSlave\nAXIS_REF_SM3\nReference to slave axis\nInput\nbExecute\nBOOL\nRising edge: Starts the execution of the function block.\nIt stays active until the slave axis gets\ninterrupted by another movement, or if an error occurs.\nfBacklash\nLREAL\nDistance/Backlash to be compensated.\nfCompensationVel\nLREAL\nAdditional velocity, which should be used for the\ncompensation.\nfCompensationAcc\nLREAL\nAdditional acceleration, which should be used for the\ncompensation.\nfCompensationDec\nLREAL\nAdditional deceleration, which should be used for the\ncompensation.\nfCompensationJerk\nLREAL\nAdditional jerk, which should be used for the compensation.\neBacklashMode\nSMC_BACKLASH_MODE\nSMC_BL_AUTO\nThe mode of backlash compensation.\nSMC_BL_AUTO\n: Direction in which the master axis moves;\ndetermines the compensation direction.\nSMC_BL_POSITIVE\n: Compensation in positive direction,\nindependent on the movement of the master axis.\nSMC_BL_NEGATIVE\n: Compensation in negative direction,\nindependent on the movement of the master axis.\nSMC_BL_OFF\n: No compensation\neBacklashStartState\nSMC_BACKLASH_STARTSTATE\nSMC_BL_START_NONE\nThe start condition of the axis.\nSMC_BL_START_NEGATIVE\n: The slave axis is under traction in negative\ndirection, that is: a movement in negative direction needs no\ncompensation; in case of a movement in positive direction the\ndouble\nfBacklash\n-distance will be made up.\nSMC_BL_START_POSITIVE\n: The slave axis is under traction in positive\ndirection, that is: a movement in positive direction needs no\ncompensation; in case of a movement in negative direction the\ndouble\nfBacklash\n-distance will be made up.\nSMC_BL_START_NONE\n: The slave axis is not under traction; a movement\nin positive or negative direction will cause a corresponding\ncompensating movement of distance\nfBacklash\n.\nOutput\nbBusy\nBOOL\nTRUE\n: Execution of the function block is not finished\nyet.\nbCommandAborted\nBOOL\nTRUE\n: Command has been aborted by another command.\nbError\nBOOL\nTRUE\n: Error has occured within the function block.\niErrorID\nSMC_ERROR\nError identification\nbCompensating\nBOOL\nTRUE\n: While compensating a backlash.",
  "tables": [
    {
      "headers": [
        "Scope",
        "Name",
        "Type",
        "Initial",
        "Comment"
      ],
      "rows": [
        {
          "Scope": "Inout",
          "Name": "Master",
          "Type": "AXIS_REF_SM3",
          "Initial": "",
          "Comment": "Reference to master axis"
        },
        [
          "Slave",
          "AXIS_REF_SM3",
          "",
          "Reference to slave axis"
        ],
        {
          "Scope": "Input",
          "Name": "bExecute",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "Rising edge: Starts the execution of the function block.\nIt stays active until the slave axis gets\ninterrupted by another movement, or if an error occurs."
        },
        [
          "fBacklash",
          "LREAL",
          "",
          "Distance/Backlash to be compensated."
        ],
        [
          "fCompensationVel",
          "LREAL",
          "",
          "Additional velocity, which should be used for the\ncompensation."
        ],
        [
          "fCompensationAcc",
          "LREAL",
          "",
          "Additional acceleration, which should be used for the\ncompensation."
        ],
        [
          "fCompensationDec",
          "LREAL",
          "",
          "Additional deceleration, which should be used for the\ncompensation."
        ],
        [
          "fCompensationJerk",
          "LREAL",
          "",
          "Additional jerk, which should be used for the compensation."
        ],
        [
          "eBacklashMode",
          "SMC_BACKLASH_MODE",
          "SMC_BL_AUTO",
          "The mode of backlash compensation.SMC_BL_AUTO: Direction in which the master axis moves;determines the compensation direction.SMC_BL_POSITIVE: Compensation in positive direction,independent on the movement of the master axis.SMC_BL_NEGATIVE: Compensation in negative direction,independent on the movement of the master axis.SMC_BL_OFF: No compensation"
        ],
        [
          "eBacklashStartState",
          "SMC_BACKLASH_STARTSTATE",
          "SMC_BL_START_NONE",
          "The start condition of the axis.SMC_BL_START_NEGATIVE: The slave axis is under traction in negativedirection, that is: a movement in negative direction needs no\ncompensation; in case of a movement in positive direction the\ndoublefBacklash-distance will be made up.SMC_BL_START_POSITIVE: The slave axis is under traction in positivedirection, that is: a movement in positive direction needs no\ncompensation; in case of a movement in negative direction the\ndoublefBacklash-distance will be made up.SMC_BL_START_NONE: The slave axis is not under traction; a movementin positive or negative direction will cause a corresponding\ncompensating movement of distancefBacklash."
        ],
        {
          "Scope": "Output",
          "Name": "bBusy",
          "Type": "BOOL",
          "Initial": "",
          "Comment": "TRUE: Execution of the function block is not finished\nyet."
        },
        [
          "bCommandAborted",
          "BOOL",
          "",
          "TRUE: Command has been aborted by another command."
        ],
        [
          "bError",
          "BOOL",
          "",
          "TRUE: Error has occured within the function block."
        ],
        [
          "iErrorID",
          "SMC_ERROR",
          "",
          "Error identification"
        ],
        [
          "bCompensating",
          "BOOL",
          "",
          "TRUE: While compensating a backlash."
        ]
      ]
    }
  ]
}