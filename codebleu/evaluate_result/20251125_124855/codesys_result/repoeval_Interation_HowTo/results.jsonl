{"prompt": "FUNCTION_BLOCK FirstPublish\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "reference": "FUNCTION_BLOCK FirstPublish\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tpublisher:MQTT.MQTTPublish;\n\tdoPublish: BOOL;\n\tinit: BOOL;\n\tsendPayload:STRING :='testPayload';\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tpublisher.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\nEND_IF\npublisher(\n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tPayloadString:= ADR(sendPayload), \n\tPublishAsString:= TRUE, \n\tQoSIn:= MQTT.QoS.ExactlyOnce, \n\tMRetain:= FALSE, \n\tsend:= doPublish);", "docs": [{"text": "FUNCTION_BLOCK FirstPublish\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tpublisher:MQTT.MQTTPublish;\n\tdoPublish: BOOL;\n\tinit: BOOL;\n\tsendPayload:STRING :='testPayload';\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tpublisher.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\nEND_IF\npublisher(\n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tPayloadString:= ADR(sendPayload), \n\tPublishAsString:= TRUE, \n\tQoSIn:= MQTT.QoS.ExactlyOnce, \n\tMRetain:= FALSE, \n\tsend:= doPublish);", "title": "Interation_HowTo-FUN\\FirstPublish.st"}, {"text": "FUNCTION_BLOCK FirstSubscription\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tcollector:MQTT.CallbackCollector;\n\tSUB1:MQTT.MQTTSubscribe;\n\tinit: BOOL;\n\treceiver:MQTT.ReceiveString;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tSUB1.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\n\tcollector.put(instance:= receiver);\n\treceiver.initAsFindTopic(compString:= ADR('TestTopic/FromCodesys'), returnHit:= TRUE);\nEND_IF\n\nSUB1(\n\tSubscribe:= TRUE, \n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tQoSSubscribe:= MQTT.QoS.ExactlyOnce, \n\tExpectingString:= TRUE, \n\tCallback:= collector);\n", "title": "Interation_HowTo-FUN\\FirstSubscription.st"}, {"text": "FUNCTION_BLOCK FirstSubscription\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tcollector:MQTT.CallbackCollector;\n\tSUB1:MQTT.MQTTSubscribe;\n\tinit: BOOL;\n\treceiver:MQTT.ReceiveString;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tSUB1.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\n\tcollector.put(instance:= receiver);\n\treceiver.initAsFindTopic(compString:= ADR('TestTopic/FromCodesys'), returnHit:= TRUE);\nEND_IF\n\nSUB1(\n\tSubscribe:= TRUE, \n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tQoSSubscribe:= MQTT.QoS.ExactlyOnce, \n\tExpectingString:= TRUE, \n\tCallback:= collector);\n\t", "title": "Interation_HowTo-FUN\\FirstSubscription.st"}, {"text": "PROGRAM HowTo\nVAR\n\tMQTT_IN_OUT:MQTT.MQTT_IN_OUT;\n\t//HandleMQTT:SD_MQTT.HANDLE_MQTT;\n\tFirstPublish:FirstPublish;\n\tFirstSubscription:FirstSubscription;\nEND_VAR\n\nMQTT_IN_OUT.clientFB(\n\tMQTT_IN_OUT:= MQTT_IN_OUT, \n\tENABLE:= TRUE, \n\tURL:= 'test.mosquitto.org:1883', \n\tTIMEOUT:= T#2S, \n\tTLS:= FALSE);\n\t\nFirstPublish();\nFirstSubscription();", "title": "Interation_HowTo-PRG\\HowTo.st"}], "metadata": {"task_id": "Interation_HowTo/0", "ground_truth": "FUNCTION_BLOCK FirstPublish\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tpublisher:MQTT.MQTTPublish;\n\tdoPublish: BOOL;\n\tinit: BOOL;\n\tsendPayload:STRING :='testPayload';\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tpublisher.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\nEND_IF\npublisher(\n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tPayloadString:= ADR(sendPayload), \n\tPublishAsString:= TRUE, \n\tQoSIn:= MQTT.QoS.ExactlyOnce, \n\tMRetain:= FALSE, \n\tsend:= doPublish);", "fpath_tuple": ["FUN", "FirstPublish.st"], "context_start_lineno": 0, "lineno": 6, "function_name": "FirstPublish"}}
{"prompt": "FUNCTION_BLOCK FirstSubscription\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "reference": "FUNCTION_BLOCK FirstSubscription\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tcollector:MQTT.CallbackCollector;\n\tSUB1:MQTT.MQTTSubscribe;\n\tinit: BOOL;\n\treceiver:MQTT.ReceiveString;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tSUB1.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\n\tcollector.put(instance:= receiver);\n\treceiver.initAsFindTopic(compString:= ADR('TestTopic/FromCodesys'), returnHit:= TRUE);\nEND_IF\n\nSUB1(\n\tSubscribe:= TRUE, \n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tQoSSubscribe:= MQTT.QoS.ExactlyOnce, \n\tExpectingString:= TRUE, \n\tCallback:= collector);", "docs": [{"text": "FUNCTION_BLOCK FirstSubscription\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tcollector:MQTT.CallbackCollector;\n\tSUB1:MQTT.MQTTSubscribe;\n\tinit: BOOL;\n\treceiver:MQTT.ReceiveString;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tSUB1.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\n\tcollector.put(instance:= receiver);\n\treceiver.initAsFindTopic(compString:= ADR('TestTopic/FromCodesys'), returnHit:= TRUE);\nEND_IF\n\nSUB1(\n\tSubscribe:= TRUE, \n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tQoSSubscribe:= MQTT.QoS.ExactlyOnce, \n\tExpectingString:= TRUE, \n\tCallback:= collector);\n", "title": "Interation_HowTo-FUN\\FirstSubscription.st"}, {"text": "FUNCTION_BLOCK FirstSubscription\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tcollector:MQTT.CallbackCollector;\n\tSUB1:MQTT.MQTTSubscribe;\n\tinit: BOOL;\n\treceiver:MQTT.ReceiveString;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tSUB1.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\n\tcollector.put(instance:= receiver);\n\treceiver.initAsFindTopic(compString:= ADR('TestTopic/FromCodesys'), returnHit:= TRUE);\nEND_IF\n\nSUB1(\n\tSubscribe:= TRUE, \n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tQoSSubscribe:= MQTT.QoS.ExactlyOnce, \n\tExpectingString:= TRUE, \n\tCallback:= collector);\n\t", "title": "Interation_HowTo-FUN\\FirstSubscription.st"}, {"text": "FUNCTION_BLOCK FirstPublish\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tpublisher:MQTT.MQTTPublish;\n\tdoPublish: BOOL;\n\tinit: BOOL;\n\tsendPayload:STRING :='testPayload';\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tpublisher.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\nEND_IF\npublisher(\n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tPayloadString:= ADR(sendPayload), \n\tPublishAsString:= TRUE, \n\tQoSIn:= MQTT.QoS.ExactlyOnce, \n\tMRetain:= FALSE, \n\tsend:= doPublish);", "title": "Interation_HowTo-FUN\\FirstPublish.st"}, {"text": "PROGRAM HowTo\nVAR\n\tMQTT_IN_OUT:MQTT.MQTT_IN_OUT;\n\t//HandleMQTT:SD_MQTT.HANDLE_MQTT;\n\tFirstPublish:FirstPublish;\n\tFirstSubscription:FirstSubscription;\nEND_VAR\n\nMQTT_IN_OUT.clientFB(\n\tMQTT_IN_OUT:= MQTT_IN_OUT, \n\tENABLE:= TRUE, \n\tURL:= 'test.mosquitto.org:1883', \n\tTIMEOUT:= T#2S, \n\tTLS:= FALSE);\n\t\nFirstPublish();\nFirstSubscription();", "title": "Interation_HowTo-PRG\\HowTo.st"}], "metadata": {"task_id": "Interation_HowTo/1", "ground_truth": "FUNCTION_BLOCK FirstSubscription\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\tcollector:MQTT.CallbackCollector;\n\tSUB1:MQTT.MQTTSubscribe;\n\tinit: BOOL;\n\treceiver:MQTT.ReceiveString;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tSUB1.SetMqttInOut(MQTT_IN_OUT:= HowTo.MQTT_IN_OUT);\n\tcollector.put(instance:= receiver);\n\treceiver.initAsFindTopic(compString:= ADR('TestTopic/FromCodesys'), returnHit:= TRUE);\nEND_IF\n\nSUB1(\n\tSubscribe:= TRUE, \n\tTopic:= ADR('TestTopic/FromCodesys'), \n\tQoSSubscribe:= MQTT.QoS.ExactlyOnce, \n\tExpectingString:= TRUE, \n\tCallback:= collector);", "fpath_tuple": ["FUN", "FirstSubscription.st"], "context_start_lineno": 0, "lineno": 6, "function_name": "FirstSubscription"}}
