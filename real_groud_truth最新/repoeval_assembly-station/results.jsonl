{"prompt": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR", "reference": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\nIF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n\t_armMoved := FALSE;\n\tLidPicked := FALSE;\n\tLidPlaced := FALSE;\n\t_itemDetected := FALSE;\n\t_gripperAtLid := FALSE;\n\t_gripperAtBase := FALSE;\nEND_IF\n\nIF FB_MovingZ.Q THEN\n\t_pickerMoved := NOT _pickerMoved;\nEND_IF\n\nIF FB_MovingX.Q THEN\n\t_armMoved := NOT _armMoved;\nEND_IF\n\nIF FB_ItemDetect.Q THEN\n\t_itemDetected:= TRUE;\nEND_IF\n\n// Picker movement for Lid\nIF (BaseClamped AND LidClamped) THEN\n\t_movePicker := TRUE;\nEND_IF\n\nIF _grabItem THEN\n\t_movePicker := FALSE;\n\tLidPicked := TRUE;\n\tLidPlaced := FALSE;\nEND_IF\n\n// Picker movement for Base\nIF _armMoved AND _grabItem THEN\n\t_movePicker:= TRUE;\nEND_IF\n\nIF _armMoved AND NOT _grabItem THEN\n\t_movePicker:= FALSE;\nEND_IF\n\n// Gripper\n_gripperAtLid := _pickerMoved AND NOT _armMoved;\n_gripperAtBase := _pickerMoved AND _armMoved;\n\nIF _gripperAtLid AND _itemDetected THEN\n\t_grabItem := TRUE;\nEND_IF\n\nIF _gripperAtBase AND _grabItem THEN\n\t_grabItem := FALSE;\n\t_itemDetected := FALSE;\n\tLidPlaced := TRUE;\n\tLidPicked := FALSE;\nEND_IF\n\n// arm movement\nIF LidPicked AND NOT _pickerMoved THEN\n\t_moveArm := TRUE;\nEND_IF\n\nIF LidPlaced AND NOT _pickerMoved THEN\n\t_moveArm := FALSE;\nEND_IF", "docs": [{"text": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\nIF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n\t_armMoved := FALSE;\n\tLidPicked := FALSE;\n\tLidPlaced := FALSE;\n\t_itemDetected := FALSE;\n\t_gripperAtLid := FALSE;\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\nIF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n\t_armMoved := FALSE;\n\tLidPicked := FALSE;\n\tLidPlaced := FALSE;\n\t_itemDetected := FALSE;\n\t_gripperAtLid := FALSE;\n\t_gripperAtBase := FALSE;\nEND_IF\n\nIF FB_MovingZ.Q THEN\n\t_pickerMoved := NOT _pickerMoved;\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\nIF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "END_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\nIF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n\t_armMoved := FALSE;\n\tLidPicked := FALSE;\n\tLidPlaced := FALSE;\n\t_itemDetected := FALSE;\n\t_gripperAtLid := FALSE;\n\t_gripperAtBase := FALSE;\nEND_IF\n\nIF FB_MovingZ.Q THEN\n\t_pickerMoved := NOT _pickerMoved;\nEND_IF\n\nIF FB_MovingX.Q THEN\n\t_armMoved := NOT _armMoved;\nEND_IF\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "END_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\nIF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n\t_armMoved := FALSE;\n\tLidPicked := FALSE;\n\tLidPlaced := FALSE;\n\t_itemDetected := FALSE;\n\t_gripperAtLid := FALSE;\n\t_gripperAtBase := FALSE;\nEND_IF\n\nIF FB_MovingZ.Q THEN\n\t_pickerMoved := NOT _pickerMoved;\nEND_IF\n\nIF FB_MovingX.Q THEN\n\t_armMoved := NOT _armMoved;\nEND_IF\n\nIF FB_ItemDetect.Q THEN\n\t_itemDetected:= TRUE;\nEND_IF\n\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}, {"text": "\t_lidConveyorState:= TRUE;\n\t_baseClamped := FALSE;\n\t_lidClamped := FALSE;\n\t_baseClampPosition := FALSE;\n\t_moveBaseClamp := FALSE;\n\t_partLeft := FALSE;\n\tPartCounter := 0;\n\tFB_PnPMachine.Reset := TRUE;\nEND_IF\n\nFIO.FIO_oLidsConveyor := _lidConveyorState;\nFIO.FIO_oBasesConveyor := _baseConveyorState;\n\nFIO.FIO_oClampLid := _lidClamped;\nFIO.FIO_oClampBase := _baseClamped;\nFIO.FIO_oBasePosRaise := _moveBaseClamp;\nFIO.FIO_oCounter := PartCounter;\n\n_baseConveyorState := NOT _baseClamped;\n_lidConveyorState := NOT _LidClamped;\n\nIF FB_BaseDetector.Q THEN\n\t_BaseClamped := TRUE;\nEND_IF\n\nIF FB_LidDetector.Q THEN\n\t_LidClamped := TRUE;\nEND_IF\n\nIF FB_LidPickedNotification.Q THEN\n\t_LidClamped := FALSE;\nEND_IF\n\nIF FB_LidPlacedNotification.Q THEN\n\t_BaseClamped := FALSE;\n\t_moveBaseClamp := TRUE;\nEND_IF\n\nIF FB_BaseClamperRaised.Q THEN\n\t_baseClampPosition := TRUE;\nEND_IF\n\nIF FB_PartDetector.Q THEN\n\t_partLeft := TRUE;\n\tPartCounter := PartCounter +1;\nEND_IF\n\nIF _partLeft AND _baseClampPosition THEN\n\t_moveBaseClamp := FALSE;\n\t_partLeft := FALSE;\n", "title": "assembly-station-PRG\\PLC_PRG.st"}, {"text": "IF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n\t_armMoved := FALSE;\n\tLidPicked := FALSE;\n\tLidPlaced := FALSE;\n\t_itemDetected := FALSE;\n\t_gripperAtLid := FALSE;\n\t_gripperAtBase := FALSE;\nEND_IF\n\nIF FB_MovingZ.Q THEN\n\t_pickerMoved := NOT _pickerMoved;\nEND_IF\n\nIF FB_MovingX.Q THEN\n\t_armMoved := NOT _armMoved;\nEND_IF\n\nIF FB_ItemDetect.Q THEN\n\t_itemDetected:= TRUE;\nEND_IF\n\n// Picker movement for Lid\nIF (BaseClamped AND LidClamped) THEN\n\t_movePicker := TRUE;\nEND_IF\n\nIF _grabItem THEN\n\t_movePicker := FALSE;\n\tLidPicked := TRUE;\n\tLidPlaced := FALSE;\nEND_IF\n\n// Picker movement for Base\nIF _armMoved AND _grabItem THEN\n\t_movePicker:= TRUE;\nEND_IF\n\nIF _armMoved AND NOT _grabItem THEN\n\t_movePicker:= FALSE;\nEND_IF\n\n// Gripper\n_gripperAtLid := _pickerMoved AND NOT _armMoved;\n_gripperAtBase := _pickerMoved AND _armMoved;\n\nIF _gripperAtLid AND _itemDetected THEN\n", "title": "assembly-station-FUN\\PNP_MACHINE.st"}], "metadata": {"task_id": "assembly-station/0", "ground_truth": "FUNCTION_BLOCK PUBLIC PNP_MACHINE\nVAR_INPUT\n\tBaseClamped: BOOL;\n\tLidClamped: BOOL;\n\tReset: BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tLidPicked: BOOL := FALSE;\n\tLidPlaced: BOOL := FALSE;\nEND_VAR\n\nVAR\n\tFB_ItemDetect : R_TRIG;\n\tFB_MovingZ: F_TRIG;\n\tFB_MovingX : F_TRIG;\n\t\n\t_pickerMoved: BOOL := FALSE;\n\t_movePicker: BOOL := FALSE;\n\t_moveArm: BOOL := FALSE;\n\t_armMoved : BOOL := FALSE;\n\t_grabItem: BOOL := FALSE;\n\t_itemDetected: BOOL := FALSE;\n\t_gripperAtLid: BOOL := FALSE;\n\t_gripperAtBase: BOOL := FALSE;\nEND_VAR\n\nFB_MovingZ(CLK := FIO.FIO_iMovingZ);\nFB_MovingX(CLK:= FIO.FIO_iMovingX);\nFB_ItemDetect(CLK := FIO.FIO_iItemDetected);\n\nFIO.FIO_oMoveZ := _movePicker;\nFIO.FIO_oGrab := _grabItem;\nFIO.FIO_oMoveX := _moveArm;\n\nIF Reset THEN\n\t_pickerMoved := FALSE;\n\t_movePicker := FALSE;\n\t_grabItem := FALSE;\n\t_moveArm := FALSE;\n\t_armMoved := FALSE;\n\tLidPicked := FALSE;\n\tLidPlaced := FALSE;\n\t_itemDetected := FALSE;\n\t_gripperAtLid := FALSE;\n\t_gripperAtBase := FALSE;\nEND_IF\n\nIF FB_MovingZ.Q THEN\n\t_pickerMoved := NOT _pickerMoved;\nEND_IF\n\nIF FB_MovingX.Q THEN\n\t_armMoved := NOT _armMoved;\nEND_IF\n\nIF FB_ItemDetect.Q THEN\n\t_itemDetected:= TRUE;\nEND_IF\n\n// Picker movement for Lid\nIF (BaseClamped AND LidClamped) THEN\n\t_movePicker := TRUE;\nEND_IF\n\nIF _grabItem THEN\n\t_movePicker := FALSE;\n\tLidPicked := TRUE;\n\tLidPlaced := FALSE;\nEND_IF\n\n// Picker movement for Base\nIF _armMoved AND _grabItem THEN\n\t_movePicker:= TRUE;\nEND_IF\n\nIF _armMoved AND NOT _grabItem THEN\n\t_movePicker:= FALSE;\nEND_IF\n\n// Gripper\n_gripperAtLid := _pickerMoved AND NOT _armMoved;\n_gripperAtBase := _pickerMoved AND _armMoved;\n\nIF _gripperAtLid AND _itemDetected THEN\n\t_grabItem := TRUE;\nEND_IF\n\nIF _gripperAtBase AND _grabItem THEN\n\t_grabItem := FALSE;\n\t_itemDetected := FALSE;\n\tLidPlaced := TRUE;\n\tLidPicked := FALSE;\nEND_IF\n\n// arm movement\nIF LidPicked AND NOT _pickerMoved THEN\n\t_moveArm := TRUE;\nEND_IF\n\nIF LidPlaced AND NOT _pickerMoved THEN\n\t_moveArm := FALSE;\nEND_IF", "fpath_tuple": ["FUN", "PNP_MACHINE.st"], "context_start_lineno": 0, "lineno": 13, "function_name": "PNP_MACHINE"}}
