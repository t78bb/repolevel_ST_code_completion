[["```python\n# VAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n\tuiMonth \t: UINT; \n\tuiDay \t\t: UINT; \n\tuiHour \t\t: UINT; \n\tuiMinute \t: UINT; \n\tuiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\tS_Time64\t: UDINT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n# Initialize the file handle and other variables\nIF fileHandle = 0 THEN\n\tdatetime := SysTimeGet();\n\tuiYear := DT_TO_DATE(datetime).Year;\n\tuiMonth := DT_TO_DATE(datetime).Month;\n\tuiDay := DT_TO_DATE(datetime).Day;\n\tuiHour := DT_TO_TIME(datetime).Hour;\n\tuiMinute := DT_TO_TIME(datetime).Minute;\n\tuiSecond := DT_TO_TIME(datetime).Second;\n\tuiMsSecond := DT_TO_TIME(datetime).Millisecond;\n\n\tDTimer_Str := concat(INT_TO_STRING(uiYear), '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMonth));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiDay));\n\tDTimer_Str := concat(DTimer_Str, '_');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiHour));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMinute));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiSecond));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMsSecond));\n\n\tfileName := concat(filePath, '/');\n\tfileName := concat(fileName, DTimer_Str);\n\tfileName := concat(fileName, '.txt');\n\n\tfileHandle := SysFileOpen(fileName, 'w');\nEND_IF\n```"], ["```\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n\tuiMonth \t: UINT; \n\tuiDay \t\t: UINT; \n\tuiHour \t\t: UINT; \n\tuiMinute \t: UINT; \n\tuiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t: SysTime64;\n\tSTT\t\t\t\t: CurTimeEx;\n\tS_Time\t\t\t: SystemTimeDate;\n\tTime_Str\t\t: STRING;\n\tF_err\t\t\t: DWORD;\n\tF_HANDL\t\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\nIF fileHandle = 0 THEN\n\tdatetime := SysTimeGetDateTime();\n\tuiYear := datetime.year;\n\tuiMonth := datetime.month;\n\tuiDay := datetime.day;\n\tuiHour := datetime.hour;\n\tuiMinute := datetime.minute;\n\tuiSecond := datetime.second;\n\tuiMsSecond := datetime.millisecond;\n\n\tDTimer_Str := concat(INT_TO_STRING(uiYear), '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMonth));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiDay));\n\tDTimer_Str := concat(DTimer_Str, '_');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiHour));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMinute));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiSecond));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMsSecond));\n\n\tfileName := concat(filePath, '/');\n\tfileName := concat(fileName, devName);\n\tfileName := concat(fileName, '_');\n\tfileName := concat(fileName, DTimer_Str);\n\tfileName := concat(fileName, '.txt');\n\n\tfileHandle := SysFileOpen(fileName, 'w', F_err);\n\tIF F_err <> 0 THEN\n\t\tfileHandle := 0;\n\tEND_IF;\nEND_IF;\n```"], ["```\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n\tuiMonth \t: UINT; \n\tuiDay \t\t: UINT; \n\tuiHour \t\t: UINT; \n\tuiMinute \t: UINT; \n\tuiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t: SysTime64;\n\tSTT\t\t\t\t: CurTimeEx;\n\tS_Time\t\t\t: SystemTimeDate;\n\tTime_Str\t\t: STRING;\n\tF_err\t\t\t: DWORD;\n\tF_HANDL\t\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\nIF fileHandle = 0 THEN\n\tdatetime := SysTimeGetDateAndTime();\n\tuiYear := datetime.YEAR;\n\tuiMonth := datetime.MONTH;\n\tuiDay := datetime.DAY;\n\tuiHour := datetime.HOUR;\n\tuiMinute := datetime.MINUTE;\n\tuiSecond := datetime.SECOND;\n\tuiMsSecond := datetime.MILLISECOND;\n\n\tDTimer_Str := concat(INT_TO_STRING(uiYear), '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMonth));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiDay));\n\tDTimer_Str := concat(DTimer_Str, '_');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiHour));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMinute));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiSecond));\n\tDTimer_Str := concat(DTimer_Str, '-');\n\tDTimer_Str := concat(DTimer_Str, INT_TO_STRING(uiMsSecond));\n\n\tfileName := concat(filePath, '/');\n\tfileName := concat(fileName, devName);\n\tfileName := concat(fileName, '_');\n\tfileName := concat(fileName, DTimer_Str);\n\tfileName := concat(fileName, '.txt');\n\n\tfileHandle := SysFileOpen(fileName, 'w', F_err);\n\tIF F_err <> 0 THEN\n\t\tfileHandle := 0;\n\tEND_IF;\nEND_IF;\n```"], ["```python\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n# Initialize file handle and line count\nIF fileHandle = 0 THEN\n\tfileHandle := SysFileOpen(filePath, 'w', F_err);\n\tIF F_err <> 0 THEN\n\t\tRETURN;\n\tEND_IF;\n\tlineCount := 0;\nEND_IF;\n\n# Write data to the file\nlineCount := lineCount + 1;\ntempInt := lineCount * intervalt;\ndata := INT_TO_STRING(lineCount);\ndata := concat(data, '$T$T');\ndata := concat(data, INT_TO_STRING(tempInt));\nIF tempInt < 1000 THEN\n\tdata := concat(data, '$T');\nEND_IF;\ndata := concat(data, '$T$T');\ndata := concat(data, INT_TO_STRING(positionInt));\ndata := concat(data, '$T');\ndata := concat(data, INT_TO_STRING(speedInt));\ndata := concat(data, '$T');\ndata := concat(data, INT_TO_STRING(stateInt));\ndata := concat(data, '$R');\n\n# Write the data string to the file\nSysFileWrite(hFile := fileHandle, pBuffer := ADR(data), size := SIZEOF(data), F_err);\nIF F_err <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\n\tRETURN;\nEND_IF;\n\n# Close the file if necessary\nIF lineCount >= 100 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF;\nEND_FUNCTION_BLOCK\n```"]]