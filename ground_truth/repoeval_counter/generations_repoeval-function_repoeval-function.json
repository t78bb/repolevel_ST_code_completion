[["The provided code fragments are written in Structured Text (ST), a programming language commonly used in PLC (Programmable Logic Controller) programming. Below is a breakdown of the code and its functionality:\n\n---\n\n### **Code Fragment 1: `FB_Counter`**\nThis is a **Function Block** definition named `FB_Counter`. It is designed to handle counting operations based on three input signals: `bUp`, `bDown`, and `bReset`. Here's how it works:\n\n#### **Inputs (`VAR_INPUT`)**\n- `bUp: BOOL`: A Boolean input signal that triggers an increment in the counter value (`nValue`).\n- `bDown: BOOL`: A Boolean input signal that triggers a decrement in the counter value (`nValue`).\n- `bReset: BOOL`: A Boolean input signal that resets the counter value (`nValue`) to zero.\n\n#### **Outputs (`VAR_OUTPUT`)**\n- `nValue: INT`: An integer output representing the current value of the counter.\n\n#### **Logic**\n- If `bUp` is `TRUE`, the counter (`nValue`) is incremented by 1.\n- If `bDown` is `TRUE`, the counter (`nValue`) is decremented by 1.\n- If `bReset` is `TRUE`, the counter (`nValue`) is reset to 0.\n\n---\n\n### **Code Fragment 2: `PLC_PRG`**\nThis is a **Program** definition named `PLC_PRG`. It demonstrates how the `FB_Counter` function block is instantiated and used within a PLC program.\n\n#### **Variables (`VAR`)**\n- `FB_Counter_0: FB_Counter`: An instance of the `FB_Counter` function block.\n- `bUp, bDown, bReset: BOOL`: Boolean variables used to control the behavior of the `FB_Counter_0` instance.\n- `ActuallyValue: INT`: An integer variable that stores the current value of the counter (`nValue`).\n\n#### **Logic**\n- The inputs (`bUp`, `bDown`, `bReset`) are passed to the `FB_Counter_0` instance.\n- The output (`nValue`) of the `FB_Counter_0` instance is assigned to the `ActuallyValue` variable.\n\n---\n\n### **How It Works Together**\n1. The `FB_Counter` function block defines the counting logic.\n2. The `PLC_PRG` program creates an instance of the `FB_Counter` function block (`FB_Counter_0`) and connects it to external input signals (`bUp`, `bDown`, `bReset`).\n3. The current counter value (`nValue`) is accessible via the `ActuallyValue` variable.\n\n---\n\n### **Example Usage**\nAssume the following input signals:\n- `bUp = TRUE`\n- `bDown = FALSE`\n- `bReset = FALSE`\n\nThe counter (`nValue`) will increment by 1. If `bReset` is set to `TRUE`, the counter will reset to 0.\n\nThis modular design allows the counter logic to be reused across different parts of the PLC program by creating multiple instances of the `FB_Counter` function block."]]