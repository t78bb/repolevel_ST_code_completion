{"prompt": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR", "reference": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR\n\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nEND_IF\nIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nEND_IF", "docs": [{"text": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR\n\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nEND_IF\nIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nEND_IF", "title": "modbus-FUN\\DataReverse_cmdReverse.st"}, {"text": "FUNCTION_BLOCK DataReverse\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n", "title": "modbus-FUN\\DataReverse.st"}, {"text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "modbus-FUN\\fileSave.st"}, {"text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//\u4ec5\u6267\u884c\u4e0a\u5347\u6cbf\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st"}, {"text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st"}, {"text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//\u4ec5\u6267\u884c\u4e0a\u5347\u6cbf\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//\u534e\u4e2d\u8981\u6c42\u4f38\u7f29\u6307\u4ee4\u53ca\u72b6\u6001\u7ffb\u8f6c\n\t\t\t\t\n\t\t\t\t//\u8fc7\u6ee4\t\u673a\u68b0\u7ed3\u6784\u672a\u5b8c\u6210\u7684grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st"}, {"text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st"}, {"text": "METHOD localCmdHandler\nVAR_INPUT\nEND_VAR\nVAR\n\tiBit\t\t\t\t:INT;\n\texLevel\t\t\t\t:INT;\n\texIdx\t\t\t\t:INT;\n\texDirect\t\t\t:TargetDirect;\n\texeDirect\t\t\t:TargetDirect;\n\nEND_VAR\nVAR CONSTANT\n\tno\t\t:ARRAY [1..8] OF INT :=[11, 14, 17, 20, 49, 50, 51, 52];\t\nEND_VAR\n\n\nFOR iSec := 1 TO 8 DO\n\tgModbus.srv.request.data[no[iSec]] := gModbus.modbusBuffer[no[iSec]];\nEND_FOR\n\nFOR iSec := 1 TO 4 DO\n\tgModbus.srv.request.arrNew[iSec,1\t] := gModbus.srv.request.data[no[iSec]].1\t;\n\tgModbus.srv.request.arrNew[iSec,2\t] := gModbus.srv.request.data[no[iSec]].2\t;\n\tgModbus.srv.request.arrNew[iSec,3\t] := gModbus.srv.request.data[no[iSec]].3\t;\n\tgModbus.srv.request.arrNew[iSec,4\t] := gModbus.srv.request.data[no[iSec]].4\t;\n\tgModbus.srv.request.arrNew[iSec,5\t] := gModbus.srv.request.data[no[iSec]].5\t;\n\tgModbus.srv.request.arrNew[iSec,6\t] := gModbus.srv.request.data[no[iSec]].6\t;\n\tgModbus.srv.request.arrNew[iSec,7\t] := gModbus.srv.request.data[no[iSec]].7\t;\n\tgModbus.srv.request.arrNew[iSec,8\t] := gModbus.srv.request.data[no[iSec]].8\t;\n\tgModbus.srv.request.arrNew[iSec,9\t] := gModbus.srv.request.data[no[iSec]].9\t;\n\tgModbus.srv.request.arrNew[iSec,10\t] := gModbus.srv.request.data[no[iSec]].10\t;\n\tgModbus.srv.request.arrNew[iSec,11\t] := gModbus.srv.request.data[no[iSec]].11\t;\nEND_FOR\nFOR iSec := 1 TO 4 DO\n\tFOR iBit := 1 TO 11 DO\n\t\tIF gModbus.srv.request.arrNew[iSec, iBit] <> gModbus.srv.request.arrLast[iSec, iBit] THEN\n\t\t\tIF gModbus.srv.request.arrNew[iSec, iBit] THEN\t//\u4ec5\u6267\u884c\u4e0a\u5347\u6cbf\n\t\t\t\t//specifically output[grd/sky(exLevel), no(exIdx), TargetDirect(exDirect)]\n\t\t\t\tl2p(section := iSec, lgcIdx := iBit, \n\t\t\t\t\tlevel => exLevel, phyIdx => exIdx, direct => exDirect);\n\t\t\t\texeDirect := rvs.cmdReverse(input := exDirect);\t\t//\u534e\u4e2d\u8981\u6c42\u4f38\u7f29\u6307\u4ee4\u53ca\u72b6\u6001\u7ffb\u8f6c\n\t\t\t\t\n\t\t\t\t//\u8fc7\u6ee4\t\u673a\u68b0\u7ed3\u6784\u672a\u5b8c\u6210\u7684grd[4] and sky[4]\n\t\t\t\tIF exIdx = 4 THEN\texeDirect := TargetDirect.stop;\tEND_IF\n\t\t\t\t\n\t\t\t\tsetButtonByDirect(level := exLevel, idx := exIdx, direct := exeDirect);\n\t\t\tEND_IF\n\t\t\tgModbus.srv.request.arrLast[iSec, iBit] := gModbus.srv.request.arrNew[iSec, iBit];\t\t\t\n\t\tEND_IF\n\tEND_FOR\n", "title": "modbus-PRG\\ModbusAct_localCmdHandler.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}], "metadata": {"task_id": "modbus/0", "ground_truth": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR\n\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nEND_IF\nIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nEND_IF", "fpath_tuple": ["FUN", "DataReverse_cmdReverse.st"], "context_start_lineno": 0, "lineno": 5, "function_name": "cmdReverse"}}
{"prompt": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR", "reference": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t3://\u533a\u57df\u9650\u5b9a3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tgrd7\n\t\tEND_CASE\n\t4://\u533a\u57df\u9650\u5b9a4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\n\t\t\t2:\tphyIdx := 3;\n\t\t\t3:\tphyIdx := 4;\n\t\t\t4:\tphyIdx := 5;\n\t\t\t5:\tphyIdx := 6;\n\t\t\t6:\tphyIdx := 8;\n\t\t\t7:\tphyIdx := 9;\n\t\t\t8:\tphyIdx := 10;\n\t\t\t9:\tphyIdx := 2;\n\t\t\t10:\tphyIdx := 7;\n\t\tEND_CASE\nEND_CASE", "docs": [{"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}], "metadata": {"task_id": "modbus/1", "ground_truth": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t3://\u533a\u57df\u9650\u5b9a3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tgrd1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tgrd3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tgrd4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tgrd5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tgrd6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tgrd8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tgrd9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tgrd10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tgrd2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tgrd7\n\t\tEND_CASE\n\t4://\u533a\u57df\u9650\u5b9a4:grdRetract)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\n\t\t\t2:\tphyIdx := 3;\n\t\t\t3:\tphyIdx := 4;\n\t\t\t4:\tphyIdx := 5;\n\t\t\t5:\tphyIdx := 6;\n\t\t\t6:\tphyIdx := 8;\n\t\t\t7:\tphyIdx := 9;\n\t\t\t8:\tphyIdx := 10;\n\t\t\t9:\tphyIdx := 2;\n\t\t\t10:\tphyIdx := 7;\n\t\tEND_CASE\nEND_CASE", "fpath_tuple": ["FUN", "mdbsLogicToPhy.st"], "context_start_lineno": 0, "lineno": 11, "function_name": "mdbsLogicToPhy"}}
{"prompt": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR", "reference": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n\t\t52020:\tlevel := 2;\tidx := 7;\n\t\t53000:\tlevel := 2;\tidx := 0;\n\t\t53010:\tlevel := 2;\tidx := 0;\n\tEND_CASE\nEND_IF", "docs": [{"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n\t\t52020:\tlevel := 2;\tidx := 7;\n\t\t53000:\tlevel := 2;\tidx := 0;\n\t\t53010:\tlevel := 2;\tidx := 0;\n\tEND_CASE\nEND_IF", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "modbus-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK DataReverse\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n", "title": "modbus-FUN\\DataReverse.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "modbus-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}], "metadata": {"task_id": "modbus/2", "ground_truth": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n\t\t52020:\tlevel := 2;\tidx := 7;\n\t\t53000:\tlevel := 2;\tidx := 0;\n\t\t53010:\tlevel := 2;\tidx := 0;\n\tEND_CASE\nEND_IF", "fpath_tuple": ["FUN", "mdbsNumToIdx.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "mdbsNumToIdx"}}
{"prompt": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR", "reference": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t\u7eb52\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t\u6a2a6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t\u6a2a7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t\u6a2a8\t\n\t\tEND_CASE\n\t\n\t4://\u533a\u57df\u9650\u5b9a(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t\u8d77\u7ad6\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 184;\t\t//sky7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 180;\t\t//sky8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 181;\t\t//sky9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 182;\t\t//sky10r->\t\u6a2a8\n\t\tEND_CASE\nEND_CASE", "docs": [{"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}], "metadata": {"task_id": "modbus/3", "ground_truth": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t\u7eb52\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t\u6a2a6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t\u6a2a7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t\u6a2a8\t\n\t\tEND_CASE\n\t\n\t4://\u533a\u57df\u9650\u5b9a(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t\u8d77\u7ad6\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 184;\t\t//sky7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 180;\t\t//sky8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 181;\t\t//sky9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 182;\t\t//sky10r->\t\u6a2a8\n\t\tEND_CASE\nEND_CASE", "fpath_tuple": ["FUN", "mdbsPhyToLogic.st"], "context_start_lineno": 0, "lineno": 9, "function_name": "mdbsPhyToLogic"}}
{"prompt": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR", "reference": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "docs": [{"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "title": "modbus-FUN\\CommandExecutor0.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//\u5929\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[127,137]\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "title": "modbus-FUN\\CommandExecutor0.st"}], "metadata": {"task_id": "modbus/4", "ground_truth": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "fpath_tuple": ["FUN", "setButtonByDirect.st"], "context_start_lineno": 0, "lineno": 7, "function_name": "setButtonByDirect"}}
