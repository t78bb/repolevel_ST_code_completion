{"requirement": "This code is intended to implement a command interface for controlling an air conditioning system.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refAirConditioning)) THEN\n\tTHIS^.refAirConditioning.Activate();\n\tTHIS^.refAirConditioning.SetTemperature(20.0);\nEND_IF\n", "title": "Command1-FUN\\FB_AirConComfortCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(refAirConditioning)) THEN\n\tTHIS^.refAirConditioning REF= refAirConditioning;\nELSE\n\tTHIS^.refAirConditioning REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_AirConComfortCommand_FB_init.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(THIS^.refLamp)) THEN\n\tTHIS^.refLamp.SetLevel(THIS^.byNewLevel);\nEND_IF", "title": "Command1-FUN\\FB_LampSetLevelCommand_Execute.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\nIF (__ISVALIDREF(refAirConditioning)) THEN\n\tTHIS^.refAirConditioning REF= refAirConditioning;\nELSE\n\tTHIS^.refAirConditioning REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_AirConStandbyCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}, {"text": "METHOD PUBLIC Activate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := TRUE;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Activate.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "METHOD PUBLIC Deactivate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := false;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Deactivate.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.Stop();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicStopCommand_Execute.st"}], "task_id": "FB_AirConComfortCommand"}
{"requirement": "This code is intended to implement a functional block for air conditioning control with outputs for activation status and temperature.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "METHOD PUBLIC Activate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := TRUE;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Activate.st"}, {"text": "METHOD PUBLIC Deactivate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := false;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Deactivate.st"}, {"text": "METHOD PUBLIC SetTemperature : BOOL\nVAR_INPUT\n\tlrNewTemperature\t: LREAL;\nEND_VAR\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\n\nlrTemperature := lrNewTemperature;\n", "title": "Command1-FUN\\FB_AirConditioning_SetTemperature.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refAirConditioning)) THEN\n\tTHIS^.refAirConditioning.Activate();\n\tTHIS^.refAirConditioning.SetTemperature(20.0);\nEND_IF\n", "title": "Command1-FUN\\FB_AirConComfortCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(THIS^.refLamp)) THEN\n\tTHIS^.refLamp.SetLevel(THIS^.byNewLevel);\nEND_IF", "title": "Command1-FUN\\FB_LampSetLevelCommand_Execute.st"}, {"text": "METHOD PUBLIC On\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := true;", "title": "Command1-FUN\\FB_Socket_On.st"}, {"text": "METHOD PUBLIC Off\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := false;", "title": "Command1-FUN\\FB_Socket_Off.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\nIF (__ISVALIDREF(refAirConditioning)) THEN\n\tTHIS^.refAirConditioning REF= refAirConditioning;\nELSE\n\tTHIS^.refAirConditioning REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_AirConStandbyCommand_FB_init.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(refAirConditioning)) THEN\n\tTHIS^.refAirConditioning REF= refAirConditioning;\nELSE\n\tTHIS^.refAirConditioning REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_AirConComfortCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "METHOD PUBLIC SetLevel : BOOL\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\nVAR_INPUT\n\tbyNewLevel\t\t\t: BYTE;\nEND_VAR\nbyLevel := byNewLevel;", "title": "Command1-FUN\\FB_Lamp_SetLevel.st"}, {"text": "METHOD PUBLIC Stop\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := FALSE;", "title": "Command1-FUN\\FB_CDPlayer_Stop.st"}, {"text": "METHOD PUBLIC Start\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := true;", "title": "Command1-FUN\\FB_CDPlayer_Start.st"}, {"text": "METHOD PUBLIC SetTrack : BOOL\nVAR_INPUT\n\tbyNewTrack\t\t\t: UINT;\nEND_VAR\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\n\nbyTrack := byNewTrack;", "title": "Command1-FUN\\FB_CDPlayer_setTrack.st"}], "task_id": "FB_AirConditioning"}
{"requirement": "This code is intended to implement a standby command functionality for an air conditioning system.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refAirConditioning)) THEN\n\tTHIS^.refAirConditioning.Activate();\n\tTHIS^.refAirConditioning.SetTemperature(20.0);\nEND_IF\n", "title": "Command1-FUN\\FB_AirConComfortCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\nIF (__ISVALIDREF(refAirConditioning)) THEN\n\tTHIS^.refAirConditioning REF= refAirConditioning;\nELSE\n\tTHIS^.refAirConditioning REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_AirConStandbyCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(THIS^.refLamp)) THEN\n\tTHIS^.refLamp.SetLevel(THIS^.byNewLevel);\nEND_IF", "title": "Command1-FUN\\FB_LampSetLevelCommand_Execute.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(refAirConditioning)) THEN\n\tTHIS^.refAirConditioning REF= refAirConditioning;\nELSE\n\tTHIS^.refAirConditioning REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_AirConComfortCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "METHOD PUBLIC Activate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := TRUE;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Activate.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOnCommand_Execute.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.Stop();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicStopCommand_Execute.st"}], "task_id": "FB_AirConStandbyCommand"}
{"requirement": "This code is intended to implement a functional block for controlling a CD player, providing outputs for player activity status, volume level, and current track number.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "METHOD PUBLIC Stop\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := FALSE;", "title": "Command1-FUN\\FB_CDPlayer_Stop.st"}, {"text": "METHOD PUBLIC Start\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := true;", "title": "Command1-FUN\\FB_CDPlayer_Start.st"}, {"text": "METHOD PUBLIC SetTrack : BOOL\nVAR_INPUT\n\tbyNewTrack\t\t\t: UINT;\nEND_VAR\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\n\nbyTrack := byNewTrack;", "title": "Command1-FUN\\FB_CDPlayer_setTrack.st"}, {"text": "METHOD PUBLIC SetVolume : BOOL\nVAR_INPUT\n\tbyNewVolume \t\t: BYTE;\nEND_VAR\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbyVolume := byNewVolume;", "title": "Command1-FUN\\FB_CDPlayer_setVolume.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "METHOD PUBLIC On\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := true;", "title": "Command1-FUN\\FB_Socket_On.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "METHOD PUBLIC Off\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := false;", "title": "Command1-FUN\\FB_Socket_Off.st"}, {"text": "METHOD PUBLIC SetLevel : BOOL\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\nVAR_INPUT\n\tbyNewLevel\t\t\t: BYTE;\nEND_VAR\nbyLevel := byNewLevel;", "title": "Command1-FUN\\FB_Lamp_SetLevel.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "METHOD PUBLIC Activate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := TRUE;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Activate.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\n\n\nIF (__ISVALIDREF(refCDPlayer)) THEN\n\tTHIS^.refCDPlayer REF= refCDPlayer;\nELSE\n\tTHIS^.refCDPlayer REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_MusicPlayCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(refCDPlayer)) THEN\n\tTHIS^.refCDPlayer REF= refCDPlayer;\nELSE\n\tTHIS^.refCDPlayer REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_MusicStopCommand_FB_init.st"}, {"text": "METHOD PUBLIC Deactivate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := false;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Deactivate.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.SetVolume(40);\n\tTHIS^.refCDPlayer.SetTrack(1);\n\tTHIS^.refCDPlayer.Start();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicPlayCommand_Execute.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.Stop();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicStopCommand_Execute.st"}], "task_id": "FB_CDPlayer"}
{"requirement": "This code is intended to implement a function block for controlling or representing the level of a lamp using a BYTE output variable.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "METHOD PUBLIC SetLevel : BOOL\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\nVAR_INPUT\n\tbyNewLevel\t\t\t: BYTE;\nEND_VAR\nbyLevel := byNewLevel;", "title": "Command1-FUN\\FB_Lamp_SetLevel.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "METHOD PUBLIC On\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := true;", "title": "Command1-FUN\\FB_Socket_On.st"}, {"text": "METHOD PUBLIC Off\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := false;", "title": "Command1-FUN\\FB_Socket_Off.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "METHOD PUBLIC Stop\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := FALSE;", "title": "Command1-FUN\\FB_CDPlayer_Stop.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefLamp : REFERENCE TO FB_Lamp;\n\tbyNewLevel : BYTE;\nEND_VAR\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\nIF (__ISVALIDREF(refLamp)) THEN\n\tTHIS^.refLamp REF= refLamp;\nELSE\n\tTHIS^.refLamp REF= 0;\nEND_IF\nTHIS^.byNewLevel := byNewLevel;", "title": "Command1-FUN\\FB_LampSetLevelCommand_FB_init.st"}, {"text": "METHOD PUBLIC Start\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := true;", "title": "Command1-FUN\\FB_CDPlayer_Start.st"}, {"text": "METHOD PUBLIC SetVolume : BOOL\nVAR_INPUT\n\tbyNewVolume \t\t: BYTE;\nEND_VAR\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbyVolume := byNewVolume;", "title": "Command1-FUN\\FB_CDPlayer_setVolume.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(THIS^.refLamp)) THEN\n\tTHIS^.refLamp.SetLevel(THIS^.byNewLevel);\nEND_IF", "title": "Command1-FUN\\FB_LampSetLevelCommand_Execute.st"}, {"text": "METHOD PUBLIC SetTrack : BOOL\nVAR_INPUT\n\tbyNewTrack\t\t\t: UINT;\nEND_VAR\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\n\nbyTrack := byNewTrack;", "title": "Command1-FUN\\FB_CDPlayer_setTrack.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOnCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}], "task_id": "FB_Lamp"}
{"requirement": "This code is intended to implement a command for setting the brightness level of a lamp.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "METHOD Execute\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n\n\nIF (__ISVALIDREF(THIS^.refLamp)) THEN\n\tTHIS^.refLamp.SetLevel(THIS^.byNewLevel);\nEND_IF", "title": "Command1-FUN\\FB_LampSetLevelCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "METHOD PUBLIC SetLevel : BOOL\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\nVAR_INPUT\n\tbyNewLevel\t\t\t: BYTE;\nEND_VAR\nbyLevel := byNewLevel;", "title": "Command1-FUN\\FB_Lamp_SetLevel.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefLamp : REFERENCE TO FB_Lamp;\n\tbyNewLevel : BYTE;\nEND_VAR\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\nIF (__ISVALIDREF(refLamp)) THEN\n\tTHIS^.refLamp REF= refLamp;\nELSE\n\tTHIS^.refLamp REF= 0;\nEND_IF\nTHIS^.byNewLevel := byNewLevel;", "title": "Command1-FUN\\FB_LampSetLevelCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\nEND_IF", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOnCommand_Execute.st"}], "task_id": "FB_LampSetLevelCommand"}
{"requirement": "This code is intended to implement a music play command functionality for a CD player.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.Stop();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicStopCommand_Execute.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.SetVolume(40);\n\tTHIS^.refCDPlayer.SetTrack(1);\n\tTHIS^.refCDPlayer.Start();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicPlayCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\n\n\nIF (__ISVALIDREF(refCDPlayer)) THEN\n\tTHIS^.refCDPlayer REF= refCDPlayer;\nELSE\n\tTHIS^.refCDPlayer REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_MusicPlayCommand_FB_init.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(refCDPlayer)) THEN\n\tTHIS^.refCDPlayer REF= refCDPlayer;\nELSE\n\tTHIS^.refCDPlayer REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_MusicStopCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n", "title": "Command1-PRG\\MAIN.st"}], "task_id": "FB_MusicPlayCommand"}
{"requirement": "This code is intended to implement a command to stop music playback on a CD player.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.Stop();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicStopCommand_Execute.st"}, {"text": "METHOD Execute\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(THIS^.refCDPlayer)) THEN\n\tTHIS^.refCDPlayer.SetVolume(40);\n\tTHIS^.refCDPlayer.SetTrack(1);\n\tTHIS^.refCDPlayer.Start();\nEND_IF\n", "title": "Command1-FUN\\FB_MusicPlayCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\nIF (__ISVALIDREF(refCDPlayer)) THEN\n\tTHIS^.refCDPlayer REF= refCDPlayer;\nELSE\n\tTHIS^.refCDPlayer REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_MusicStopCommand_FB_init.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n\n\n\nIF (__ISVALIDREF(refCDPlayer)) THEN\n\tTHIS^.refCDPlayer REF= refCDPlayer;\nELSE\n\tTHIS^.refCDPlayer REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_MusicPlayCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\nEND_IF", "title": "Command1-PRG\\MAIN.st"}], "task_id": "FB_MusicStopCommand"}
{"requirement": "This code is intended to implement a function block for managing a socket with an output indicating its active status.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "METHOD PUBLIC On\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := true;", "title": "Command1-FUN\\FB_Socket_On.st"}, {"text": "METHOD PUBLIC Off\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := false;", "title": "Command1-FUN\\FB_Socket_Off.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_Execute.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOnCommand_Execute.st"}, {"text": "METHOD PUBLIC SetLevel : BOOL\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\nVAR_INPUT\n\tbyNewLevel\t\t\t: BYTE;\nEND_VAR\nbyLevel := byNewLevel;", "title": "Command1-FUN\\FB_Lamp_SetLevel.st"}, {"text": "METHOD PUBLIC Stop\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := FALSE;", "title": "Command1-FUN\\FB_CDPlayer_Stop.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_SocketOnCommand_FB_init.st"}, {"text": "METHOD PUBLIC Start\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n\nbPlayerActive := true;", "title": "Command1-FUN\\FB_CDPlayer_Start.st"}, {"text": "METHOD PUBLIC Activate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := TRUE;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Activate.st"}, {"text": "METHOD PUBLIC Deactivate\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n\nbActive := false;\n\n", "title": "Command1-FUN\\FB_AirConditioning_Deactivate.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}], "task_id": "FB_Socket"}
{"requirement": "This code is intended to implement a command for turning off a socket using the I_Command interface.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "METHOD PUBLIC Off\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := false;", "title": "Command1-FUN\\FB_Socket_Off.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "METHOD PUBLIC On\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := true;", "title": "Command1-FUN\\FB_Socket_On.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOnCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\nEND_IF", "title": "Command1-PRG\\MAIN.st"}], "task_id": "FB_SocketOffCommand"}
{"requirement": "This code is intended to implement a command interface for controlling a socket functionality.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOnCommand_Execute.st"}, {"text": "METHOD PUBLIC On\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := true;", "title": "Command1-FUN\\FB_Socket_On.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConStandbyCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicPlayCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicPlayCommand.st"}, {"text": "METHOD PUBLIC Off\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := false;", "title": "Command1-FUN\\FB_Socket_Off.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConComfortCommand IMPLEMENTS I_Command\nVAR\n\trefAirConditioning : REFERENCE TO FB_AirConditioning;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConComfortCommand.st"}, {"text": "METHOD Execute\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nIF (__ISVALIDREF(THIS^.refSocket)) THEN\n\tTHIS^.refSocket.On();\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_Execute.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_MusicStopCommand IMPLEMENTS I_Command\nVAR\n\trefCDPlayer : REFERENCE TO FB_CDPlayer;\nEND_VAR\n", "title": "Command1-FUN\\FB_MusicStopCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_SocketOnCommand_FB_init.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\n", "title": "Command1-PRG\\MAIN.st"}], "task_id": "FB_SocketOnCommand"}
{"requirement": "This code is intended to implement a control mechanism that triggers the execution of commands associated with switches when their state changes to active.", "provide_code": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK PUBLIC FB_SwitchPanel\nVAR_INPUT\n\tarrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\nFOR nIndex := 1 TO 8 DO\n\tarrRtrig[nIndex](CLK := arrSwitch[nIndex]);\n\tIF arrRtrig[nIndex].Q THEN\n\t\tIF (aiCommand[nIndex] <> 0) THEN\n\t\t\taiCommand[nIndex].Execute();\n\t\tEND_IF\n\tEND_IF\nEND_FOR\n", "title": "Command1-FUN\\FB_SwitchPanel.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n    arrSwitch\t\t: ARRAY[1..8] OF BOOL;\nEND_VAR\nVAR\n\tnIndex : INT;\n    aiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\n\n\nFOR nIndex := 1 TO 8 DO\n\taiCommand[nIndex] := 0;\nEND_FOR\n\n\n", "title": "Command1-FUN\\FB_SwitchPanel_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Socket\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n", "title": "Command1-FUN\\FB_Socket.st"}, {"text": "METHOD PUBLIC SetCommand : BOOL\nVAR_INPUT\n\tnPosition\t\t: INT;\n\tiCommand\t\t: I_Command;\n    arrSwitch\t\t: ARRAY[1..8] OF BOOL;\n\nEND_VAR\nVAR\n\taiCommand\t\t: ARRAY[1..8] OF I_Command;\t\n\tarrRtrig\t\t: ARRAY[1..8] OF R_TRIG;\n\tnIndex\t\t\t: INT;\nEND_VAR\n\n\n\nIF ((nPosition >= 1) AND (nPosition <= 8) AND (iCommand <> 0)) THEN\n\tTHIS^.aiCommand[nPosition] := iCommand;\nEND_IF\n", "title": "Command1-FUN\\FB_SwitchPanel_SetCommand.st"}, {"text": "METHOD PUBLIC On\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := true;", "title": "Command1-FUN\\FB_Socket_On.st"}, {"text": "METHOD PUBLIC Off\nVAR_OUTPUT\n\tbActive\t\t: BOOL;\nEND_VAR\n\nbActive := false;", "title": "Command1-FUN\\FB_Socket_Off.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_Lamp\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\n", "title": "Command1-FUN\\FB_Lamp.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_CDPlayer\nVAR_OUTPUT\n\tbPlayerActive\t\t: BOOL;\n\tbyVolume\t\t\t: BYTE;\n\tbyTrack\t\t\t\t: UINT;\nEND_VAR\n", "title": "Command1-FUN\\FB_CDPlayer.st"}, {"text": "METHOD PUBLIC SetLevel : BOOL\nVAR_OUTPUT\n\tbyLevel\t\t\t: BYTE;\nEND_VAR\nVAR_INPUT\n\tbyNewLevel\t\t\t: BYTE;\nEND_VAR\nbyLevel := byNewLevel;", "title": "Command1-FUN\\FB_Lamp_SetLevel.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF", "title": "Command1-FUN\\FB_SocketOnCommand_FB_init.st"}, {"text": "METHOD FB_init : BOOL\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefLamp : REFERENCE TO FB_Lamp;\n\tbyNewLevel : BYTE;\nEND_VAR\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\nIF (__ISVALIDREF(refLamp)) THEN\n\tTHIS^.refLamp REF= refLamp;\nELSE\n\tTHIS^.refLamp REF= 0;\nEND_IF\nTHIS^.byNewLevel := byNewLevel;", "title": "Command1-FUN\\FB_LampSetLevelCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOffCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOffCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_SocketOnCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\n", "title": "Command1-FUN\\FB_SocketOnCommand.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConStandbyCommand IMPLEMENTS I_Command\nVAR\n\trefSocket : REFERENCE TO FB_Socket;\nEND_VAR\nVAR_INPUT\n\tbInitRetains : BOOL; // if TRUE, the retain variables are initialized (warm start / cold start)\n\tbInCopyCode : BOOL;  // if TRUE, the instance afterwards gets moved into the copy code (online change)\n\trefNewSocket : REFERENCE TO FB_Socket;\nEND_VAR\n\nIF (__ISVALIDREF(refNewSocket)) THEN\n\tTHIS^.refSocket REF= refNewSocket;\nELSE\n\tTHIS^.refSocket REF= 0;\nEND_IF\n", "title": "Command1-FUN\\FB_SocketOffCommand_FB_init.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_AirConditioning\nVAR_OUTPUT\n\tbActive\t\t\t: BOOL;\n\tlrTemperature\t: LREAL;\nEND_VAR\n", "title": "Command1-FUN\\FB_AirConditioning.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n\tfbSwitchPanel.SetCommand(7, fbMusicPlayCommand);\n\tfbSwitchPanel.SetCommand(8, fbMusicStopCommand);\n\tbInit := FALSE;\nELSE\n\tfbSwitchPanel();\t\nEND_IF", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n\tfbSwitchPanel.SetCommand(2, fbSocketOffCommand);\n\tfbSwitchPanel.SetCommand(3, fbLampSetLevel100Command);\n\tfbSwitchPanel.SetCommand(4, fbLampSetLevel0Command);\n\tfbSwitchPanel.SetCommand(5, fbAirConComfortCommand);\n\tfbSwitchPanel.SetCommand(6, fbAirConStandbyCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "PROGRAM MAIN\nVAR\n\t// Invoker\n\tfbSwitchPanel\t\t\t\t: FB_SwitchPanel;\n\t\n\t// Receiver\n\tfbSocket\t\t\t\t\t: FB_Socket;\n\trefSocket\t\t\t\t\t: REFERENCE TO FB_Socket := fbSocket;\t\n\tfbLamp\t\t\t\t\t\t: FB_Lamp;\n\trefLamp\t\t\t\t\t\t: REFERENCE TO FB_Lamp := fbLamp;\t\n\tfbAirConditioning\t\t\t: FB_AirConditioning;\n\trefAirConditioning\t\t\t: REFERENCE TO FB_AirConditioning := fbAirConditioning;\n\tfbCDPlayer\t\t\t\t\t: FB_CDPlayer;\n\trefCDPlayer\t\t\t\t\t: REFERENCE TO FB_CDPlayer := fbCDPlayer;\n\n\t// Commands\n\tfbSocketOnCommand\t\t\t: FB_SocketOnCommand(refSocket);\n\tfbSocketOffCommand\t\t\t: FB_SocketOffCommand(refSocket);\n\tfbLampSetLevel100Command\t: FB_LampSetLevelCommand(refLamp, 100);\n\tfbLampSetLevel0Command\t\t: FB_LampSetLevelCommand(refLamp, 0);\n\tfbAirConComfortCommand\t\t: FB_AirConComfortCommand(refAirConditioning);\n\tfbAirConStandbyCommand\t\t: FB_AirConStandbyCommand(refAirConditioning);\t\n\tfbMusicPlayCommand\t\t\t: FB_MusicPlayCommand(refCDPlayer);\n\tfbMusicStopCommand\t\t\t: FB_MusicStopCommand(refCDPlayer);\n\t\n\tbInit\t\t\t\t\t\t: BOOL := TRUE;\nEND_VAR\n\nIF (bInit) THEN\n\tfbSwitchPanel.SetCommand(1, fbSocketOnCommand);\n", "title": "Command1-PRG\\MAIN.st"}, {"text": "FUNCTION_BLOCK PUBLIC FB_LampSetLevelCommand IMPLEMENTS I_Command\nVAR\n\trefLamp\t\t: REFERENCE TO FB_Lamp;\n\tbyNewLevel\t: BYTE;\nEND_VAR\n\n", "title": "Command1-FUN\\FB_LampSetLevelCommand.st"}], "task_id": "FB_SwitchPanel"}
