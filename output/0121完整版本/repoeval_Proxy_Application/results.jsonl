{"requirement": "This code is intended to implement a proxy pattern for protecting access to a subject using a password validation mechanism.", "provide_code": "{attribute 'enable_dynamic_creation'}\nFUNCTION_BLOCK Proxy IMPLEMENTS  Subject_Interface\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "docs": [{"text": "{attribute 'enable_dynamic_creation'}\nFUNCTION_BLOCK Realsubject IMPLEMENTS  Subject_Interface\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Variable to get and set values\n\tiProp: INT;\nEND_VAR\n", "title": "Proxy_Application-FUN\\Realsubject.st"}, {"text": "{attribute 'enable_dynamic_creation'}\nFUNCTION_BLOCK Proxy IMPLEMENTS  Subject_Interface\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR", "title": "Proxy_Application-FUN\\Proxy.st"}, {"text": "METHOD Get_Method : int\nVAR_INPUT\nEND_VAR\n", "title": "Proxy_Application-FUN\\Subject_Interface_Get_Method.st"}, {"text": "METHOD Set_Method \nVAR_INPUT\n\t//Value to be set passed as an argument\n\tnum : INT;\nEND_VAR\n", "title": "Proxy_Application-FUN\\Subject_Interface_Set_Method.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD PUBLIC Get_Method : INT\nVAR\n\t//Variable to get and set values\n\tiProp: INT;\nEND_VAR\nGet_Method := THIS^.iProp; ", "title": "Proxy_Application-FUN\\Realsubject_Get_Method.st"}, {"text": "INTERFACE Subject_Interface\n", "title": "Proxy_Application-FUN\\Subject_Interface.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempSetLog := 'Request \"SET\" accepted';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n\t\t//The Proxy passes the request to the subject\n\t\tPLC_PRG.iGetValueLocal:= THIS^.Get_Method();\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempGetLog := 'Request \"GET\" accepted';\n\tEND_IF\n\t\n\t//If the password sent by the client is incorrect\n\tELSE \n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempSetLog := 'Request \"SET\" accepted';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n\t\t//The Proxy passes the request to the subject\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "\nMETHOD Set_Method\nVAR_INPUT\n\t//Value to be set to the subject passed as an input argument\n\tnum\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\nTHIS^.refToRealSubject^.Set_Method(num);\n", "title": "Proxy_Application-FUN\\Proxy_Set_Method.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempSetLog := 'Request \"SET\" accepted';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n\t\t//The Proxy passes the request to the subject\n\t\tPLC_PRG.iGetValueLocal:= THIS^.Get_Method();\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempGetLog := 'Request \"GET\" accepted';\n\tEND_IF\n\t\n\t//If the password sent by the client is incorrect\n\tELSE \n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy handles the bad request and response to the client without the subject intervention\n\t\tPLC_PRG.sTempSetLog := 'Request denied. Wrong password.';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempSetLog := 'Request \"SET\" accepted';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n\t\t//The Proxy passes the request to the subject\n\t\tPLC_PRG.iGetValueLocal:= THIS^.Get_Method();\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempGetLog := 'Request \"GET\" accepted';\n\tEND_IF\n\t\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD Set_Method \nVAR_INPUT\n\t//Value to be set on the iProp varible of realSubjectInstance\n\tnum : INT;\n    \t//Variable to get and set values\n\tiProp: INT;\nEND_VAR\n\n//Stores the value of the caller object on iProp variable. \n\nTHIS^.iProp := num;", "title": "Proxy_Application-FUN\\Realsubject_Set_Method.st"}, {"text": "\t\n\t//Pointer needed to create the Connection bridge \"Proxy\" between the client and the subject \n\tptrProxy : POINTER TO Proxy;\n\t\n\t//Variable to store the password set by the client to perform the connection\n\tiTempPasswordLocal : INT;\n\t\n\t//Variable to store the INT passed by the client to be SET on the subject\n\tiSetValueLocal : INT;\n\n\t//Boolean value to that gets toggled when the client send a SET request.\n\t//It is toggled again after the Proxy's response\n\tbWriteRequest : BOOL;\n\t\n\t//Boolean value to that gets toggled when the client send a GET request.\n\t//It is toggled again after the Proxy's response\n\tbReadRequest : BOOL;\n\t\n\t//Variable to store locally if the request was a Write or Read request.\n\t//TRUE for a Write request and FALSE for a Read request\n\tbReadWriteLocal : BOOL;\n\t\nEND_VAR\nVAR_INPUT\n\t//Variable to store the response log from the Proxy on a SET request\n\tsTempSetLog : STRING := 'Waiting for a request';\n\t//Variable to store the response log from the Proxy on a GET request\n\tsTempGetLog : STRING := 'Waiting for a request';\n\t\n\t//Variable to store the LAST GET response value locally\n\tiGetValueLocal : INT;\nEND_VAR\n\n//The Visualization element can send a GET/SET request with all its parameters.\n//Once the request is received by the PLC_PRG, the PLC_PRG creates the Proxy object to delegate the request and subject's connection to it.\n//The default password value for the request is: 1234. It is specified in the static field .iRealPassword of the Proxy class\n\n//If a WRITE or SET request is received\nIF\tbWriteRequest\n\tTHEN\n\t//We specify TRUE bReadWriteLocal because it is a SET request\n\tbReadWriteLocal := TRUE;\n\t//First we verify if the pointer to RealSubject to be used is a valid pointer\n\tIF ptrLocalSubject <> ptrNullRealSubject\n\t\t//If so, \n\t\tTHEN\n\t\t//The Proxy object is created with all its parameters passed by the PLC_PRG local variables.\n\t\t//As there is no \"Method Overloading\" options is CODESYS (Or at least the constructor cannot be overloaded) the constructor must receive and handle all the possible scenarios\n\t\t// .ptrToRealSubject is a Pointer to the RealSubject instance that we try to conncect to\n\t\t// .iTempPassword is the password passed by the client in the visualization element\n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}, {"text": "\t//Pointer to the local subject. Needed to instantiate its own Proxy. \n\tptrLocalSubject : POINTER TO Realsubject := ADR(localSubjectInstance);\n\t\n\t//Null pointer to the RealSubject class to verify that the other pointers are valid pointers and not null\n\tptrNullRealSubject : POINTER TO Realsubject;\n\t\n\t//Pointer needed to create the Connection bridge \"Proxy\" between the client and the subject \n\tptrProxy : POINTER TO Proxy;\n\t\n\t//Variable to store the password set by the client to perform the connection\n\tiTempPasswordLocal : INT;\n\t\n\t//Variable to store the INT passed by the client to be SET on the subject\n\tiSetValueLocal : INT;\n\n\t//Boolean value to that gets toggled when the client send a SET request.\n\t//It is toggled again after the Proxy's response\n\tbWriteRequest : BOOL;\n\t\n\t//Boolean value to that gets toggled when the client send a GET request.\n\t//It is toggled again after the Proxy's response\n\tbReadRequest : BOOL;\n\t\n\t//Variable to store locally if the request was a Write or Read request.\n\t//TRUE for a Write request and FALSE for a Read request\n\tbReadWriteLocal : BOOL;\n\t\nEND_VAR\nVAR_INPUT\n\t//Variable to store the response log from the Proxy on a SET request\n\tsTempSetLog : STRING := 'Waiting for a request';\n\t//Variable to store the response log from the Proxy on a GET request\n\tsTempGetLog : STRING := 'Waiting for a request';\n\t\n\t//Variable to store the LAST GET response value locally\n\tiGetValueLocal : INT;\nEND_VAR\n\n//The Visualization element can send a GET/SET request with all its parameters.\n//Once the request is received by the PLC_PRG, the PLC_PRG creates the Proxy object to delegate the request and subject's connection to it.\n//The default password value for the request is: 1234. It is specified in the static field .iRealPassword of the Proxy class\n\n//If a WRITE or SET request is received\nIF\tbWriteRequest\n\tTHEN\n\t//We specify TRUE bReadWriteLocal because it is a SET request\n\tbReadWriteLocal := TRUE;\n\t//First we verify if the pointer to RealSubject to be used is a valid pointer\n\tIF ptrLocalSubject <> ptrNullRealSubject\n\t\t//If so, \n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}, {"text": "\tbReadWriteLocal : BOOL;\n\t\nEND_VAR\nVAR_INPUT\n\t//Variable to store the response log from the Proxy on a SET request\n\tsTempSetLog : STRING := 'Waiting for a request';\n\t//Variable to store the response log from the Proxy on a GET request\n\tsTempGetLog : STRING := 'Waiting for a request';\n\t\n\t//Variable to store the LAST GET response value locally\n\tiGetValueLocal : INT;\nEND_VAR\n\n//The Visualization element can send a GET/SET request with all its parameters.\n//Once the request is received by the PLC_PRG, the PLC_PRG creates the Proxy object to delegate the request and subject's connection to it.\n//The default password value for the request is: 1234. It is specified in the static field .iRealPassword of the Proxy class\n\n//If a WRITE or SET request is received\nIF\tbWriteRequest\n\tTHEN\n\t//We specify TRUE bReadWriteLocal because it is a SET request\n\tbReadWriteLocal := TRUE;\n\t//First we verify if the pointer to RealSubject to be used is a valid pointer\n\tIF ptrLocalSubject <> ptrNullRealSubject\n\t\t//If so, \n\t\tTHEN\n\t\t//The Proxy object is created with all its parameters passed by the PLC_PRG local variables.\n\t\t//As there is no \"Method Overloading\" options is CODESYS (Or at least the constructor cannot be overloaded) the constructor must receive and handle all the possible scenarios\n\t\t// .ptrToRealSubject is a Pointer to the RealSubject instance that we try to conncect to\n\t\t// .iTempPassword is the password passed by the client in the visualization element\n\t\t// .iSetValue is the value passed by the client to be SET on the RealSubject. If the request is a GET request, this value has no effect on the output of the connection.\n\t\t// .bReadWrite is the boolean value that specifies if the request is a SET or GET request\n\t\tptrProxy := __NEW( Proxy( ptrToRealSubject := ptrLocalSubject, iTempPassword :=  iTempPasswordLocal, iSetValue := iSetValueLocal, bReadWrite := bReadWriteLocal));\n\t\t//Once the Proxy has made the response, the memory is released by deleting the Proxy object\n\t\t__DELETE(ptrProxy);\n\tEND_IF\n\t\n\t//We delete the local value of last password for security reasons. This way for every request the client must input a password\n\tiTempPasswordLocal := 0;\n\t//Once the WRITE request has been handled, we toggle the variable to avoid double requests\n\tbWriteRequest := FALSE;\nEND_IF\n\n//If a READ or GET request is received\nIF\tbReadRequest\n\tTHEN\n\t//We specify FALSE bReadWriteLocal because it is a GET request\n\tbReadWriteLocal := FALSE;\n\t//First we verify if the pointer to RealSubject to be used is a valid pointer\n\tIF ptrLocalSubject <> ptrNullRealSubject\n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}], "task_id": "Proxy"}
{"requirement": "This code is intended to implement a function block named \"Realsubject\" that adheres to the \"Subject_Interface\" and includes a dynamically creatable integer property for getting and setting values.", "provide_code": "{attribute 'enable_dynamic_creation'}\nFUNCTION_BLOCK Realsubject IMPLEMENTS  Subject_Interface\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "docs": [{"text": "{attribute 'enable_dynamic_creation'}\nFUNCTION_BLOCK Realsubject IMPLEMENTS  Subject_Interface\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Variable to get and set values\n\tiProp: INT;\nEND_VAR\n", "title": "Proxy_Application-FUN\\Realsubject.st"}, {"text": "{attribute 'enable_dynamic_creation'}\nFUNCTION_BLOCK Proxy IMPLEMENTS  Subject_Interface\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR", "title": "Proxy_Application-FUN\\Proxy.st"}, {"text": "METHOD Set_Method \nVAR_INPUT\n\t//Value to be set on the iProp varible of realSubjectInstance\n\tnum : INT;\n    \t//Variable to get and set values\n\tiProp: INT;\nEND_VAR\n\n//Stores the value of the caller object on iProp variable. \n\nTHIS^.iProp := num;", "title": "Proxy_Application-FUN\\Realsubject_Set_Method.st"}, {"text": "METHOD PUBLIC Get_Method : INT\nVAR\n\t//Variable to get and set values\n\tiProp: INT;\nEND_VAR\nGet_Method := THIS^.iProp; ", "title": "Proxy_Application-FUN\\Realsubject_Get_Method.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD Get_Method : int\nVAR_INPUT\nEND_VAR\n", "title": "Proxy_Application-FUN\\Subject_Interface_Get_Method.st"}, {"text": "\nMETHOD Set_Method\nVAR_INPUT\n\t//Value to be set to the subject passed as an input argument\n\tnum\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\nTHIS^.refToRealSubject^.Set_Method(num);\n", "title": "Proxy_Application-FUN\\Proxy_Set_Method.st"}, {"text": "\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempSetLog := 'Request \"SET\" accepted';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n\t\t//The Proxy passes the request to the subject\n\t\tPLC_PRG.iGetValueLocal:= THIS^.Get_Method();\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempGetLog := 'Request \"GET\" accepted';\n\tEND_IF\n\t\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "PROGRAM PLC_PRG\nVAR\n\t//Instance of Realsubject but this one is Local to prove on a local and a global object\n\tlocalSubjectInstance : Realsubject;\n\t\n\t//Pointer to the local subject. Needed to instantiate its own Proxy. \n\tptrLocalSubject : POINTER TO Realsubject := ADR(localSubjectInstance);\n\t\n\t//Null pointer to the RealSubject class to verify that the other pointers are valid pointers and not null\n\tptrNullRealSubject : POINTER TO Realsubject;\n\t\n\t//Pointer needed to create the Connection bridge \"Proxy\" between the client and the subject \n\tptrProxy : POINTER TO Proxy;\n\t\n\t//Variable to store the password set by the client to perform the connection\n\tiTempPasswordLocal : INT;\n\t\n\t//Variable to store the INT passed by the client to be SET on the subject\n\tiSetValueLocal : INT;\n\n\t//Boolean value to that gets toggled when the client send a SET request.\n\t//It is toggled again after the Proxy's response\n\tbWriteRequest : BOOL;\n\t\n\t//Boolean value to that gets toggled when the client send a GET request.\n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}, {"text": "PROGRAM PLC_PRG\nVAR\n\t//Instance of Realsubject but this one is Local to prove on a local and a global object\n\tlocalSubjectInstance : Realsubject;\n\t\n\t//Pointer to the local subject. Needed to instantiate its own Proxy. \n\tptrLocalSubject : POINTER TO Realsubject := ADR(localSubjectInstance);\n\t\n\t//Null pointer to the RealSubject class to verify that the other pointers are valid pointers and not null\n\tptrNullRealSubject : POINTER TO Realsubject;\n\t\n\t//Pointer needed to create the Connection bridge \"Proxy\" between the client and the subject \n\tptrProxy : POINTER TO Proxy;\n\t\n\t//Variable to store the password set by the client to perform the connection\n\tiTempPasswordLocal : INT;\n\t\n\t//Variable to store the INT passed by the client to be SET on the subject\n\tiSetValueLocal : INT;\n\n\t//Boolean value to that gets toggled when the client send a SET request.\n\t//It is toggled again after the Proxy's response\n\tbWriteRequest : BOOL;\n\t\n\t//Boolean value to that gets toggled when the client send a GET request.\n\t//It is toggled again after the Proxy's response\n\tbReadRequest : BOOL;\n\t\n\t//Variable to store locally if the request was a Write or Read request.\n\t//TRUE for a Write request and FALSE for a Read request\n\tbReadWriteLocal : BOOL;\n\t\nEND_VAR\nVAR_INPUT\n\t//Variable to store the response log from the Proxy on a SET request\n\tsTempSetLog : STRING := 'Waiting for a request';\n\t//Variable to store the response log from the Proxy on a GET request\n\tsTempGetLog : STRING := 'Waiting for a request';\n\t\n\t//Variable to store the LAST GET response value locally\n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}, {"text": "METHOD Set_Method \nVAR_INPUT\n\t//Value to be set passed as an argument\n\tnum : INT;\nEND_VAR\n", "title": "Proxy_Application-FUN\\Subject_Interface_Set_Method.st"}, {"text": "PROGRAM PLC_PRG\nVAR\n\t//Instance of Realsubject but this one is Local to prove on a local and a global object\n\tlocalSubjectInstance : Realsubject;\n\t\n\t//Pointer to the local subject. Needed to instantiate its own Proxy. \n\tptrLocalSubject : POINTER TO Realsubject := ADR(localSubjectInstance);\n\t\n\t//Null pointer to the RealSubject class to verify that the other pointers are valid pointers and not null\n\tptrNullRealSubject : POINTER TO Realsubject;\n\t\n\t//Pointer needed to create the Connection bridge \"Proxy\" between the client and the subject \n\tptrProxy : POINTER TO Proxy;\n\t\n\t//Variable to store the password set by the client to perform the connection\n\tiTempPasswordLocal : INT;\n\t\n\t//Variable to store the INT passed by the client to be SET on the subject\n\tiSetValueLocal : INT;\n\n\t//Boolean value to that gets toggled when the client send a SET request.\n\t//It is toggled again after the Proxy's response\n\tbWriteRequest : BOOL;\n\t\n\t//Boolean value to that gets toggled when the client send a GET request.\n\t//It is toggled again after the Proxy's response\n\tbReadRequest : BOOL;\n\t\n\t//Variable to store locally if the request was a Write or Read request.\n\t//TRUE for a Write request and FALSE for a Read request\n\tbReadWriteLocal : BOOL;\n\t\nEND_VAR\nVAR_INPUT\n\t//Variable to store the response log from the Proxy on a SET request\n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}, {"text": "PROGRAM PLC_PRG\nVAR\n\t//Instance of Realsubject but this one is Local to prove on a local and a global object\n\tlocalSubjectInstance : Realsubject;\n\t\n\t//Pointer to the local subject. Needed to instantiate its own Proxy. \n\tptrLocalSubject : POINTER TO Realsubject := ADR(localSubjectInstance);\n\t\n\t//Null pointer to the RealSubject class to verify that the other pointers are valid pointers and not null\n\tptrNullRealSubject : POINTER TO Realsubject;\n\t\n\t//Pointer needed to create the Connection bridge \"Proxy\" between the client and the subject \n\tptrProxy : POINTER TO Proxy;\n\t\n\t//Variable to store the password set by the client to perform the connection\n\tiTempPasswordLocal : INT;\n\t\n\t//Variable to store the INT passed by the client to be SET on the subject\n\tiSetValueLocal : INT;\n\n\t//Boolean value to that gets toggled when the client send a SET request.\n\t//It is toggled again after the Proxy's response\n\tbWriteRequest : BOOL;\n\t\n\t//Boolean value to that gets toggled when the client send a GET request.\n\t//It is toggled again after the Proxy's response\n\tbReadRequest : BOOL;\n\t\n\t//Variable to store locally if the request was a Write or Read request.\n\t//TRUE for a Write request and FALSE for a Read request\n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}, {"text": "\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempSetLog := 'Request \"SET\" accepted';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n\t\t//The Proxy passes the request to the subject\n\t\tPLC_PRG.iGetValueLocal:= THIS^.Get_Method();\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempGetLog := 'Request \"GET\" accepted';\n\tEND_IF\n\t\n\t//If the password sent by the client is incorrect\n\tELSE \n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy handles the bad request and response to the client without the subject intervention\n\t\tPLC_PRG.sTempSetLog := 'Request denied. Wrong password.';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "{attribute 'qualified_only'}\nVAR_GLOBAL CONSTANT\n\t//Constant variable to determine the size of the observerList array.\n\t//This variable is the MAXIMUM number of observer objects that can be subscribed to the subject\n\tC_MAX_OBSERVER_NUM : INT := 10;\n\t//Pointer to a null Observer_Interface object.\n\t//This pointer is used to validate the addresses to be used. These addresses must to be <> than this null pointer to have effect in the code\n\tnullPointerToObserver : Observer_Interface;\nEND_VAR", "title": "Proxy_Application-global\\Observer_Config.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "METHOD fb_init\nVAR_INPUT\n\t//These boolean values are required for an automatic constructor\n\tbInitRetains : BOOL; // TRUE: the Retain-variables are initialized (reset warm / reset cold)\n\tbInCopyCode : BOOL;  // TRUE  the instance will be copied to the copy-code afterward (online change)\n\t\n\t//Pointer to the RealSubject instance \n\tptrToRealSubject : POINTER TO Realsubject;\n\t//Local variable to store the password passed by the client with the password of the Proxy\n\tiTempPassword : INT;\n\t//Local variable to be used in WRITE request, it is the value to be set if the request is accepted\n\tiSetValue : INT;\n\t//Boolean value that specifies if the request is a WRITE or READ request\n\tbReadWrite : BOOL;\nEND_VAR\n\nVAR_OUTPUT\nEND_VAR\nVAR\n\t//Pointer to store the reference to the subject being protected\n\trefToRealSubject : POINTER TO Realsubject;\n\t//Last value of password entered by the client in the visualization element\n\tiTempPassword : INT;\nEND_VAR\nVAR_STAT\n\t//Default password value for the request to be accepted\n\tiRealPassword : INT := 1234;\nEND_VAR\n\n\n//Stores the address of the subject on a field in th Proxy.\nTHIS^.refToRealSubject := ptrToRealSubject;\n//Stores the password value of the client on a field in the Proxy\nTHIS^.iTempPassword := iTempPassword;\n\n//For security reasons, the Password passed by the client and the Proxi's connection password are compared\nIF\tTHIS^.iTempPassword = THIS^.iRealPassword \n\t//If the password sent by the client is correct,\n\tTHEN\n\t//We verify is the request is a SET or GET request\n\tIF bReadWrite\n\t\t//If the request is a SET request: boolean value TRUE\n\t\tTHEN\n\t\t//The Proxy passes the request to the subject\n\t\tTHIS^.Set_Method(iSetValue);\n\t\t//Once the request is completed, the Proxy responds to the client that the request has been accepted\n\t\tPLC_PRG.sTempSetLog := 'Request \"SET\" accepted';\n\t\t//If the request is a GET request: boolean value FALSE\n\t\tELSE\n\t\t//The Proxy passes the request to the subject\n", "title": "Proxy_Application-FUN\\Proxy_fb_init.st"}, {"text": "PROGRAM PLC_PRG\nVAR\n\t//Instance of Realsubject but this one is Local to prove on a local and a global object\n\tlocalSubjectInstance : Realsubject;\n\t\n\t//Pointer to the local subject. Needed to instantiate its own Proxy. \n\tptrLocalSubject : POINTER TO Realsubject := ADR(localSubjectInstance);\n\t\n\t//Null pointer to the RealSubject class to verify that the other pointers are valid pointers and not null\n\tptrNullRealSubject : POINTER TO Realsubject;\n\t\n\t//Pointer needed to create the Connection bridge \"Proxy\" between the client and the subject \n\tptrProxy : POINTER TO Proxy;\n\t\n\t//Variable to store the password set by the client to perform the connection\n\tiTempPasswordLocal : INT;\n\t\n\t//Variable to store the INT passed by the client to be SET on the subject\n\tiSetValueLocal : INT;\n\n\t//Boolean value to that gets toggled when the client send a SET request.\n\t//It is toggled again after the Proxy's response\n\tbWriteRequest : BOOL;\n\t\n\t//Boolean value to that gets toggled when the client send a GET request.\n\t//It is toggled again after the Proxy's response\n\tbReadRequest : BOOL;\n\t\n\t//Variable to store locally if the request was a Write or Read request.\n\t//TRUE for a Write request and FALSE for a Read request\n\tbReadWriteLocal : BOOL;\n\t\nEND_VAR\nVAR_INPUT\n\t//Variable to store the response log from the Proxy on a SET request\n\tsTempSetLog : STRING := 'Waiting for a request';\n\t//Variable to store the response log from the Proxy on a GET request\n\tsTempGetLog : STRING := 'Waiting for a request';\n\t\n\t//Variable to store the LAST GET response value locally\n\tiGetValueLocal : INT;\nEND_VAR\n\n//The Visualization element can send a GET/SET request with all its parameters.\n//Once the request is received by the PLC_PRG, the PLC_PRG creates the Proxy object to delegate the request and subject's connection to it.\n", "title": "Proxy_Application-PRG\\PLC_PRG.st"}], "task_id": "Realsubject"}
