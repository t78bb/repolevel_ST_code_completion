[["```\nVAR\nEND_VAR\n\nIF lH <> 0 THEN\n    lF := 9.8 * lM / (2 * COS(ATAN(lL / lH)));\nELSE\n    lF := 0;\nEND_IF\n```"], ["```\nVAR\n    lRadiusStart : LREAL;\n    lRadiusEnd : LREAL;\n    lResult : LREAL;\nEND_VAR\n\nlRadiusStart := SQRT(EXPT(lD, 2) + EXPT(lHold + lOffset, 2));\nlRadiusEnd := SQRT(EXPT(lD, 2) + EXPT(lHnew + lOffset, 2));\nlResult := ABS(lRadiusEnd - lRadiusStart) / SMC_PI + lTk;\n\nF_CalculateRadius := lResult;\nRETURN;\n```"], ["```\nVAR\n    lDeltaPos : LREAL; // Position change\nEND_VAR\n\n// Calculate position change\nlDeltaPos := lNewPos - lOldPos;\n\n// Check if the axis is moving (position change)\nIF lDeltaPos <> 0 THEN\n    IF bUnwinding THEN\n        // Unwinding: radius decreases, velocity needs to increase\n        // Formula: V_new = V_old + V_old * Tk / (R - Tk)\n        IF (lRadius - lTk) > 0.01 THEN // Avoid division by zero\n            F_CompensateVelocity := lCurrentVel + lCurrentVel * lTk / (lRadius - lTk);\n        ELSE\n            F_CompensateVelocity := lCurrentVel;\n        END_IF\n    ELSE\n        // Rewinding: radius increases, velocity needs to decrease\n        // Formula: V_new = V_old - V_old * Tk / (R + Tk)\n        IF (lRadius + lTk) > 0.01 THEN // Avoid division by zero\n            F_CompensateVelocity := lCurrentVel - lCurrentVel * lTk / (lRadius + lTk);\n        ELSE\n            F_CompensateVelocity := lCurrentVel;\n        END_IF\n    END_IF\nELSE\n    // Position unchanged, maintain current velocity\n    F_CompensateVelocity := lCurrentVel;\nEND_IF;\n\nRETURN;\n```"], ["```\nVAR\n    _fbMoveVel : MC_MoveVelocity;\n    _fbMoveAbs : MC_MoveAbsolute;\n    _fbHalt : MC_Halt;\n    _fbSetPos : MC_SetPosition;\n    _fbRtrig : R_TRIG;\n    _fbFtrig : F_TRIG;\n    _nBDirection : MC_DIRECTION;\n    _fTempPos : LREAL;\n    _nState : USINT;\n    _xPrevHome : BOOL;\nEND_VAR\n\nCASE _nState OF\n    0: // Idle state\n        _xBusy := FALSE;\n        _xDone := FALSE;\n        _xErr := FALSE;\n        _iErrId := 0;\n        IF _xHome THEN\n            _xBusy := TRUE;\n            _nState := 1;\n        END_IF;\n\n    1: // Start homing sequence\n        _fbMoveVel.Execute := TRUE;\n        _fbMoveVel.Axis := _Axis;\n        _fbMoveVel.Velocity := _fFastHomeVel;\n        _fbMoveVel.Acceleration := _fHomeAcc;\n        _fbMoveVel.Deceleration := _fHomeDec;\n        _fbMoveVel.Direction := _nDirection;\n\n        IF _fbMoveVel.Error THEN\n            _xErr := TRUE;\n            _iErrId := _fbMoveVel.ErrorID;\n            _fbMoveVel.Execute := FALSE;\n            _nState := 0;\n        ELSIF _xReferenceSwitch THEN\n            _fbMoveVel.Execute := FALSE;\n            _nState := 2;\n        END_IF;\n\n    2: // Slow homing\n        _fbMoveVel.Execute := TRUE;\n        _fbMoveVel.Axis := _Axis;\n        _fbMoveVel.Velocity := _fSlowHomeVel;\n        _fbMoveVel.Acceleration := _fHomeAcc;\n        _fbMoveVel.Deceleration := _fHomeDec;\n        _fbMoveVel.Direction := _nDirection;\n\n        IF _fbMoveVel.Error THEN\n            _xErr := TRUE;\n            _iErrId := _fbMoveVel.ErrorID;\n            _fbMoveVel.Execute := FALSE;\n            _nState := 0;\n        ELSIF _xIndexPulse THEN\n            _fbMoveVel.Execute := FALSE;\n            _nState := 3;\n        END_IF;\n\n    3: // Set position\n        _fbSetPos.Execute := TRUE;\n        _fbSetPos.Axis := _Axis;\n        _fbSetPos.Position := _fHomePos;\n\n        IF _fbSetPos.Error THEN\n            _xErr := TRUE;\n            _iErrId := _fbSetPos.ErrorID;\n            _fbSetPos.Execute := FALSE;\n            _nState := 0;\n        ELSIF _fbSetPos.Done THEN\n            _fbSetPos.Execute := FALSE;\n            _nState := 4;\n        END_IF;\n\n    4: // Homing complete\n        _xBusy := FALSE;\n        _xDone := TRUE;\n        _nState := 0;\n\nEND_CASE;\n\nIF _xAbort THEN\n    _fbMoveVel.Execute := FALSE;\n    _fbSetPos.Execute := FALSE;\n    _xBusy := FALSE;\n    _xDone := FALSE;\n    _xErr := FALSE;\n    _iErrId := 0;\n    _nState := 0;\nEND_IF;\n```"], ["```\nVAR\nEND_VAR\n\nCASE iStatus OF\n    2,3,4,5,6,7,8,9,10,221,222:\n        Y5 := FALSE;\n        Y6 := TRUE;\n        Y1 := TRUE;\n        Y2 := FALSE;\n        Y3 := FALSE;\n        Y4 := FALSE;\n    11,12:\n        Y5 := FALSE;\n        Y6 := TRUE;\n        Y1 := FALSE;\n        Y2 := TRUE;\n        Y3 := FALSE;\n        Y4 := FALSE;\n    13,14,15,16,17,18,19,20,21,22:\n        Y5 := TRUE;\n        Y6 := FALSE;\n        Y1 := FALSE;\n        Y2 := FALSE;\n        Y3 := TRUE;\n        Y4 := FALSE;\n    23,24:\n        Y5 := TRUE;\n        Y6 := FALSE;\n        Y1 := FALSE;\n        Y2 := FALSE;\n        Y3 := FALSE;\n        Y4 := TRUE;\n    ELSE\n        Y5 := FALSE;\n        Y6 := FALSE;\n        Y1 := FALSE;\n        Y2 := FALSE;\n        Y3 := FALSE;\n        Y4 := FALSE;\nEND_CASE;\n```"]]