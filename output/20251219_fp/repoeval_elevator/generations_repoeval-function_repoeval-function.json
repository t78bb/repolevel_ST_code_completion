[["```\nVAR\n\tfbDoorTimer\t\t\t:\tTON;\t\t// \u95e8\u64cd\u4f5c\u5b9a\u65f6\u5668\n\tbDoorOpening\t\t:\tBOOL;\t\t// \u95e8\u6b63\u5728\u6253\u5f00\n\tbDoorClosing\t\t:\tBOOL;\t\t// \u95e8\u6b63\u5728\u5173\u95ed\nEND_VAR\n\n// \u521d\u59cb\u5316\u8f93\u51fa\nbOpenDoor := FALSE;\nbCloseDoor := FALSE;\nbDoorOpen := FALSE;\nbDoorReady := FALSE;\n\n// \u5982\u679c\u5230\u8fbe\u76ee\u6807\u697c\u5c42\u4e14\u95e8\u672a\u6253\u5f00\uff0c\u5219\u5f00\u59cb\u5f00\u95e8\nIF bArrivedAtTarget AND NOT bDoorOpen THEN\n\tbOpenDoor := TRUE;\n\tbDoorOpening := TRUE;\n\tfbDoorTimer(IN := TRUE, PT := T#5S); // \u5f00\u95e8\u5ef6\u65f65\u79d2\n\tIF fbDoorTimer.Q THEN\n\t\tbDoorOpen := TRUE;\n\t\tbDoorOpening := FALSE;\n\t\tbOpenDoor := FALSE;\n\tEND_IF;\nEND_IF;\n\n// \u5982\u679c\u95e8\u5df2\u6253\u5f00\u4e14\u672a\u5173\u95ed\u4f20\u611f\u5668\u89e6\u53d1\uff0c\u5219\u51c6\u5907\u5173\u95e8\nIF bDoorOpen AND NOT bDoorClosed THEN\n\tbCloseDoor := TRUE;\n\tbDoorClosing := TRUE;\n\tfbDoorTimer(IN := TRUE, PT := T#5S); // \u5173\u95e8\u5ef6\u65f65\u79d2\n\tIF fbDoorTimer.Q THEN\n\t\tbDoorOpen := FALSE;\n\t\tbDoorClosing := FALSE;\n\t\tbCloseDoor := FALSE;\n\t\tbDoorReady := TRUE; // \u95e8\u5df2\u5173\u95ed\u4e14\u51c6\u5907\u597d\n\tEND_IF;\nEND_IF;\n\n// \u5982\u679c\u95e8\u5df2\u5173\u95ed\u4f20\u611f\u5668\u89e6\u53d1\uff0c\u5219\u95e8\u51c6\u5907\u597d\nIF bDoorClosed THEN\n\tbDoorReady := TRUE;\nEND_IF;\n```"], ["```\nVAR\n\tnTargetFloor\t\t:\tINT;\t\t\t\t// \u5f53\u524d\u76ee\u6807\u697c\u5c42\n\ti\t\t\t\t\t:\tINT;\t\t\t\t// \u5faa\u73af\u7d22\u5f15\n\tbTargetFound\t\t:\tBOOL;\t\t\t\t// \u662f\u5426\u627e\u5230\u76ee\u6807\u697c\u5c42\nEND_VAR\n\n// \u521d\u59cb\u5316\u8f93\u51fa\u4fe1\u53f7\nbMovingUp := FALSE;\nbMovingDown := FALSE;\nbArrivedAtTarget := FALSE;\n\n// \u68c0\u67e5\u662f\u5426\u6709\u76ee\u6807\u697c\u5c42\nbTargetFound := FALSE;\nFOR i := 0 TO 3 DO\n\tIF TargetFloors[i] THEN\n\t\tnTargetFloor := i;\n\t\tbTargetFound := TRUE;\n\t\tEXIT;\n\tEND_IF\nEND_FOR\n\n// \u5982\u679c\u6ca1\u6709\u76ee\u6807\u697c\u5c42\uff0c\u4fdd\u6301\u9759\u6b62\nIF NOT bTargetFound THEN\n\tRETURN;\nEND_IF\n\n// \u68c0\u67e5\u662f\u5426\u5230\u8fbe\u76ee\u6807\u697c\u5c42\nIF CurrentFloor = nTargetFloor THEN\n\tTargetFloors[nTargetFloor] := FALSE; // \u6e05\u9664\u76ee\u6807\u697c\u5c42\n\tbArrivedAtTarget := TRUE;\n\tRETURN;\nEND_IF\n\n// \u5982\u679c\u95e8\u51c6\u5907\u597d\uff0c\u79fb\u52a8\u7535\u68af\nIF bDoorReady THEN\n\tIF CurrentFloor < nTargetFloor THEN\n\t\tbMovingUp := TRUE;\n\tELSIF CurrentFloor > nTargetFloor THEN\n\t\tbMovingDown := TRUE;\n\tEND_IF\nEND_IF\n```"], ["```\nVAR\n\tNewFloor\t:\tINT := -1;\t\t// \u4e34\u65f6\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u68c0\u6d4b\u5230\u7684\u697c\u5c42\nEND_VAR\n\n// \u68c0\u6d4b\u5404\u697c\u5c42\u4f20\u611f\u5668\u72b6\u6001\nIF FloorSensor0 THEN\n\tNewFloor := 0;\nELSIF FloorSensor1 THEN\n\tNewFloor := 1;\nELSIF FloorSensor2 THEN\n\tNewFloor := 2;\nELSIF FloorSensor3 THEN\n\tNewFloor := 3;\nEND_IF\n\n// \u5982\u679c\u68c0\u6d4b\u5230\u65b0\u7684\u697c\u5c42\uff0c\u5219\u66f4\u65b0\u5f53\u524d\u697c\u5c42\nIF NewFloor <> -1 THEN\n\tF_DetectCurrentFloor := NewFloor;\nELSE\n\t// \u5982\u679c\u6ca1\u6709\u68c0\u6d4b\u5230\u65b0\u7684\u697c\u5c42\uff0c\u4fdd\u6301\u5f53\u524d\u697c\u5c42\n\tF_DetectCurrentFloor := CurrentFloor;\nEND_IF\n```"], ["```\nVAR\n\ti : INT;\t// Loop variable\nEND_VAR\n\n// Register calls to the target floors array\nFOR i := 0 TO 3 DO\n\tCASE i OF\n\t\t0: \n\t\t\tIF CallGround THEN\n\t\t\t\tTargetFloors[i] := TRUE;\n\t\t\tEND_IF;\n\t\t1: \n\t\t\tIF CallFloor1 THEN\n\t\t\t\tTargetFloors[i] := TRUE;\n\t\t\tEND_IF;\n\t\t2: \n\t\t\tIF CallFloor2 THEN\n\t\t\t\tTargetFloors[i] := TRUE;\n\t\t\tEND_IF;\n\t\t3: \n\t\t\tIF CallFloor3 THEN\n\t\t\t\tTargetFloors[i] := TRUE;\n\t\t\tEND_IF;\n\tEND_CASE;\nEND_FOR;\n```"], ["```\nVAR\n\tnNextAni\t\t:\tDINT;\t\t// \u4e0b\u4e00\u4e2a\u52a8\u753b\u503c\nEND_VAR\n\nIF bOpenDoor THEN\n\t// \u5f00\u95e8\u52a8\u753b\n\tIF nCurrentAni < nMaxAni THEN\n\t\tnNextAni := nCurrentAni + 1;\n\tELSE\n\t\tnNextAni := nMaxAni; // \u52a8\u753b\u8fbe\u5230\u6700\u5927\u503c\n\tEND_IF;\nELSIF bCloseDoor THEN\n\t// \u5173\u95e8\u52a8\u753b\n\tIF nCurrentAni > 0 THEN\n\t\tnNextAni := nCurrentAni - 1;\n\tELSE\n\t\tnNextAni := 0; // \u52a8\u753b\u8fbe\u5230\u6700\u5c0f\u503c\n\tEND_IF;\nELSE\n\t// \u4fdd\u6301\u5f53\u524d\u52a8\u753b\u503c\n\tnNextAni := nCurrentAni;\nEND_IF;\n\nF_UpdateDoorAnimation := nNextAni;\n```"]]