{"requirement": "This code is intended to implement the retrieval and processing of CAN bus data frames based on specified SWMC control IDs and buffer indices.", "provide_code": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//\u63a5\u6536SWMC\u63a7\u5236ID\n\tI\t \t :UINT;      //\u63a5\u6536\u7f13\u51b2\u533a\u57df\nEND_VAR", "docs": [{"text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//\u63a5\u6536SWMC\u63a7\u5236ID\n\tI\t \t :UINT;      //\u63a5\u6536\u7f13\u51b2\u533a\u57df\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n", "title": "can-FUN\\CAN_Read_Data_SWMC.st"}, {"text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//\u63a5\u6536SWMC\u63a7\u5236ID\n\tI\t \t :UINT;      //\u63a5\u6536\u7f13\u51b2\u533a\u57df\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n\t\tframe.data[3] := 0;\n\t\tframe.data[4] := 0;\n\t\tframe.data[5] := 0;\n\t\tframe.data[6] := 0;\n\t\tframe.data[7] := 0;\n\t\tframe.data[8] := 0;\nEND_CASE\nCan_Read_data_SWMC := frame;", "title": "can-FUN\\CAN_Read_Data_SWMC.st"}, {"text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//\u63a5\u6536SWMC\u63a7\u5236ID\n\tI\t \t :UINT;      //\u63a5\u6536\u7f13\u51b2\u533a\u57df\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n\t\tframe.data[3] := 0;\n\t\tframe.data[4] := 0;\n\t\tframe.data[5] := 0;\n\t\tframe.data[6] := 0;\n\t\tframe.data[7] := 0;\n", "title": "can-FUN\\CAN_Read_Data_SWMC.st"}, {"text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//\u63a5\u6536SWMC\u63a7\u5236ID\n\tI\t \t :UINT;      //\u63a5\u6536\u7f13\u51b2\u533a\u57df\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t\t//*)\n\tELSE\t\t\t\t//Other\n\t\tframe.id := 0;\n\t\tframe.data[1] := 0;\n\t\tframe.data[2] := 0;\n", "title": "can-FUN\\CAN_Read_Data_SWMC.st"}, {"text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//\u63a5\u6536SWMC\u63a7\u5236ID\n\tI\t \t :UINT;      //\u63a5\u6536\u7f13\u51b2\u533a\u57df\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n\t\tframe.id \t:= (gCan.C5RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C5RxMsg.RXMsg[I].RxMsg_Byte;\n\t6:\t\t\t\t\t\t//SWMC-C6\n\t\tframe.id \t:= (gCan.C6RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C6RxMsg.RXMsg[I].RxMsg_Byte;\t\n", "title": "can-FUN\\CAN_Read_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\nEND_CASE", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "TYPE Can_baseframe :\nSTRUCT\n\tid\t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_STRUCT\nEND_TYPE\n", "title": "can-struct\\Can_baseframe.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\n\nEND_CASE", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\n", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n", "title": "can-PRG\\CanRx_C02_Tx_method.st"}, {"text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\t\t\n\n\n", "title": "can-PRG\\CanRx_C04_Tx_method.st"}, {"text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\t\t\n\n\nEND_CASE", "title": "can-PRG\\CanRx_C04_Tx_method.st"}, {"text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[2].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#511,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\n\nEND_CASE", "title": "can-PRG\\CanRx_C02_Tx_method.st"}], "task_id": "CAN_Read_Data_SWMC"}
{"requirement": "This code is intended to implement the transmission of CAN messages to specific channels based on the provided SWMC_ID, with configurable message identifiers and data payloads.", "provide_code": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR", "docs": [{"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\nEND_CASE", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C5TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C5TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C5TxMsg.TxCounter \t\t\t\t:= gCan.C5TxMsg.TxCounter +1;\n\t6:\n\t\tgCan.C6TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C6TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C6TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C6TxMsg.TxCounter \t\t\t\t:= gCan.C6TxMsg.TxCounter +1;\n\t//*)\n\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "FUNCTION CAN_Send_Data_SWMC : BOOL\nVAR_INPUT\n\tSWMC_ID : UINT;\n\tid \t\t: UINT;\n\tdata\t: ARRAY[1..8] OF BYTE;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:\n\t\tgCan.C1TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C1TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C1TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C1TxMsg.TxCounter \t\t\t\t:= gCan.C1TxMsg.TxCounter +1;\t\n\t2:\n\t\tgCan.C2TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C2TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C2TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C2TxMsg.TxCounter \t\t\t\t:= gCan.C2TxMsg.TxCounter +1;\t\n\t3:\n\t\tgCan.C3TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C3TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C3TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C3TxMsg.TxCounter \t\t\t\t:= gCan.C3TxMsg.TxCounter +1;\n\t4:\n\t\tgCan.C4TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n\t  \tgCan.C4TxMsg.TXMsg[1].TxMsg_Byte \t:= data;\n\t   \tgCan.C4TxMsg.NoOfTxMessages\t\t\t:= 1;\n\t   \tgCan.C4TxMsg.TxCounter \t\t\t\t:= gCan.C4TxMsg.TxCounter +1;\n\t//(*\n\t5:\n\t\tgCan.C5TxMsg.TXMsg[1].TxMsg_CobId \t:= 8 + 32 * id;\n", "title": "can-FUN\\CAN_Send_Data_SWMC.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\n\nEND_CASE", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "METHOD C01_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[3].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[3].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[3].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[3].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[4].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[4].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[4].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[4].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#500,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[5].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[5].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[5].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[5].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[6].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[6].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[6].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[6].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(1, 16#501,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\n", "title": "can-PRG\\CanRx_C01_Tx_method.st"}, {"text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n", "title": "can-PRG\\CanRx_C02_Tx_method.st"}, {"text": "FUNCTION CAN_Read_Data_SWMC : Can_baseframe\nVAR_INPUT\n\tSWMC_ID\t :UINT;\t\t//\u63a5\u6536SWMC\u63a7\u5236ID\n\tI\t \t :UINT;      //\u63a5\u6536\u7f13\u51b2\u533a\u57df\nEND_VAR\nVAR\n\tframe :Can_baseframe;\nEND_VAR\n\nCASE  SWMC_ID OF\n\n\t1:                       //SWMC-C1\n\t\tframe.id \t:= (gCan.C1RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C1RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t2:                       //SWMC-C2\n\t\tframe.id \t:= (gCan.C2RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C2RxMsg.RXMsg[I].RxMsg_Byte;\n\t3:\t\t\t\t\t\t//SWMC-C3\n\t\tframe.id \t:= (gCan.C3RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C3RxMsg.RXMsg[I].RxMsg_Byte;\t\n\t4:                       //SWMC-C4\n\t\tframe.id \t:= (gCan.C4RxMsg.RXMsg[I].RxMsg_CobId-8)/32;\n\t\tframe.data \t:= gCan.C4RxMsg.RXMsg[I].RxMsg_Byte;\t\t\t\t\n\t//(*\n\t5:                       //SWMC-C5\n", "title": "can-FUN\\CAN_Read_Data_SWMC.st"}, {"text": "METHOD C06_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(6, 16#550,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[9].extendPercent,8));\n", "title": "can-PRG\\CanRx_C06_Tx_method.st"}, {"text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\t\t\n\n\n", "title": "can-PRG\\CanRx_C04_Tx_method.st"}, {"text": "METHOD C04_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.grd[1].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.grd[1].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.grd[1].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.grd[1].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.grd[2].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.grd[2].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.grd[2].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.grd[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(4, 16#530,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\t\t\n\n\nEND_CASE", "title": "can-PRG\\CanRx_C04_Tx_method.st"}, {"text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[2].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#511,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n\n\nEND_CASE", "title": "can-PRG\\CanRx_C02_Tx_method.st"}, {"text": "METHOD C02_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[0].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[0].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[0].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[0].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[1].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[1].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[1].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[1].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#510,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[2].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[2].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[2].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[2].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(2, 16#511,senddata);   //\u53d1\u9001ID 0x460\u5230C6\n\t\t\n\t\t\n", "title": "can-PRG\\CanRx_C02_Tx_method.st"}, {"text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //\u53d1\u9001ID 0x460\u5230C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#541,senddata);   //\u53d1\u9001ID 0x460\u5230C6\t\t\n\nEND_CASE", "title": "can-PRG\\CanRx_C05_Tx_method.st"}, {"text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //\u53d1\u9001ID 0x460\u5230C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[10].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[10].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[10].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[10].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#541,senddata);   //\u53d1\u9001ID 0x460\u5230C6\t\t\n", "title": "can-PRG\\CanRx_C05_Tx_method.st"}, {"text": "METHOD C05_Tx\nVAR_INPUT\nEND_VAR\nVAR\n\tswmcIdSwtich\t\t:UINT;\n\tsendData\t\t\t:ARRAY[1..8] OF BYTE;\nEND_VAR\n\nswmcIdSwtich := count MOD 2;\nCASE swmcIdSwtich OF\n\t0:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[7].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[7].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[7].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[7].retractPercent,8));\n\t\tsendData[5] := WORD_TO_BYTE(gController.sky[8].extendPercent);\n\t\tsendData[6] := WORD_TO_BYTE(SHR(gController.sky[8].extendPercent,8));\n\t\tsendData[7] := WORD_TO_BYTE(gController.sky[8].retractPercent);\n\t\tsendData[8] := WORD_TO_BYTE(SHR(gController.sky[8].retractPercent,8));\n\t\tCAN_Send_Data_SWMC(5, 16#540,senddata);   //\u53d1\u9001ID 0x460\u5230C6\t\n\t1:\n\t\tsendData[1] := WORD_TO_BYTE(gController.sky[9].extendPercent);\n\t\tsendData[2] := WORD_TO_BYTE(SHR(gController.sky[9].extendPercent,8));\n\t\tsendData[3] := WORD_TO_BYTE(gController.sky[9].retractPercent);\n\t\tsendData[4] := WORD_TO_BYTE(SHR(gController.sky[9].retractPercent,8));\n", "title": "can-PRG\\CanRx_C05_Tx_method.st"}], "task_id": "CAN_Send_Data_SWMC"}
{"requirement": "This code is intended to implement a control mechanism for setting the extension and retraction percentages of proportional valves for ground or overhead tracks based on input level, index, and percentage values.", "provide_code": "FUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "docs": [{"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "core-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "can-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "title": "can-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "title": "can-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "title": "core-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "title": "core-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "modbus-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "healthydata-FUN\\CommandExecutor.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "title": "modbus-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "title": "modbus-FUN\\CommandExecutor.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "title": "healthydata-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "title": "healthydata-FUN\\CommandExecutor.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "title": "core-FUN\\CommandExecutor0.st"}], "task_id": "CommandExecutor"}
{"requirement": "This code is intended to implement a command execution system for controlling the extension and retraction percentages of ground and sky tracks based on input parameters such as track level, index, direction, and proportional valve percentage.", "provide_code": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "can-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "core-FUN\\CommandExecutor.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "title": "can-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "title": "can-FUN\\CommandExecutor.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\n", "title": "core-FUN\\CommandExecutor.st"}, {"text": "\nFUNCTION_BLOCK CommandExecutor\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u5165-100~+100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nIF percent > 0 THEN\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\tgController.sky[idx].retractPercent := 0;\n\tEND_CASE\nELSE\n\tCASE level OF\n\t\t1:\n\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\t\t2:\n\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(ABS(percent) * 65535 / 100);\n\tEND_CASE\nEND_IF", "title": "core-FUN\\CommandExecutor.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "title": "core-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\tEND_CASE\n\tTargetDirect.stop:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\t\n\tELSE\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := 0;\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := 0;\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n", "title": "can-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "title": "healthydata-FUN\\CommandExecutor0.st"}, {"text": "FUNCTION_BLOCK CommandExecutor0\nVAR_INPUT\n\tlevel\t\t:INT;\t\t\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t\t\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\t//\u65b9\u5411\n\tpercent\t\t:REAL;\t\t\t//\u6bd4\u4f8b\u9600\u767e\u5206\u6bd4 \u4f20\u51650-100\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n\nCASE direct OF\n\tTargetDirect.extend:\n\t\tCASE level OF\n\t\t\t1:\n\t\t\t\tgController.grd[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.grd[idx].retractPercent := 0;\n\t\t\t2:\n\t\t\t\tgController.sky[idx].extendPercent := REAL_TO_WORD(percent * 65535 / 100);\n\t\t\t\tgController.sky[idx].retractPercent := 0;\n\t\tEND_CASE\n\tTargetDirect.retract:\n\t\tCASE level OF\n\t\t\t1:\n", "title": "modbus-FUN\\CommandExecutor0.st"}], "task_id": "CommandExecutor0"}
{"requirement": "This code is intended to implement a function that reverses the direction of a given input command between \"extend\" and \"retract\".", "provide_code": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR", "docs": [{"text": "FUNCTION cmdReverse : TargetDirect\nVAR_INPUT\n\tinput\t\t:TargetDirect;\nEND_VAR\n\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nEND_IF\nIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nEND_IF", "title": "modbus-FUN\\DataReverse_cmdReverse.st"}, {"text": "FUNCTION_BLOCK DataReverse\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n", "title": "modbus-FUN\\DataReverse.st"}, {"text": "METHOD manualExecute\nVAR_INPUT\nEND_VAR\nVAR\n\t//targetDirect\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].pwrEnable THEN\n\t\tcmdExecutor0(level := 1, idx := gi, \n\t\t\t\t\tdirect := gDev.grd[gi].vector, \n\t\t\t\t\tpercent := gUI.grd[gi].pwrPercent);\n\tELSE\n\t\tcmdExecutor0(level := 1, idx := gi, direct := 3, percent := 0);\t\t\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].pwrEnable THEN\n\t\tcmdExecutor0(level := 2, idx := si, \n\t\t\t\t\tdirect := gDev.sky[si].vector, \n\t\t\t\t\tpercent := gUI.sky[si].pwrPercent);\t\n\tELSE\n\t\tcmdExecutor0(level := 2, idx := si, direct := 3, percent := 0);\t\t\n\tEND_IF\n", "title": "core-PRG\\Barrier_manualExecute_method.st"}, {"text": "METHOD manualExecute\nVAR_INPUT\nEND_VAR\nVAR\n\t//targetDirect\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gUI.grd[gi].pwrEnable THEN\n\t\tcmdExecutor0(level := 1, idx := gi, \n\t\t\t\t\tdirect := gDev.grd[gi].vector, \n\t\t\t\t\tpercent := gUI.grd[gi].pwrPercent);\n\tELSE\n\t\tcmdExecutor0(level := 1, idx := gi, direct := 3, percent := 0);\t\t\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF gUI.sky[si].pwrEnable THEN\n\t\tcmdExecutor0(level := 2, idx := si, \n\t\t\t\t\tdirect := gDev.sky[si].vector, \n\t\t\t\t\tpercent := gUI.sky[si].pwrPercent);\t\n\tELSE\n\t\tcmdExecutor0(level := 2, idx := si, direct := 3, percent := 0);\t\t\n\tEND_IF\nEND_FOR\n\n", "title": "core-PRG\\Barrier_manualExecute_method.st"}, {"text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//\u8d77\u7ad6\u6321\u677f\u6267\u884c\u5f00\u5173\u91cf\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n", "title": "core-PRG\\Barrier_pidExecute_method.st"}, {"text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\n", "title": "core-PRG\\Barrier_pidCalc_method.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "can-FUN\\fileSave.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "core-FUN\\fileSave.st"}, {"text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n", "title": "core-PRG\\Barrier_pidCalc_method.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.sky[si].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n", "title": "core-PRG\\Barrier_pidCalc_method.st"}, {"text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//\u8d77\u7ad6\u6321\u677f\u6267\u884c\u5f00\u5173\u91cf\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);\n\tEND_IF\nEND_IF\n(*\nIF NOT gDev.grd[7].ctrl.isError THEN\n\tIF gDev.grd[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := gDev.grd[7].ctrl.exPct);\n\tEND_IF\n\tIF gDev.grd[7].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := -gDev.grd[7].ctrl.rtPct);\n\tEND_IF\nEND_IF\t\n", "title": "core-PRG\\Barrier_pidExecute_method.st"}, {"text": "METHOD pidExecute\nVAR_INPUT\nEND_VAR\nVAR\n\tvector \t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF gDev.grd[gi].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 1, idx := gi, percent := grdPid[gi].res);\nEND_FOR\n\n\nFOR si := 1 TO 10 DO\n\tIF gDev.sky[si].ctrl.isError THEN\n\t\tCONTINUE;\n\tEND_IF\n\tcmdExecutor(level := 2, idx := si, percent := skyPid[si].res);\nEND_FOR\n\n//\u8d77\u7ad6\u6321\u677f\u6267\u884c\u5f00\u5173\u91cf\nIF NOT gDev.sky[0].ctrl.isError THEN\n\tIF gDev.sky[0].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := gDev.sky[0].ctrl.exPct);\n\tEND_IF\n\tIF gDev.sky[0].vector = TargetDirect.retract THEN\n\t\tcmdExecutor(level := 2, idx := 0, percent := -gDev.sky[0].ctrl.rtPct);\n\tEND_IF\nEND_IF\n(*\nIF NOT gDev.grd[7].ctrl.isError THEN\n\tIF gDev.grd[7].vector = TargetDirect.extend THEN\n\t\tcmdExecutor(level := 1, idx := 7, percent := gDev.grd[7].ctrl.exPct);\n", "title": "core-PRG\\Barrier_pidExecute_method.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "title": "core-FUN\\setButtonByDirect.st"}, {"text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.sky[si].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n", "title": "core-PRG\\Barrier_pidCalc_method.st"}, {"text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.sky[si].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.sky[si].ctrl.pos.Set_Point := gDev.sky[si].ctrl.rtcVal;\n\t\tEND_CASE\n\t\t\n", "title": "core-PRG\\Barrier_pidCalc_method.st"}, {"text": "METHOD pidCalc\nVAR_INPUT\nEND_VAR\nVAR\n\tvector\t\t\t:TargetDirect;\nEND_VAR\n\nFOR gi := 1 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.grd[gi].vector;\n\t\tCASE vector OF\n\t\t\tTargetDirect.stop:\n\t\t\tCASE gDev.grd[gi].state OF\n\t\t\t\tDevStatus.extended:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\t\tDevStatus.retracted:\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\t\t\tELSE\n\t\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].sensor.position;\n\t\t\tEND_CASE\t\t\t\n\t\t\tTargetDirect.extend:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.extVal;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgDev.grd[gi].ctrl.pos.Set_Point := gDev.grd[gi].ctrl.rtcVal;\n\t\tEND_CASE\nEND_IF\n\t\n\tgrdPid[gi](idx := gi, isReset := resetPidParam, cycTimer := 0.01, res => );\n\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\tIF NOT manualPidPrmSet THEN\n\t\tvector := gDev.sky[si].vector;\n\t\tCASE vector OF\n", "title": "core-PRG\\Barrier_pidCalc_method.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n", "title": "core-FUN\\setButtonByDirect.st"}], "task_id": "DataReverse_cmdReverse"}
{"requirement": "This code is intended to implement a file-saving mechanism that closes an open file handle if it is not already closed.", "provide_code": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "can-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "core-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "healthydata-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "modbus-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "can-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "core-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "can-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "healthydata-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "modbus-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "core-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "core-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "title": "core-FUN\\fileSave_write.st"}], "task_id": "fileSave_close"}
{"requirement": "This code is intended to implement the creation of a directory path by concatenating a file path and device name, and then creating the directory if it does not already exist.", "provide_code": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "core-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "can-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "modbus-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "healthydata-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "can-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "can-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "core-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "core-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "healthydata-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "healthydata-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "modbus-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "title": "core-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "title": "core-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "title": "core-FUN\\fileSave_new.st"}], "task_id": "fileSave_createDir"}
{"requirement": "This code is intended to implement a file-saving functionality that generates a timestamped file name based on the current system time and device name, and opens the file for writing.", "provide_code": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "can-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "core-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "modbus-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "healthydata-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "can-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "can-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "core-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "core-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "healthydata-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "healthydata-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "modbus-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n\tTime_Str :='';\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Year));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Month));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Day));\n\tTime_Str := concat(Time_Str,'_');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Hour));\n\tTime_Str := concat(Time_Str,'-');\n\tTime_Str := concat(Time_Str,UINT_TO_STRING(S_Time.Minute));\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "title": "core-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "title": "core-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "title": "can-FUN\\fileSave_write.st"}], "task_id": "fileSave_new"}
{"requirement": "This code is intended to implement a file-saving functionality that logs formatted data, including line count, time interval, position, speed, and state, into a file at specified intervals.", "provide_code": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "core-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "can-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "healthydata-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "modbus-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "core-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "can-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "core-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "title": "core-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(speedInt));\n\tdata := concat(data,'$T');\n\tdata := concat(data,INT_TO_STRING(stateInt));\n\tdata := concat(data,'$R');\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "healthydata-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tSysFileClose(hFile := fileHandle);\n\tfileHandle := 0;\nEND_IF", "title": "healthydata-FUN\\fileSave_close.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "can-FUN\\fileSave_createDir.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\n\n\tSTT(SystemTime:= S_Time64, TimeDate:= S_Time);\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n\tS_Time\t\t\t:  SystemTimeDate;\n\tTime_Str\t\t:  STRING;\n\tF_err\t\t: DWORD;\n\tF_HANDL\t\t: DWORD;\nEND_VAR\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tdevName\t\t: STRING ;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfileHandle0 : DWORD;\n\tdatetime\t: DATE_AND_TIME;\n\tUdIntms \t: UDINT;\n\tUdMsOffset  : UDINT;\n\tDTimer_Str  : STRING;\n\tuiYear \t\t: UINT; \n    uiMonth \t: UINT; \n    uiDay \t\t: UINT; \n    uiHour \t\t: UINT; \n    uiMinute \t: UINT; \n    uiSecond \t: UINT;\t\n\tuiMsSecond\t: UINT;\n\n\tS_Time64\t\t:  SysTime64;\n\tSTT\t\t\t:  CurTimeEx;\n", "title": "can-FUN\\fileSave_new.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "title": "healthydata-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "modbus-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "core-FUN\\fileSave_createDir.st"}], "task_id": "fileSave_write"}
{"requirement": "This code is intended to implement a mapping logic that translates modbus logical addresses into local physical indices, specifying the level (sky or ground), direction (extend or retract), and corresponding physical index for different sections and logical indices.", "provide_code": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "VAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t\u7eb52\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t\u6a2a6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t\u6a2a7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t\u6a2a8\t\n\t\tEND_CASE\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "VAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t3://\u533a\u57df\u9650\u5b9a3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//\u5929\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[127,137]\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//\u5929\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5929\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//\u5929\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5929\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//\u5929\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}], "task_id": "mdbsLogicToPhy"}
{"requirement": "This code is intended to implement a mapping function that converts a device number (devNo) into corresponding level and index values based on predefined cases.", "provide_code": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK mdbsNumToIdx\nVAR_INPUT\n\tdevNo\t\t:WORD;\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\n\tidx\t\t\t:INT;\nEND_VAR\nVAR\n\t\nEND_VAR\n\nIF devNo > 40000 THEN\n\tCASE devNo OF\n\t\t//\u5730\u8f68\n\t\t41010:\tlevel := 1;\tidx := 1;\n\t\t41020:\tlevel := 1;\tidx := 3;\n\t\t41030:\tlevel := 1;\tidx := 4;\n\t\t41040:\tlevel := 1;\tidx := 5;\n\t\t41050:\tlevel := 1;\tidx := 6;\n\t\t41060:\tlevel := 1;\tidx := 8;\n\t\t41070:\tlevel := 1;\tidx := 9;\n\t\t41080:\tlevel := 1;\tidx := 10;\n\t\t42010:\tlevel := 1;\tidx := 2;\n\t\t42020:\tlevel := 1;\tidx := 7;\n\t\t\n\t\t51010:\tlevel := 2;\tidx := 1;\n\t\t51020:\tlevel := 2;\tidx := 3;\n\t\t51030:\tlevel := 2;\tidx := 4;\n\t\t51040:\tlevel := 2;\tidx := 5;\n\t\t51050:\tlevel := 2;\tidx := 6;\n\t\t51060:\tlevel := 2;\tidx := 8;\n\t\t51070:\tlevel := 2;\tidx := 9;\n\t\t51080:\tlevel := 2;\tidx := 10;\n\t\t52010:\tlevel := 2;\tidx := 2;\n\t\t52020:\tlevel := 2;\tidx := 7;\n\t\t53000:\tlevel := 2;\tidx := 0;\n\t\t53010:\tlevel := 2;\tidx := 0;\n\tEND_CASE\nEND_IF", "title": "modbus-FUN\\mdbsNumToIdx.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "can-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "core-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "modbus-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK DataReverse\nVAR_INPUT\nEND_VAR\nVAR_OUTPUT\nEND_VAR\nVAR\nEND_VAR\n", "title": "modbus-FUN\\DataReverse.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR", "title": "healthydata-FUN\\fileSave.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n", "title": "modbus-FUN\\fileSave_write.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tintervalt\t:INT;\n\tpositionInt \t:INT;\n\tspeedInt \t\t:INT;\n\tstateInt\t\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tdata\t\t: STRING;\n\tF_err\t\t: DWORD;\n\ttempInt\t\t: INT;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nIF fileHandle <> 0 THEN\n\tlineCount := lineCount + 1;\n\ttempInt\t:= lineCount * intervalt;\n\tdata := INT_TO_STRING(lineCount);\n\tdata := concat(data,'$T$T');\n\tdata := concat(data, INT_TO_STRING(tempInt));\n\tIF tempInt < 1000 THEN\n\t\tdata := concat(data,'$T');\n\tEND_IF\n\tdata := concat(data,'$T$T');\n\tdata := concat(data,INT_TO_STRING(positionInt));\n", "title": "can-FUN\\fileSave_write.st"}, {"text": "VAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t3://\u533a\u57df\u9650\u5b9a3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK fileSave\nVAR_INPUT\n\tfilePath \t:STRING;\n\tdevName\t\t: STRING ;\n\tintervalt\t:INT;\nEND_VAR\nVAR\n\tlineCount\t: INT;\n\tfileHandle  : DWORD;\n\tfileName\t: STRING;\n\tfilePath1\t:STRING;\nEND_VAR\nVAR_OUTPUT\nEND_VAR\n\nfilePath1 := FilePath;\nfilePath1 := concat(filePath1,'/');\nfilePath1 := concat(filePath1,devName);\nSysDirCreate2(filePath1, TRUE);", "title": "can-FUN\\fileSave_createDir.st"}], "task_id": "mdbsNumToIdx"}
{"requirement": "This code is intended to implement a mapping system that translates physical index values within specified sections into corresponding logical register addresses.", "provide_code": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR", "docs": [{"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsPhyToLogic\t//modbus\u672c\u5730\u7d22\u5f15\u5bf9\u5e94\u56de\u4f20\u534e\u4e2d\u7684\u72b6\u6001\u5730\u5740\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a(1:grdExt, 2:grdRet, 3:skyExt, 4:skyRet)\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\nEND_VAR\nVAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "FUNCTION_BLOCK mdbsLogicToPhy\t//modbus\u534e\u4e2d\u6321\u677f\u5730\u5740\u7f16\u53f7\u5bf9\u5e94\u672c\u5730\u7d22\u5f15\u7f16\u53f7\nVAR_INPUT\n\tsection\t\t:INT;\t//\u533a\u57df\u9650\u5b9a 1:skyExt, 2:skyRet, 3:grdExt, 4:grdRet)\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t10,14{1..10}  17,20{1..11}\nEND_VAR\nVAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "VAR_OUTPUT\n\tlgcIdx\t\t:INT;\t//\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740\t127 175 223 271...\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t\u7eb52\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t\u6a2a6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t\u6a2a7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t\u6a2a8\t\n\t\tEND_CASE\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "\n(**\n * \u8f93\u5165\u6321\u677f\u6807\u53f7\uff0c\u8fd4\u56de\u534e\u4e2d\u9700\u8981\u7684\u5bc4\u5b58\u5668\u5730\u5740\u53f7\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t\u7eb52\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t\u6a2a6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t\u6a2a7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t\u6a2a8\t\n\t\tEND_CASE\n\t\n\t4://\u533a\u57df\u9650\u5b9a(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t\u8d77\u7ad6\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t\u6a2a1\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "VAR_OUTPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tphyIdx\t\t:INT;\t//\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n\n(**\n * \u5c06\u534e\u4e2d\u6307\u4ee4\u89e3\u6790\u4e3a\u8981\u52a8\u4f5c\u6321\u677f\u7684\u6807\u53f7\n * (level:1->\u5730\u8f68\t2->\u5929\u8f68)(phyIdx:\u5185\u5b58\u7269\u7406\u5730\u5740\u5bf9\u5e94\u6570\u7ec4\u7d22\u5f15)\n *)\nCASE section OF\n\t1://\u533a\u57df\u9650\u5b9a1:skyExtend)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.extend;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t2://\u533a\u57df\u9650\u5b9a2:skyRetract)\n\t\tlevel := 2;\n\t\tdirect := TargetDirect.retract;\n\t\tCASE lgcIdx OF\n\t\t\t1:\tphyIdx := 1;\t\t//\u6a2a1\t->\tsky1\n\t\t\t2:\tphyIdx := 3;\t\t//\u6a2a2\t->\tsky3\n\t\t\t3:\tphyIdx := 4;\t\t//\u6a2a3\t->\tsky4\n\t\t\t4:\tphyIdx := 5;\t\t//\u6a2a4\t->\tsky5\n\t\t\t5:\tphyIdx := 6;\t\t//\u6a2a5\t->\tsky6\n\t\t\t6:\tphyIdx := 8;\t\t//\u6a2a6\t->\tsky8\n\t\t\t7:\tphyIdx := 9;\t\t//\u6a2a7\t->\tsky9\n\t\t\t8:\tphyIdx := 10;\t\t//\u6a2a8\t->\tsky10\n\t\t\t9:\tphyIdx := 2;\t\t//\u7eb51\t->\tsky2\n\t\t\t10:\tphyIdx := 7;\t\t//\u7eb52\t->\tsky7\n\t\t\t11:\tphyIdx := 0;\t\t//\u8d77\u7ad6\t->\tsky0\n\t\tEND_CASE\n\n\t3://\u533a\u57df\u9650\u5b9a3:grdExtend)\n\t\tlevel := 1;\n\t\tdirect := TargetDirect.extend;\n", "title": "modbus-FUN\\mdbsLogicToPhy.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//\u5929\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[127,137]\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}, {"text": "\t1://\u533a\u57df\u9650\u5b9a(1:groundExtend)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 223;\t\t//grd1e\t->\t\u6a2a1\t223\n\t\t\t2:\tlgcIdx := 231;\t\t//grd2e\t->\t\u7eb51\t231\n\t\t\t3:\tlgcIdx := 224;\t\t//grd3e\t->\t\u6a2a2\t224\n\t\t\t4:\tlgcIdx := 225;\t\t//grd4e\t->\t\u6a2a3\t225\n\t\t\t5:\tlgcIdx := 226;\t\t//grd5e\t->\t\u6a2a4\t226\n\t\t\t6:\tlgcIdx := 227;\t\t//grd6e\t->\t\u6a2a5\t227\n\t\t\t7:\tlgcIdx := 232;\t\t//grd7e\t->\t\u7eb52\t232\n\t\t\t8:\tlgcIdx := 228;\t\t//grd8e\t->\t\u6a2a6\t228\n\t\t\t9:\tlgcIdx := 229;\t\t//grd9e\t->\t\u6a2a7\t229\n\t\t\t10:\tlgcIdx := 230;\t\t//grd10e->\t\u6a2a8\t230\n\t\tEND_CASE\n\t2://\u533a\u57df\u9650\u5b9a(2:groundRetract)\n\t\tCASE phyIdx OF\n\t\t\t1:\tlgcIdx := 271;\t\t//grd1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 279;\t\t//grd2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 272;\t\t//grd3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 273;\t\t//grd4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 274;\t\t//grd5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 275;\t\t//grd6r\t->\t\u6a2a5\n\t\t\t7:\tlgcIdx := 280;\t\t//grd7r\t->\t\u7eb52\n\t\t\t8:\tlgcIdx := 276;\t\t//grd8r\t->\t\u6a2a6\n\t\t\t9:\tlgcIdx := 277;\t\t//grd9r\t->\t\u6a2a7\n\t\t\t10:\tlgcIdx := 278;\t\t//grd10r->\t\u6a2a8\n\t\tEND_CASE\n\t3://\u533a\u57df\u9650\u5b9a(3:skyExtend)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 137;\t\t//sky0e\t->\t\u8d77\u7ad6\t\n\t\t\t1:\tlgcIdx := 127;\t\t//sky1e\t->\t\u6a2a1\t\n\t\t\t2:\tlgcIdx := 135;\t\t//sky2e\t->\t\u7eb51\t\n\t\t\t3:\tlgcIdx := 128;\t\t//sky3e\t->\t\u6a2a2\t\n\t\t\t4:\tlgcIdx := 129;\t\t//sky4e\t->\t\u6a2a3\t\n\t\t\t5:\tlgcIdx := 130;\t\t//sky5e\t->\t\u6a2a4\t\n\t\t\t6:\tlgcIdx := 131;\t\t//sky6e\t->\t\u6a2a5\t\n\t\t\t7:\tlgcIdx := 136;\t\t//sky7e\t->\t\u7eb52\t\n\t\t\t8:\tlgcIdx := 132;\t\t//sky8e\t->\t\u6a2a6\t\n\t\t\t9:\tlgcIdx := 133;\t\t//sky9e\t->\t\u6a2a7\t\n\t\t\t10:\tlgcIdx := 134;\t\t//sky10e->\t\u6a2a8\t\n\t\tEND_CASE\n\t\n\t4://\u533a\u57df\u9650\u5b9a(4:skyRetract)\n\t\tCASE phyIdx OF\n\t\t\t0:\tlgcIdx := 185;\t\t//sky0r\t->\t\u8d77\u7ad6\n\t\t\t1:\tlgcIdx := 175;\t\t//sky1r\t->\t\u6a2a1\n\t\t\t2:\tlgcIdx := 183;\t\t//sky2r\t->\t\u7eb51\n\t\t\t3:\tlgcIdx := 176;\t\t//sky3r\t->\t\u6a2a2\n\t\t\t4:\tlgcIdx := 177;\t\t//sky4r\t->\t\u6a2a3\n\t\t\t5:\tlgcIdx := 178;\t\t//sky5r\t->\t\u6a2a4\n\t\t\t6:\tlgcIdx := 179;\t\t//sky6r\t->\t\u6a2a5\n", "title": "modbus-FUN\\mdbsPhyToLogic.st"}, {"text": "METHOD localStatHandler : TargetDirect\nVAR_INPUT\nEND_VAR\n\n\n//\u5148\u628a\u5929\u5730\u8f68\u63a7\u5236\u5668\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR idx := 110 TO 319 DO\n\tgModbus.srv.response.data[idx] := holdingBuff[idx];\nEND_FOR\n\n//\u6839\u636e\u5b9e\u9645\u72b6\u6001\u5c06\u6321\u677f\u6570\u636e\u540c\u6b65\u81f3\u672c\u5730\nFOR gi := 1 TO 10 DO\n\t(*******************************\n\t\u4f38\u7f29\u53cd\u5411\u5224\u5b9a\uff0c\u4f38\u51fa\u5230\u4f4d\u8fd4\u56de\u7f29\u56de\u5230\u4f4d\n\t**********************************)\n\t\n\t//\u5730\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 1, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[223,232]\n\tIF gDev.grd[gi].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5730\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 2, phyIdx := gi, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[271,280]\n\tIF gDev.grd[gi].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\nEND_FOR\n\nFOR si := 0 TO 10 DO\n\t//\u5929\u8f68\u4f38\u51fa\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 3, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[127,137]\n\t\n\t\n\tIF gDev.sky[si].state = DevStatus.retracted THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\n\t//\u5929\u8f68\u7f29\u56de\u5230\u4f4d\u68c0\u67e5\n\tp2l(section := 4, phyIdx := si, lgcIdx => logicIdx);//logicIdx\u8303\u56f4[175,185]\n\tIF gDev.sky[si].state = DevStatus.extended THEN\n\t\tgModbus.srv.response.data[logicIdx] := 1;\n\tELSE\n\t\tgModbus.srv.response.data[logicIdx] := 0;\n\tEND_IF\t\nEND_FOR\n", "title": "modbus-PRG\\ModbusAct_localStatHandler.st"}], "task_id": "mdbsPhyToLogic"}
{"requirement": "This code is intended to implement the control of UI button states for ground and sky tracks based on input parameters for level, index, and direction.", "provide_code": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR", "docs": [{"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "title": "core-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n", "title": "core-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "title": "core-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "title": "core-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "title": "core-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "title": "core-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t\t\nEND_CASE;", "title": "can-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n", "title": "healthydata-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n", "title": "healthydata-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n", "title": "healthydata-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "title": "modbus-FUN\\setButtonByDirect.st"}, {"text": "FUNCTION setButtonByDirect : BOOL\nVAR_INPUT\n\tlevel\t\t:INT;\t//1->\u5730\u8f68\t2->\u5929\u8f68\n\tidx\t\t\t:INT;\t//\u6321\u677f\u7d22\u5f15\u7f16\u53f7\n\tdirect\t\t:TargetDirect;\nEND_VAR\nVAR\nEND_VAR\n//\t\u672c\u51fd\u6570\u7528\u4e8e\u6839\u636e\u8f93\u5165\u53c2\u6570 \u64cd\u4f5cUI\u754c\u9762\u7684\u6309\u94ae\u53d8\u91cf\nCASE level OF\n\t1:\n\t\tIF idx = 0 OR idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := TRUE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := TRUE;\n\t\t\tTargetDirect.stop:\n\t\t\t\tgUI.grd[idx].btnStop := FALSE;\n\t\t\t\tgUI.grd[idx].btnExtend := FALSE;\n\t\t\t\tgUI.grd[idx].btnRetract := FALSE;\n\t\tEND_CASE\n\t2:\n\t\tIF idx > 10 THEN\t\t//\u53c2\u6570\u6821\u9a8c\n\t\t\tRETURN;\n\t\tEND_IF\n\t\tCASE direct OF\n\t\t\tTargetDirect.extend:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := TRUE;\n\t\t\t\tgUI.sky[idx].btnRetract := FALSE;\n\t\t\tTargetDirect.retract:\n\t\t\t\tgUI.sky[idx].btnStop := FALSE;\n\t\t\t\tgUI.sky[idx].btnExtend := FALSE;\n", "title": "healthydata-FUN\\setButtonByDirect.st"}], "task_id": "setButtonByDirect"}
