This is the known requirement information for the function to be completed:
This code is intended to implement a blueprint for dynamically creating a product object with customizable parts based on client specifications.
This provides you with a plan of implementation steps for the function to be completed. Subsequent ST code must strictly follow this plan and must not deviate from the core logic. The following is the plan of implementation steps:
功能规划:  
1. 初始化一个内部变量，用于存储最终的选择性部件清单（例如数组或字符串列表）。  
2. 检查 `mainPart` 是否有效（非空或满足其他约束），若有效则添加到清单。  
3. 检查 `part1` 是否符合客户端的规范要求，若符合则添加到清单。  
4. 检查 `part2` 是否符合客户端的规范要求，若符合则添加到清单。  
5. 检查 `part3` 是否符合客户端的规范要求，若符合则添加到清单。  
6. 使用最终的选择性部件清单构建并初始化动态产品对象。
Continue writing the following code:

```
# Here are some relevant code fragments from other files of the repo:
# --------------------------------------------------
# the below code fragment can be found in:
# Builder_Application_RPI-FUN\Product.st
# --------------------------------------------------
# {attribute 'enable_dynamic_creation'}
# //The class Product is just a plain bluprint of the components of the object to be built.
# //The final Product may ot may not contain the all the Parts listed on the Product declaration
# // rather only the parts in the specifications sent by the client.
# FUNCTION_BLOCK Product
# VAR_INPUT
# 	//List of possible parts to be build in a final Product object
# 	mainPart 	: STRING;
# 	part1 		: STRING;
# 	part2 		: STRING;
# 	part3 		: STRING;
# END_VAR
# VAR_OUTPUT
# END_VAR
# VAR
# END_VAR
# 
# --------------------------------------------------
# the below code fragment can be found in:
# Builder_Application_RPI-FUN\ConcreteBuilder.st
# --------------------------------------------------
# //This is the concrete builder class, reponsible for building the final product object
# FUNCTION_BLOCK ConcreteBuilder IMPLEMENTS ITF_Builder
# VAR_INPUT
# END_VAR
# VAR_OUTPUT
# END_VAR
# VAR
# 	//Holds an internal reference to how the final product shoud be so the builder class can build it on the fly 
# 	// without any help from other classes exepting the Director class that is going to be passing the special
# 	//specifications to the builder.
# 	localProduct : Product;
# 	
# 	//Stores the specifications, sent by the client, of the final product to be built.
# 	specifications : ARRAY [1..4] OF STRING;
# END_VAR
# 
# --------------------------------------------------
# the below code fragment can be found in:
# Builder_Application_RPI-FUN\Director.st
# --------------------------------------------------
# {attribute 'enable_dynamic_creation'}
# //The director class is responsible to delegate the construction of the final product object 
# // to a concrete builder object.
# FUNCTION_BLOCK Director
# VAR_INPUT
# 	//Reference to the builder that is going to be building the final product object.
# 	inputConcreteBuilder : ConcreteBuilder(specs := inputConcreteBuilder.specifications);
# END_VAR
# VAR_OUTPUT
# END_VAR
# VAR
# 	//Holds a reference to the concrete builder object to send the specifications of the final product to it.
# 	concreteBuilder : ConcreteBuilder(specs := THIS^.concreteBuilder.specifications);
# END_VAR
# 
# //Stores the reference to which builder will be building the final product object in its own field THIS^.concreteBuilder
# THIS^.concreteBuilder := inputConcreteBuilder;
# --------------------------------------------------
# the below code fragment can be found in:
# Builder_Application_RPI-FUN\ConcreteBuilder_Set_Part3.st
# --------------------------------------------------
# //Illustrative method of the pattern to set the part3
# METHOD Set_Part3
# VAR_INPUT
# END_VAR
# VAR_OUTPUT
# END_VAR
# VAR
# 	//Holds an internal reference to how the final product shoud be so the builder class can build it on the fly 
# 	// without any help from other classes exepting the Director class that is going to be passing the special
# 	//specifications to the builder.
# 	localProduct : Product;
# 	
# 	//Stores the specifications, sent by the client, of the final product to be built.
# 	specifications : ARRAY [1..4] OF STRING;
# END_VAR
# 
# //Sets the passed value to its corresponding field. 
# //We can say that the the final product is in process of being built.
# //So this is a step into building the final product done by the builder.
# THIS^.localProduct.part3 := part3;  
# --------------------------------------------------
# the below code fragment can be found in:
# Builder_Application_RPI-FUN\ConcreteBuilder_Set_Part2.st
# --------------------------------------------------
# //Illustrative method of the pattern to set the part2
# METHOD Set_Part2
# VAR_INPUT
# 	part2	: STRING;
# END_VAR
# VAR_OUTPUT
# END_VAR
# VAR
# 	//Holds an internal reference to how the final product shoud be so the builder class can build it on the fly 
# 	// without any help from other classes exepting the Director class that is going to be passing the special
# 	//specifications to the builder.
# 	localProduct : Product;
# 	
# 	//Stores the specifications, sent by the client, of the final product to be built.
# 	specifications : ARRAY [1..4] OF STRING;
# END_VAR
# 
# //Sets the passed value to its

{attribute 'enable_dynamic_creation'}
//The class Product is just a plain bluprint of the components of the object to be built.
//The final Product may ot may not contain the all the Parts listed on the Product declaration
// rather only the parts in the specifications sent by the client.
FUNCTION_BLOCK Product
VAR_INPUT
	//List of possible parts to be build in a final Product object
	mainPart 	: STRING;
	part1 		: STRING;
	part2 		: STRING;
	part3 		: STRING;
END_VAR
VAR_OUTPUT
END_VAR
```