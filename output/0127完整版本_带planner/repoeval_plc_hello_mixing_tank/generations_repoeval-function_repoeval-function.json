[["```\nVAR\n\ttonMixing\t\t\t:\tTON;\t\t\t// \u6df7\u5408\u5b9a\u65f6\u5668\nEND_VAR\n\n// \u521d\u59cb\u5316\u8bbe\u5907\u63a7\u5236\u8f93\u51fa\nbMixerRunCmd := FALSE;\nbMedium1OpenCmd := FALSE;\nbMedium2OpenCmd := FALSE;\nbDrainOpenCmd := FALSE;\n\n// \u68c0\u67e5\u590d\u4f4d\u6761\u4ef6\nIF bReset THEN\n\teCurrentState := AUTO_SEQUENCE.DRAINING;\n\tnCyclesCompleted := 0;\n\tRETURN;\nEND_IF\n\n// \u68c0\u67e5\u4f7f\u80fd\u6761\u4ef6\nIF NOT bEnable THEN\n\teCurrentState := AUTO_SEQUENCE.IDLE;\n\tRETURN;\nEND_IF\n\n// \u81ea\u52a8\u5e8f\u5217\u72b6\u6001\u673a\nCASE eCurrentState OF\n\tAUTO_SEQUENCE.DRAINING:\n\t\t// \u6392\u7a7a\u72b6\u6001\u903b\u8f91\n\t\tbDrainOpenCmd := TRUE;\n\t\tIF bTankLevelEmpty THEN\n\t\t\teCurrentState := AUTO_SEQUENCE.FILLING;\n\t\tEND_IF;\n\n\tAUTO_SEQUENCE.FILLING:\n\t\t// \u586b\u5145\u72b6\u6001\u903b\u8f91\n\t\tbMedium1OpenCmd := TRUE;\n\t\tbMedium2OpenCmd := TRUE;\n\t\tIF bTankLevelFull THEN\n\t\t\teCurrentState := AUTO_SEQUENCE.MIXING;\n\t\tEND_IF;\n\n\tAUTO_SEQUENCE.MIXING:\n\t\t// \u6df7\u5408\u72b6\u6001\u903b\u8f91\n\t\tbMixerRunCmd := TRUE;\n\t\ttonMixing(IN := TRUE, PT := tMixingDuration);\n\t\tIF tonMixing.Q THEN\n\t\t\teCurrentState := AUTO_SEQUENCE.DRAINING;\n\t\t\tnCyclesCompleted := nCyclesCompleted + 1;\n\t\tEND_IF;\n\n\tELSE\n\t\t// \u9ed8\u8ba4\u72b6\u6001\u4e3a\u521d\u59cb\u72b6\u6001\n\t\teCurrentState := AUTO_SEQUENCE.IDLE;\nEND_CASE\n```"], ["```\nbMixerRunCmdOut := (bMixerRunCmd OR bMixerRunning) AND NOT bMixerStopCmd;\n\nbMedium1OpenCmdOut := (bMedium1OpenCmd OR bMedium1Opened) AND NOT bMedium1CloseCmd;\n\nbMedium2OpenCmdOut := (bMedium2OpenCmd OR bMedium2Opened) AND NOT bMedium2CloseCmd;\n\nbDrainOpenCmdOut := (bDrainOpenCmd OR bDrainOpened) AND NOT bDrainCloseCmd;\n```"], ["```\nVAR\n\teLastMode\t\t:\tMODES;\t// \u4e0a\u6b21\u6a21\u5f0f\nEND_VAR\n\n// \u6a21\u5f0f\u5207\u6362\u903b\u8f91\nIF bSetToAuto AND (eCurrentMode <> MODES.AUTO) THEN\n\teCurrentMode := MODES.AUTO;\n\tbModeChanged := TRUE;\nELSIF bSetToManual AND (eCurrentMode <> MODES.MANUAL) THEN\n\teCurrentMode := MODES.MANUAL;\n\tbModeChanged := TRUE;\nELSE\n\tbModeChanged := FALSE;\nEND_IF\n\n// \u66f4\u65b0\u4e0a\u6b21\u6a21\u5f0f\neLastMode := eCurrentMode;\n```"], ["```\nVAR\n\trTempLevel : REAL; // \u4e34\u65f6\u53d8\u91cf\u7528\u4e8e\u6db2\u4f4d\u8ba1\u7b97\nEND_VAR\n\n// \u590d\u4f4d\u903b\u8f91\nIF bReset THEN\n\trCurrentLevel := rInitialLevel;\nELSE\n\t// \u6db2\u4f4d\u8ba1\u7b97\n\trTempLevel := rCurrentLevel\n\t\t\t\t+ rFillRate1 * BOOL_TO_REAL(bMedium1Opened)\n\t\t\t\t+ rFillRate2 * BOOL_TO_REAL(bMedium2Opened)\n\t\t\t\t- rDrainRate * BOOL_TO_REAL(bDrainOpened);\n\n\t// \u8fb9\u754c\u68c0\u67e5\n\tIF rTempLevel > rMaxLevel THEN\n\t\trCurrentLevel := rMaxLevel;\n\tELSIF rTempLevel < rMinLevel THEN\n\t\trCurrentLevel := rMinLevel;\n\tELSE\n\t\trCurrentLevel := rTempLevel;\n\tEND_IF;\nEND_IF;\n```"], ["```\nVAR\n\tbAllCommandsReset : BOOL := TRUE;\nEND_VAR\n\n// \u6df7\u5408\u7535\u673a\u547d\u4ee4\u590d\u4f4d\nIF bMixerRunning THEN\n\tbMixerRunCmd := FALSE;\n\tbMixerStopCmd := FALSE;\nELSE\n\tbAllCommandsReset := FALSE;\nEND_IF\n\n// \u4ecb\u8d281\u9600\u95e8\u547d\u4ee4\u590d\u4f4d\nIF bMedium1Opened THEN\n\tbMedium1OpenCmd := FALSE;\n\tbMedium1CloseCmd := FALSE;\nELSE\n\tbAllCommandsReset := FALSE;\nEND_IF\n\n// \u4ecb\u8d282\u9600\u95e8\u547d\u4ee4\u590d\u4f4d\nIF bMedium2Opened THEN\n\tbMedium2OpenCmd := FALSE;\n\tbMedium2CloseCmd := FALSE;\nELSE\n\tbAllCommandsReset := FALSE;\nEND_IF\n\n// \u6392\u6c34\u9600\u95e8\u547d\u4ee4\u590d\u4f4d\nIF bDrainOpened THEN\n\tbDrainOpenCmd := FALSE;\n\tbDrainCloseCmd := FALSE;\nELSE\n\tbAllCommandsReset := FALSE;\nEND_IF\n\n// \u8fd4\u56de\u6240\u6709\u547d\u4ee4\u662f\u5426\u5df2\u590d\u4f4d\nF_ResetDeviceCommands := bAllCommandsReset;\nRETURN;\n```"], ["```\nbLevelFull := rTankLevel >= rFullThreshold;\nbLevelEmpty := rTankLevel <= rEmptyThreshold;\nF_UpdateLimitSwitches := TRUE;\nRETURN;\n```"]]