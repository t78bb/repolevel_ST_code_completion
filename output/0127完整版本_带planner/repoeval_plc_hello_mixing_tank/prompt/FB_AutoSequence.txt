This is the known requirement information for the function to be completed:
This code is intended to implement an automated sequence control for a tank system, managing filling, mixing, and draining operations based on sensor feedback and configured parameters.
This provides you with a plan of implementation steps for the function to be completed. Subsequent ST code must strictly follow this plan and must not deviate from the core logic. The following is the plan of implementation steps:
功能规划:
1. 检查 `bEnable` 的值，只有当其为 `TRUE` 时才进入自动序列逻辑，否则停用所有设备并保持状态为初始。
2. 如果 `bReset` 为 `TRUE`，强制切换到排空状态，并关闭所有设备控制输出。
3. 在排空状态中，维持 `bDrainOpenCmd` 为 `TRUE`，监控 `bTankLevelEmpty`，当其出现为 `TRUE` 时，切换到填充状态。
4. 在填充状态中，保持 `bMedium1OpenCmd` 和 `bMedium2OpenCmd` 为 `TRUE` 开启填充，同时监控 `bTankLevelFull`，当其出现为 `TRUE` 时，切换到混合状态。
5. 在混合状态中，启动混合电机，将 `bMixerRunCmd` 设为 `TRUE`，同时使用定时器进行计算，当时间达到 `tMixingDuration` 时，切换到排空状态。
6. 每完成一次完整的状态循环（排空 -> 填充 -> 混合 -> 排空），递增 `nCyclesCompleted` 的计数值，以反映工作进度。
Continue writing the following code:

```
# Here are some relevant code fragments from other files of the repo:
# --------------------------------------------------
# the below code fragment can be found in:
# plc_hello_mixing_tank-FUN\FB_AutoSequence.st
# --------------------------------------------------
# FUNCTION_BLOCK FB_AutoSequence
# VAR_INPUT
# 	bEnable				:	BOOL;			// 使能自动序列
# 	bReset				:	BOOL;			// 复位到排空状态
# 	
# 	// 液位传感器反馈
# 	bTankLevelFull		:	BOOL;			// 液位满传感器
# 	bTankLevelEmpty		:	BOOL;			// 液位空传感器
# 	
# 	// 设备状态反馈
# 	bMixerRunning		:	BOOL;			// 混合电机运行中
# 	bMedium1Opened		:	BOOL;			// 介质1阀门打开
# 	bMedium2Opened		:	BOOL;			// 介质2阀门打开
# 	bDrainOpened		:	BOOL;			// 排空阀门打开
# 	
# 	// 配置参数
# 	tMixingDuration		:	TIME := T#10S;	// 混合持续时间
# END_VAR
# VAR_OUTPUT
# 	// 设备控制输出
# 	bMixerRunCmd		:	BOOL;			// 混合电机运行命令
# 	bMedium1OpenCmd		:	BOOL;			// 介质1阀门打开命令
# 	bMedium2OpenCmd		:	BOOL;			// 介质2阀门打开命令
# 	bDrainOpenCmd		:	BOOL;			// 排空阀门打开命令
# 	
# 	// 状态输出
# 	eCurrentState		:	AUTO_SEQUENCE;	// 当前状态
# 	nCyclesCompleted	:	UINT;			// 完成的循环次数
# END_VAR
# VAR
# 	tonMixing			:	TON;			// 混合定时器
# END_VAR
# 
# // 复位逻辑
# IF bReset THEN
# 	eCurrentState := AUTO_SEQUENCE.DRAINING;
# 	nCyclesCompleted := 0;
# END_IF
# 
# // 自动序列状态机
# IF bEnable THEN
# 	CASE eCurrentState OF
# 		AUTO_SEQUENCE.FILLING:
# 			// 确保其他设备不工作
# 			bMixerRunCmd := FALSE;
# 
# --------------------------------------------------
# the below code fragment can be found in:
# plc_hello_mixing_tank-FUN\FB_AutoSequence.st
# --------------------------------------------------
# FUNCTION_BLOCK FB_AutoSequence
# VAR_INPUT
# 	bEnable				:	BOOL;			// 使能自动序列
# 	bReset				:	BOOL;			// 复位到排空状态
# 	
# 	// 液位传感器反馈
# 	bTankLevelFull		:	BOOL;			// 液位满传感器
# 	bTankLevelEmpty		:	BOOL;			// 液位空传感器
# 	
# 	// 设备状态反馈
# 	bMixerRunning		:	BOOL;			// 混合电机运行中
# 	bMedium1Opened		:	BOOL;			// 介质1阀门打开
# 	bMedium2Opened		:	BOOL;			// 介质2阀门打开
# 	bDrainOpened		:	BOOL;			// 排空阀门打开
# 	
# 	// 配置参数
# 	tMixingDuration		:	TIME := T#10S;	// 混合持续时间
# END_VAR
# VAR_OUTPUT
# 	// 设备控制输出
# 	bMixerRunCmd		:	BOOL;			// 混合电机运行命令
# 	bMedium1OpenCmd		:	BOOL;			// 介质1阀门打开命令
# 	bMedium2OpenCmd		:	BOOL;			// 介质

FUNCTION_BLOCK FB_AutoSequence
VAR_INPUT
	bEnable				:	BOOL;			// 使能自动序列
	bReset				:	BOOL;			// 复位到排空状态
	
	// 液位传感器反馈
	bTankLevelFull		:	BOOL;			// 液位满传感器
	bTankLevelEmpty		:	BOOL;			// 液位空传感器
	
	// 设备状态反馈
	bMixerRunning		:	BOOL;			// 混合电机运行中
	bMedium1Opened		:	BOOL;			// 介质1阀门打开
	bMedium2Opened		:	BOOL;			// 介质2阀门打开
	bDrainOpened		:	BOOL;			// 排空阀门打开
	
	// 配置参数
	tMixingDuration		:	TIME := T#10S;	// 混合持续时间
END_VAR
VAR_OUTPUT
	// 设备控制输出
	bMixerRunCmd		:	BOOL;			// 混合电机运行命令
	bMedium1OpenCmd		:	BOOL;			// 介质1阀门打开命令
	bMedium2OpenCmd		:	BOOL;			// 介质2阀门打开命令
	bDrainOpenCmd		:	BOOL;			// 排空阀门打开命令
	
	// 状态输出
	eCurrentState		:	AUTO_SEQUENCE;	// 当前状态
	nCyclesCompleted	:	UINT;			// 完成的循环次数
END_VAR
```