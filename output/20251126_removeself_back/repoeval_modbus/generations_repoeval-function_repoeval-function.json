[["```st\nIF input = TargetDirect.extend THEN\n\tcmdReverse := TargetDirect.retract;\nELSIF input = TargetDirect.retract THEN\n\tcmdReverse := TargetDirect.extend;\nELSE\n\tcmdReverse := input; // Default case if input is neither extend nor retract\nEND_IF\n```\n\nThis code defines a function `cmdReverse` that takes an input of type `TargetDirect`. It checks if the input is `TargetDirect.extend` or `TargetDirect.retract` and assigns the opposite value to `cmdReverse`. If the input is neither, it defaults to returning the input value itself."], ["It seems like you are working on a Modbus-related project with logic for mapping between physical and logical indices. I'll continue writing the `mdbsLogicToPhy` function block based on the structure and logic provided in the code fragments.\n\n```plaintext\nVAR\nEND_VAR\n\n(**\n * \u8f93\u5165\u534e\u4e2d\u5730\u5740\u7f16\u53f7\uff0c\u8fd4\u56de\u672c\u5730\u7d22\u5f15\u7f16\u53f7\u53ca\u76f8\u5173\u4fe1\u606f\n *)\nCASE section OF\n    1: // \u533a\u57df\u9650\u5b9a(1:skyExtend)\n        CASE lgcIdx OF\n            10: \n                phyIdx := 1;  // sky1e -> \u6a2a1\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            11: \n                phyIdx := 2;  // sky2e -> \u6a2a2\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            12: \n                phyIdx := 3;  // sky3e -> \u6a2a3\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            13: \n                phyIdx := 4;  // sky4e -> \u6a2a4\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            14: \n                phyIdx := 5;  // sky5e -> \u6a2a5\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            15: \n                phyIdx := 6;  // sky6e -> \u6a2a6\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            16: \n                phyIdx := 7;  // sky7e -> \u6a2a7\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            17: \n                phyIdx := 8;  // sky8e -> \u6a2a8\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            18: \n                phyIdx := 9;  // sky9e -> \u6a2a9\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n            19: \n                phyIdx := 10; // sky10e -> \u6a2a10\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Horizontal;\n        END_CASE\n    2: // \u533a\u57df\u9650\u5b9a(2:skyRetract)\n        CASE lgcIdx OF\n            20: \n                phyIdx := 1;  // sky1r -> \u7eb51\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            21: \n                phyIdx := 2;  // sky2r -> \u7eb52\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            22: \n                phyIdx := 3;  // sky3r -> \u7eb53\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            23: \n                phyIdx := 4;  // sky4r -> \u7eb54\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            24: \n                phyIdx := 5;  // sky5r -> \u7eb55\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            25: \n                phyIdx := 6;  // sky6r -> \u7eb56\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            26: \n                phyIdx := 7;  // sky7r -> \u7eb57\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            27: \n                phyIdx := 8;  // sky8r -> \u7eb58\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            28: \n                phyIdx := 9;  // sky9r -> \u7eb59\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n            29: \n                phyIdx := 10; // sky10r -> \u7eb510\n                level := 2;   // \u5929\u8f68\n                direct := TargetDirect.Vertical;\n        END_CASE\n    3: // \u533a\u57df\u9650\u5b9a(3:groundExtend)\n        CASE lgcIdx OF\n            223: \n                phyIdx := 1;  // grd1e -> \u6a2a1\n                level := 1;   // \u5730\u8f68\n                direct := TargetDirect.Horizontal;\n            231: \n                phyIdx := 2;  // grd2e -> \u7eb51\n                level := 1;   // \u5730\u8f68\n                direct := TargetDirect.Vertical;\n            224"], ["```\nVAR\nEND_VAR\n\n(**\n * \u5c06\u8bbe\u5907\u7f16\u53f7\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u7d22\u5f15\u548c\u5c42\u7ea7\n * (level:1->\u5730\u8f68 2->\u5929\u8f68)(idx:\u8bbe\u5907\u7d22\u5f15)\n *)\nCASE devNo OF\n    1..10: // \u5730\u8f68\u8bbe\u5907\u7f16\u53f7\u8303\u56f4\n        level := 1; // \u5730\u8f68\n        idx := devNo; // \u7d22\u5f15\u76f4\u63a5\u5bf9\u5e94\u7f16\u53f7\n    11..20: // \u5929\u8f68\u8bbe\u5907\u7f16\u53f7\u8303\u56f4\n        level := 2; // \u5929\u8f68\n        idx := devNo - 10; // \u7d22\u5f15\u4e3a\u7f16\u53f7\u51cf\u53bb\u5730\u8f68\u8303\u56f4\n    ELSE\n        level := 0; // \u65e0\u6548\u5c42\u7ea7\n        idx := -1; // \u65e0\u6548\u7d22\u5f15\nEND_CASE;\n```"], ["```st\nVAR\nEND_VAR\n\n(**\n * \u5c06\u7269\u7406\u5730\u5740\u7d22\u5f15\u89e3\u6790\u4e3a\u534e\u4e2d\u6307\u4ee4\u7684\u6807\u53f7\n * (lgcIdx:\u534e\u4e2d\u5bf9\u5e94\u7684\u5730\u5740)\n *)\nCASE section OF\n    1: // \u533a\u57df\u9650\u5b9a1:grdExt\n        CASE phyIdx OF\n            1:  lgcIdx := 127;    // \u5730\u8f681 -> \u534e\u4e2d\u5730\u5740127\n            2:  lgcIdx := 128;    // \u5730\u8f682 -> \u534e\u4e2d\u5730\u5740128\n            3:  lgcIdx := 129;    // \u5730\u8f683 -> \u534e\u4e2d\u5730\u5740129\n            4:  lgcIdx := 130;    // \u5730\u8f684 -> \u534e\u4e2d\u5730\u5740130\n            5:  lgcIdx := 131;    // \u5730\u8f685 -> \u534e\u4e2d\u5730\u5740131\n            6:  lgcIdx := 132;    // \u5730\u8f686 -> \u534e\u4e2d\u5730\u5740132\n            7:  lgcIdx := 133;    // \u5730\u8f687 -> \u534e\u4e2d\u5730\u5740133\n            8:  lgcIdx := 134;    // \u5730\u8f688 -> \u534e\u4e2d\u5730\u5740134\n            9:  lgcIdx := 135;    // \u5730\u8f689 -> \u534e\u4e2d\u5730\u5740135\n            10: lgcIdx := 136;    // \u5730\u8f6810 -> \u534e\u4e2d\u5730\u5740136\n        END_CASE;\n    2: // \u533a\u57df\u9650\u5b9a2:grdRet\n        CASE phyIdx OF\n            1:  lgcIdx := 175;    // \u5730\u8f681 -> \u534e\u4e2d\u5730\u5740175\n            2:  lgcIdx := 176;    // \u5730\u8f682 -> \u534e\u4e2d\u5730\u5740176\n            3:  lgcIdx := 177;    // \u5730\u8f683 -> \u534e\u4e2d\u5730\u5740177\n            4:  lgcIdx := 178;    // \u5730\u8f684 -> \u534e\u4e2d\u5730\u5740178\n            5:  lgcIdx := 179;    // \u5730\u8f685 -> \u534e\u4e2d\u5730\u5740179\n            6:  lgcIdx := 180;    // \u5730\u8f686 -> \u534e\u4e2d\u5730\u5740180\n            7:  lgcIdx := 181;    // \u5730\u8f687 -> \u534e\u4e2d\u5730\u5740181\n            8:  lgcIdx := 182;    // \u5730\u8f688 -> \u534e\u4e2d\u5730\u5740182\n            9:  lgcIdx := 183;    // \u5730\u8f689 -> \u534e\u4e2d\u5730\u5740183\n            10: lgcIdx := 184;    // \u5730\u8f6810 -> \u534e\u4e2d\u5730\u5740184\n        END_CASE;\n    3: // \u533a\u57df\u9650\u5b9a3:skyExt\n        CASE phyIdx OF\n            1:  lgcIdx := 223;    // \u5929\u8f681 -> \u534e\u4e2d\u5730\u5740223\n            2:  lgcIdx := 224;    // \u5929\u8f682 -> \u534e\u4e2d\u5730\u5740224\n            3:  lgcIdx := 225;    // \u5929\u8f683 -> \u534e\u4e2d\u5730\u5740225\n            4:  lgcIdx := 226;    // \u5929\u8f684 -> \u534e\u4e2d\u5730\u5740226\n            5:  lgcIdx := 227;    // \u5929\u8f685 -> \u534e\u4e2d\u5730\u5740227\n            6:  lgcIdx := 228;    // \u5929\u8f686 -> \u534e\u4e2d\u5730\u5740228\n            7:  lgcIdx := 229;    // \u5929\u8f687 -> \u534e\u4e2d\u5730\u5740229\n            8:  lgcIdx := 230;    // \u5929\u8f688 -> \u534e\u4e2d\u5730\u5740230\n            9:  lgcIdx := 231;    // \u5929\u8f689 -> \u534e\u4e2d\u5730\u5740231\n            10: lgcIdx := 232;    // \u5929\u8f6810 -> \u534e\u4e2d\u5730\u5740232\n        END_CASE;\n    4: // \u533a\u57df\u9650\u5b9a4:skyRet\n        CASE phyIdx OF\n            1:  lgcIdx := 271;    // \u5929\u8f681 -> \u534e\u4e2d\u5730\u5740271\n            2:  lgcIdx := 272;    // \u5929\u8f682 -> \u534e\u4e2d\u5730\u5740272\n            3:  lgcIdx := 273;    // \u5929\u8f683 -> \u534e\u4e2d\u5730\u5740273\n            4:  lgcIdx := 274;    // \u5929\u8f684 -> \u534e\u4e2d\u5730\u5740274\n            5:  lgcIdx := 275;    // \u5929\u8f685 -> \u534e\u4e2d\u5730\u5740275\n            6:  lgcIdx := 276;    // \u5929\u8f686 -> \u534e\u4e2d\u5730\u5740276\n            7:  lgcIdx := 277;    // \u5929\u8f687 -> \u534e\u4e2d\u5730\u5740277\n            8:  lgcIdx := 278;    // \u5929\u8f688 -> \u534e\u4e2d\u5730\u5740278\n            9:  lgcIdx := 279;    // \u5929"], ["```pascal\nVAR\n    result      : BOOL; // Function result\n    logicIdx    : INT;  // Logical index for Modbus mapping\nBEGIN\n    result := FALSE; // Default result\n\n    CASE direct OF\n        TargetDirect.extend:\n            CASE level OF\n                1: // \u5730\u8f68\n                    p2l(section := 1, phyIdx := idx, lgcIdx => logicIdx); // Map physical index to logical index\n                    IF gDev.grd[idx].state = DevStatus.retracted THEN\n                        gModbus.srv.response.data[logicIdx] := 1; // Update Modbus data\n                        result := TRUE; // Operation successful\n                    ELSE\n                        gModbus.srv.response.data[logicIdx] := 0;\n                    END_IF;\n                2: // \u5929\u8f68\n                    p2l(section := 3, phyIdx := idx, lgcIdx => logicIdx); // Map physical index to logical index\n                    IF gDev.sky[idx].state = DevStatus.retracted THEN\n                        gModbus.srv.response.data[logicIdx] := 1; // Update Modbus data\n                        result := TRUE; // Operation successful\n                    ELSE\n                        gModbus.srv.response.data[logicIdx] := 0;\n                    END_IF;\n            END_CASE;\n\n        TargetDirect.retract:\n            CASE level OF\n                1: // \u5730\u8f68\n                    p2l(section := 2, phyIdx := idx, lgcIdx => logicIdx); // Map physical index to logical index\n                    IF gDev.grd[idx].state = DevStatus.extended THEN\n                        gModbus.srv.response.data[logicIdx] := 1; // Update Modbus data\n                        result := TRUE; // Operation successful\n                    ELSE\n                        gModbus.srv.response.data[logicIdx] := 0;\n                    END_IF;\n                2: // \u5929\u8f68\n                    p2l(section := 4, phyIdx := idx, lgcIdx => logicIdx); // Map physical index to logical index\n                    IF gDev.sky[idx].state = DevStatus.extended THEN\n                        gModbus.srv.response.data[logicIdx] := 1; // Update Modbus data\n                        result := TRUE; // Operation successful\n                    ELSE\n                        gModbus.srv.response.data[logicIdx] := 0;\n                    END_IF;\n            END_CASE;\n    END_CASE;\n\n    setButtonByDirect := result; // Return the result\nEND_FUNCTION\n```"]]