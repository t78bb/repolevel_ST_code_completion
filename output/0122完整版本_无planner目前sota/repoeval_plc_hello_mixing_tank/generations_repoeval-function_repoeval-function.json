[["```\nVAR\n\ttonMixing\t\t\t:\tTON;\t\t\t// \u6df7\u5408\u5b9a\u65f6\u5668\nEND_VAR\n\n// \u590d\u4f4d\u903b\u8f91\nIF bReset THEN\n\teCurrentState := AUTO_SEQUENCE.DRAINING;\n\tnCyclesCompleted := 0;\nEND_IF\n\n// \u81ea\u52a8\u5e8f\u5217\u72b6\u6001\u673a\nIF bEnable THEN\n\tCASE eCurrentState OF\n\t\tAUTO_SEQUENCE.FILLING:\n\t\t\t// \u786e\u4fdd\u5176\u4ed6\u8bbe\u5907\u4e0d\u5de5\u4f5c\n\t\t\tbMixerRunCmd := FALSE;\n\t\t\tbDrainOpenCmd := FALSE;\n\n\t\t\t// \u5f00\u542f\u4ecb\u8d28\u9600\u95e8\n\t\t\tbMedium1OpenCmd := TRUE;\n\t\t\tbMedium2OpenCmd := TRUE;\n\n\t\t\t// \u68c0\u67e5\u6db2\u4f4d\u6ee1\u4f20\u611f\u5668\n\t\t\tIF bTankLevelFull THEN\n\t\t\t\tbMedium1OpenCmd := FALSE;\n\t\t\t\tbMedium2OpenCmd := FALSE;\n\t\t\t\teCurrentState := AUTO_SEQUENCE.MIXING;\n\t\t\tEND_IF;\n\n\t\tAUTO_SEQUENCE.MIXING:\n\t\t\t// \u786e\u4fdd\u5176\u4ed6\u8bbe\u5907\u4e0d\u5de5\u4f5c\n\t\t\tbMedium1OpenCmd := FALSE;\n\t\t\tbMedium2OpenCmd := FALSE;\n\t\t\tbDrainOpenCmd := FALSE;\n\n\t\t\t// \u5f00\u542f\u6df7\u5408\u7535\u673a\n\t\t\tbMixerRunCmd := TRUE;\n\n\t\t\t// \u542f\u52a8\u6df7\u5408\u5b9a\u65f6\u5668\n\t\t\ttonMixing(IN := TRUE, PT := tMixingDuration);\n\n\t\t\t// \u68c0\u67e5\u5b9a\u65f6\u5668\u662f\u5426\u5b8c\u6210\n\t\t\tIF tonMixing.Q THEN\n\t\t\t\tbMixerRunCmd := FALSE;\n\t\t\t\teCurrentState := AUTO_SEQUENCE.DRAINING;\n\t\t\tEND_IF;\n\n\t\tAUTO_SEQUENCE.DRAINING:\n\t\t\t// \u786e\u4fdd\u5176\u4ed6\u8bbe\u5907\u4e0d\u5de5\u4f5c\n\t\t\tbMixerRunCmd := FALSE;\n\t\t\tbMedium1OpenCmd := FALSE;\n\t\t\tbMedium2OpenCmd := FALSE;\n\n\t\t\t// \u5f00\u542f\u6392\u7a7a\u9600\u95e8\n\t\t\tbDrainOpenCmd := TRUE;\n\n\t\t\t// \u68c0\u67e5\u6db2\u4f4d\u7a7a\u4f20\u611f\u5668\n\t\t\tIF bTankLevelEmpty THEN\n\t\t\t\tbDrainOpenCmd := FALSE;\n\t\t\t\teCurrentState := AUTO_SEQUENCE.FILLING;\n\t\t\t\tnCyclesCompleted := nCyclesCompleted + 1;\n\t\t\tEND_IF;\n\n\t\tELSE\n\t\t\t// \u9ed8\u8ba4\u72b6\u6001\uff0c\u786e\u4fdd\u6240\u6709\u8bbe\u5907\u5173\u95ed\n\t\t\tbMixerRunCmd := FALSE;\n\t\t\tbMedium1OpenCmd := FALSE;\n\t\t\tbMedium2OpenCmd := FALSE;\n\t\t\tbDrainOpenCmd := FALSE;\n\tEND_CASE;\nEND_IF;\n```"], ["```\nVAR\n\tbMedium1Latch\t\t:\tBOOL;\n\tbMedium2Latch\t\t:\tBOOL;\n\tbDrainLatch\t\t\t:\tBOOL;\nEND_VAR\n\n// \u6df7\u5408\u7535\u673a\u63a7\u5236\nbMixerRunCmdOut := (bMixerRunCmd OR bMixerRunning) AND NOT bMixerStopCmd;\n\n// \u4ecb\u8d28\u96001\u63a7\u5236\nbMedium1Latch := (bMedium1OpenCmd OR bMedium1Opened) AND NOT bMedium1CloseCmd;\nbMedium1OpenCmdOut := bMedium1Latch;\n\n// \u4ecb\u8d28\u96002\u63a7\u5236\nbMedium2Latch := (bMedium2OpenCmd OR bMedium2Opened) AND NOT bMedium2CloseCmd;\nbMedium2OpenCmdOut := bMedium2Latch;\n\n// \u6392\u653e\u9600\u63a7\u5236\nbDrainLatch := (bDrainOpenCmd OR bDrainOpened) AND NOT bDrainCloseCmd;\nbDrainOpenCmdOut := bDrainLatch;\n```"], ["```\nVAR\n\teLastMode\t\t:\tMODES;\t// \u4e0a\u6b21\u6a21\u5f0f\nEND_VAR\n\n// \u6a21\u5f0f\u5207\u6362\u903b\u8f91\nCASE eCurrentMode OF\n\tMODES.AUTO:\n\t\tIF bSetToManual THEN\n\t\t\teCurrentMode := MODES.MANUAL;\n\t\tEND_IF\n\t\t\n\tMODES.MANUAL:\n\t\tIF bSetToAuto THEN\n\t\t\teCurrentMode := MODES.AUTO;\n\t\tEND_IF\nEND_CASE\n\n// \u68c0\u6d4b\u6a21\u5f0f\u53d8\u5316\nbModeChanged := (eCurrentMode <> eLastMode);\neLastMode := eCurrentMode;\n```"], ["```\nVAR\n\trNewLevel : REAL; // \u4e34\u65f6\u53d8\u91cf\uff0c\u7528\u4e8e\u8ba1\u7b97\u65b0\u7684\u6db2\u4f4d\nEND_VAR\n\n// \u590d\u4f4d\u903b\u8f91\nIF bReset THEN\n\trCurrentLevel := rInitialLevel;\nELSE\n\t// \u6db2\u4f4d\u8ba1\u7b97\n\trNewLevel := rCurrentLevel\n\t\t\t\t+ rFillRate1 * BOOL_TO_REAL(bMedium1Opened)\n\t\t\t\t+ rFillRate2 * BOOL_TO_REAL(bMedium2Opened)\n\t\t\t\t- rDrainRate * BOOL_TO_REAL(bDrainOpened);\n\n\t// \u786e\u4fdd\u6db2\u4f4d\u5728\u6700\u5c0f\u548c\u6700\u5927\u8303\u56f4\u5185\n\tIF rNewLevel < rMinLevel THEN\n\t\trCurrentLevel := rMinLevel;\n\tELSIF rNewLevel > rMaxLevel THEN\n\t\trCurrentLevel := rMaxLevel;\n\tELSE\n\t\trCurrentLevel := rNewLevel;\n\tEND_IF;\nEND_IF;\n```"], ["```\n\t// \u6df7\u5408\u7535\u673a\u547d\u4ee4\u590d\u4f4d\n\tIF bMixerRunning THEN\n\t\tbMixerRunCmd := FALSE;\t\t// \u5df2\u8fd0\u884c\uff0c\u590d\u4f4d\u8fd0\u884c\u547d\u4ee4\n\tELSE\n\t\tbMixerStopCmd := FALSE;\t\t// \u5df2\u505c\u6b62\uff0c\u590d\u4f4d\u505c\u6b62\u547d\u4ee4\n\tEND_IF;\n\n\t// \u4ecb\u8d281\u9600\u95e8\u547d\u4ee4\u590d\u4f4d\n\tIF bMedium1Opened THEN\n\t\tbMedium1OpenCmd := FALSE;\t// \u5df2\u6253\u5f00\uff0c\u590d\u4f4d\u6253\u5f00\u547d\u4ee4\n\tELSE\n\t\tbMedium1CloseCmd := FALSE;\t// \u5df2\u5173\u95ed\uff0c\u590d\u4f4d\u5173\u95ed\u547d\u4ee4\n\tEND_IF;\n\n\t// \u4ecb\u8d282\u9600\u95e8\u547d\u4ee4\u590d\u4f4d\n\tIF bMedium2Opened THEN\n\t\tbMedium2OpenCmd := FALSE;\t// \u5df2\u6253\u5f00\uff0c\u590d\u4f4d\u6253\u5f00\u547d\u4ee4\n\tELSE\n\t\tbMedium2CloseCmd := FALSE;\t// \u5df2\u5173\u95ed\uff0c\u590d\u4f4d\u5173\u95ed\u547d\u4ee4\n\tEND_IF;\n\n\t// \u6392\u6c34\u9600\u95e8\u547d\u4ee4\u590d\u4f4d\n\tIF bDrainOpened THEN\n\t\tbDrainOpenCmd := FALSE;\t\t// \u5df2\u6253\u5f00\uff0c\u590d\u4f4d\u6253\u5f00\u547d\u4ee4\n\tELSE\n\t\tbDrainCloseCmd := FALSE;\t// \u5df2\u5173\u95ed\uff0c\u590d\u4f4d\u5173\u95ed\u547d\u4ee4\n\tEND_IF;\n\n\tRETURN;\n```"], ["```\nbLevelFull := rTankLevel >= rFullThreshold;\t\t// \u6db2\u4f4d >= \u6ee1\u9608\u503c\u65f6\uff0c\u6ee1\u5f00\u5173\u6fc0\u6d3b\nbLevelEmpty := rTankLevel <= rEmptyThreshold;\t// \u6db2\u4f4d <= \u7a7a\u9608\u503c\u65f6\uff0c\u7a7a\u5f00\u5173\u6fc0\u6d3b\n\nF_UpdateLimitSwitches := TRUE;\nRETURN;\n```"]]