{"requirement": "This code is intended to implement a scaling function that converts a physical output value within a specified range to a corresponding terminal-specific integer output value based on predefined terminal types and ranges.", "provide_code": "FUNCTION F_iScaleOutput : INT\nVAR_INPUT\n\trOutput: REAL; (* [] Physical output *)\n\trPhyMin: REAL; (* [] Physical minimum *)\n\trPhyMax: REAL; (* [] Physical maximum *)\n\teTerminal: E_Ctrl_TerminalType; (* [] Terminal type. *)\nEND_VAR", "docs": [{"text": "FUNCTION F_iScaleOutput : INT\nVAR_INPUT\n\trOutput: REAL; (* [] Physical output *)\n\trPhyMin: REAL; (* [] Physical minimum *)\n\trPhyMax: REAL; (* [] Physical maximum *)\n\teTerminal: E_Ctrl_TerminalType; (* [] Terminal type. *)\nEND_VAR\nVAR\n\trTerMin: REAL;\n\trTerMax: REAL;\n\trPhyRange: REAL;\n\trTerRange: REAL;\n\trTerOutput: REAL;\nEND_VAR\n\nrTerMax:= 32768.0;\nCASE eTerminal OF\n\teTerminal_0mA_20mA: rTerMin:= 0.0;\n\teTerminal_4mA_20mA: rTerMin:= 0.0;\n\teTerminal_0V_10V: rTerMin:= 0.0;\n\teTerminal_m10V_10V: rTerMin:= -32768.0;\nELSE\n\trTerMin:= -32768.0;\nEND_CASE\nrPhyRange:= rPhyMax - rPhyMin;\n", "title": "isScaleOutput-F_isScaleOutput.st"}, {"text": "FUNCTION F_iScaleOutput : INT\nVAR_INPUT\n\trOutput: REAL; (* [] Physical output *)\n\trPhyMin: REAL; (* [] Physical minimum *)\n\trPhyMax: REAL; (* [] Physical maximum *)\n\teTerminal: E_Ctrl_TerminalType; (* [] Terminal type. *)\nEND_VAR\nVAR\n\trTerMin: REAL;\n\trTerMax: REAL;\n\trPhyRange: REAL;\n\trTerRange: REAL;\n\trTerOutput: REAL;\nEND_VAR\n\nrTerMax:= 32768.0;\nCASE eTerminal OF\n\teTerminal_0mA_20mA: rTerMin:= 0.0;\n\teTerminal_4mA_20mA: rTerMin:= 0.0;\n\teTerminal_0V_10V: rTerMin:= 0.0;\n\teTerminal_m10V_10V: rTerMin:= -32768.0;\nELSE\n\trTerMin:= -32768.0;\nEND_CASE\nrPhyRange:= rPhyMax - rPhyMin;\nrTerRange:= rTerMax - rTerMin;\nIF rPhyRange > 0.0 AND rTerRange > 0.0 THEN\n\trTerOutput:= rTerMin + (rTerRange * (rOutput - rPhyMin) / rPhyRange);\nELSE\n\trTerOutput:= 0.0;\n", "title": "isScaleOutput-F_isScaleOutput.st"}, {"text": "FUNCTION F_iScaleOutput : INT\nVAR_INPUT\n\trOutput: REAL; (* [] Physical output *)\n\trPhyMin: REAL; (* [] Physical minimum *)\n\trPhyMax: REAL; (* [] Physical maximum *)\n\teTerminal: E_Ctrl_TerminalType; (* [] Terminal type. *)\nEND_VAR\nVAR\n\trTerMin: REAL;\n\trTerMax: REAL;\n\trPhyRange: REAL;\n\trTerRange: REAL;\n\trTerOutput: REAL;\nEND_VAR\n\nrTerMax:= 32768.0;\nCASE eTerminal OF\n\teTerminal_0mA_20mA: rTerMin:= 0.0;\n\teTerminal_4mA_20mA: rTerMin:= 0.0;\n\teTerminal_0V_10V: rTerMin:= 0.0;\n\teTerminal_m10V_10V: rTerMin:= -32768.0;\nELSE\n\trTerMin:= -32768.0;\nEND_CASE\nrPhyRange:= rPhyMax - rPhyMin;\nrTerRange:= rTerMax - rTerMin;\nIF rPhyRange > 0.0 AND rTerRange > 0.0 THEN\n\trTerOutput:= rTerMin + (rTerRange * (rOutput - rPhyMin) / rPhyRange);\nELSE\n\trTerOutput:= 0.0;\nEND_IF\nF_iScaleOutput:= REAL_TO_INT(rTerOutput);", "title": "isScaleOutput-F_isScaleOutput.st"}, {"text": "PROGRAM PLC_PRG\nVAR\n    rSensorOutValue : REAL;\n    iScaleOutput : INT;\nEND_VAR\n\niScaleOutput := F_iScaleOutput(\n    rOutput := rSensorOutValue,\n    rPhyMin := 4,\n    rPhyMax := 20,\n    eTerminal := eTerminal_4mA_20mA\n);", "title": "isScaleOutput-PLC_PRG.st"}, {"text": "TYPE E_Ctrl_TerminalType :\n(\n\teTerminal_0mA_20mA,\n\teTerminal_4mA_20mA,\n\teTerminal_0V_10V,\n\teTerminal_m10V_10V\n);\nEND_TYPE", "title": "isScaleOutput-E_Ctrl_TerminalType.st"}], "task_id": "F_isScaleOutput"}
