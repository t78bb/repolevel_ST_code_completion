[["```\nVAR\n\tbAxis1PowerReady\t:\tBOOL;\t//\u8f741\u7535\u6e90\u51c6\u5907\u6807\u5fd7\n\tbAxis2PowerReady\t:\tBOOL;\t//\u8f742\u7535\u6e90\u51c6\u5907\u6807\u5fd7\nEND_VAR\n\n// \u8f741\u7535\u6e90\u7ba1\u7406\nIF bEnable THEN\n\tbAxis1PowerReady := Axis1.PowerOn();\n\tbAxis2PowerReady := Axis2.PowerOn();\nELSE\n\tbAxis1PowerReady := Axis1.PowerOff();\n\tbAxis2PowerReady := Axis2.PowerOff();\nEND_IF;\n\n// \u68c0\u67e5\u8f74\u51c6\u5907\u72b6\u6001\nbAxis1Ready := Axis1.IsReady() AND bAxis1PowerReady;\nbAxis2Ready := Axis2.IsReady() AND bAxis2PowerReady;\n\n// \u4e24\u8f74\u90fd\u51c6\u5907\u5c31\u7eea\nbBothReady := bAxis1Ready AND bAxis2Ready;\n\n// \u9519\u8bef\u6807\u5fd7\nbError := Axis1.HasError() OR Axis2.HasError();\n```"], ["```\nVAR\n\tbCouplePrev\t\t\t:\tBOOL;\t\t\t// Previous state of bCouple\n\tfbStartRtrig\t\t:\tR_TRIG;\t\t\t// Rising edge detection for bCouple\n\tfbStopRtrig\t\t\t:\tR_TRIG;\t\t\t// Rising edge detection for decoupling\nEND_VAR\n\nfbStartRtrig(CLK := bCouple);\nfbStopRtrig(CLK := NOT bCouple);\n\nIF fbStartRtrig.Q THEN\n\t// Start coupling process\n\tIF NOT bInGear THEN\n\t\t// Perform coupling\n\t\tMaster.Axis := Master;\n\t\tSlave.Axis := Slave;\n\t\tMaster.Acceleration := rAcceleration;\n\t\tMaster.Deceleration := rDeceleration;\n\t\tSlave.Acceleration := rAcceleration;\n\t\tSlave.Deceleration := rDeceleration;\n\t\tMaster.RatioNumerator := nRatioNumerator;\n\t\tMaster.RatioDenominator := nRatioDenominator;\n\t\tbInGear := TRUE;\n\t\tbCouplingDone := TRUE;\n\t\tbDecouplingDone := FALSE;\n\t\tbError := FALSE;\n\t\tnErrorID := 0;\n\tEND_IF;\nELSIF fbStopRtrig.Q THEN\n\t// Start decoupling process\n\tIF bInGear THEN\n\t\t// Perform decoupling\n\t\tbInGear := FALSE;\n\t\tbCouplingDone := FALSE;\n\t\tbDecouplingDone := TRUE;\n\t\tbError := FALSE;\n\t\tnErrorID := 0;\n\tEND_IF;\nEND_IF;\n\nIF bError THEN\n\t// Handle error condition\n\tbInGear := FALSE;\n\tbCouplingDone := FALSE;\n\tbDecouplingDone := FALSE;\n\tnErrorID := 16#0001; // Example error code\nEND_IF;\n```"], ["```\nVAR\n\tbStartRising\t\t:\tBOOL;\t\t\t//\u542f\u52a8\u4fe1\u53f7\u4e0a\u5347\u6cbf\n\tbStopRising\t\t\t:\tBOOL;\t\t\t//\u505c\u6b62\u4fe1\u53f7\u4e0a\u5347\u6cbf\n\tbLastStart\t\t\t:\tBOOL;\t\t\t//\u4e0a\u6b21\u542f\u52a8\u4fe1\u53f7\u72b6\u6001\n\tbLastStop\t\t\t:\tBOOL;\t\t\t//\u4e0a\u6b21\u505c\u6b62\u4fe1\u53f7\u72b6\u6001\n\tfbGearCoupling\t\t:\tFB_GearCoupling;//\u9f7f\u8f6e\u8026\u5408\u529f\u80fd\u5757\n\tnState\t\t\t\t:\tBYTE := 0;\t\t//\u72b6\u6001\u53d8\u91cf\nEND_VAR\n\n// \u68c0\u6d4b\u542f\u52a8\u548c\u505c\u6b62\u4fe1\u53f7\u7684\u8fb9\u6cbf\nbStartRising := bStart AND NOT bLastStart;\nbStopRising := bStop AND NOT bLastStop;\nbLastStart := bStart;\nbLastStop := bStop;\n\n// \u72b6\u6001\u673a\u63a7\u5236\nCASE nState OF\n\t0: // \u521d\u59cb\u5316\u72b6\u6001\n\t\tbReady := TRUE;\n\t\tbRunning := FALSE;\n\t\tIF bStartRising THEN\n\t\t\tnState := 1;\n\t\tEND_IF;\n\n\t1: // \u542f\u52a8\u9f7f\u8f6e\u8026\u5408\n\t\tfbGearCoupling.Master := MasterAxis;\n\t\tfbGearCoupling.Slave := SlaveAxis;\n\t\tfbGearCoupling.bCouple := TRUE;\n\t\tfbGearCoupling.nRatioNumerator := nRatioNumerator;\n\t\tfbGearCoupling.nRatioDenominator := nRatioDenominator;\n\t\tfbGearCoupling.rAcceleration := rAcceleration;\n\t\tfbGearCoupling.rDeceleration := rDeceleration;\n\t\tfbGearCoupling();\n\t\tIF fbGearCoupling.bCouplingDone THEN\n\t\t\tnState := 2;\n\t\tEND_IF;\n\n\t2: // \u8fd0\u884c\u72b6\u6001\n\t\tbRunning := TRUE;\n\t\tIF bStopRising THEN\n\t\t\tnState := 3;\n\t\tEND_IF;\n\n\t3: // \u505c\u6b62\u9f7f\u8f6e\u8026\u5408\n\t\tfbGearCoupling.bCouple := FALSE;\n\t\tfbGearCoupling();\n\t\tIF fbGearCoupling.bDecouplingDone THEN\n\t\t\tnState := 0;\n\t\tEND_IF;\n\nELSE\n\tnState := 0; // \u9ed8\u8ba4\u56de\u5230\u521d\u59cb\u5316\u72b6\u6001\nEND_CASE;\n\n// \u9519\u8bef\u5904\u7406\nbError := fbGearCoupling.bError;\n```"]]