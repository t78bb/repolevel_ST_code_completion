[["```\nVAR\n\teNextState\t\t\t:\tAUTO_SEQUENCE;\t// \u4e0b\u4e00\u4e2a\u72b6\u6001\n\ttTimer\t\t\t\t:\tTON;\t\t\t// \u5b9a\u65f6\u5668\n\tbTimerElapsed\t\t:\tBOOL;\t\t\t// \u5b9a\u65f6\u5668\u5230\u65f6\u6807\u5fd7\nEND_VAR\n\n// \u72b6\u6001\u673a\u903b\u8f91\nCASE eCurrentState OF\n\tAUTO_SEQUENCE.EmptyTank:\n\t\t// \u6392\u7a7a\u72b6\u6001\n\t\tbDrainOpenCmd := TRUE;\n\t\tbMedium1OpenCmd := FALSE;\n\t\tbMedium2OpenCmd := FALSE;\n\t\tbMixerRunCmd := FALSE;\n\n\t\t// \u68c0\u67e5\u6db2\u4f4d\u7a7a\u4f20\u611f\u5668\n\t\tIF bTankLevelEmpty THEN\n\t\t\teNextState := AUTO_SEQUENCE.FillTank;\n\t\tELSE\n\t\t\teNextState := AUTO_SEQUENCE.EmptyTank;\n\t\tEND_IF;\n\n\tAUTO_SEQUENCE.FillTank:\n\t\t// \u586b\u5145\u72b6\u6001\n\t\tbDrainOpenCmd := FALSE;\n\t\tbMedium1OpenCmd := TRUE;\n\t\tbMedium2OpenCmd := TRUE;\n\t\tbMixerRunCmd := FALSE;\n\n\t\t// \u68c0\u67e5\u6db2\u4f4d\u6ee1\u4f20\u611f\u5668\n\t\tIF bTankLevelFull THEN\n\t\t\teNextState := AUTO_SEQUENCE.MixContents;\n\t\tELSE\n\t\t\teNextState := AUTO_SEQUENCE.FillTank;\n\t\tEND_IF;\n\n\tAUTO_SEQUENCE.MixContents:\n\t\t// \u6df7\u5408\u72b6\u6001\n\t\tbDrainOpenCmd := FALSE;\n\t\tbMedium1OpenCmd := FALSE;\n\t\tbMedium2OpenCmd := FALSE;\n\t\tbMixerRunCmd := TRUE;\n\n\t\t// \u542f\u52a8\u6df7\u5408\u5b9a\u65f6\u5668\n\t\ttTimer(IN := TRUE, PT := tMixingDuration);\n\t\tbTimerElapsed := tTimer.Q;\n\n\t\t// \u68c0\u67e5\u6df7\u5408\u65f6\u95f4\u662f\u5426\u5b8c\u6210\n\t\tIF bTimerElapsed THEN\n\t\t\teNextState := AUTO_SEQUENCE.EmptyTank;\n\t\t\tnCyclesCompleted := nCyclesCompleted + 1;\n\t\tELSE\n\t\t\teNextState := AUTO_SEQUENCE.MixContents;\n\t\tEND_IF;\n\n\tELSE\n\t\t// \u9ed8\u8ba4\u72b6\u6001\n\t\teNextState := AUTO_SEQUENCE.EmptyTank;\nEND_CASE;\n\n// \u72b6\u6001\u66f4\u65b0\nIF bReset THEN\n\teCurrentState := AUTO_SEQUENCE.EmptyTank;\n\tnCyclesCompleted := 0;\nELSE\n\tIF bEnable THEN\n\t\teCurrentState := eNextState;\n\tEND_IF;\nEND_IF;\n```"], ["```\nVAR\n\tbResetMixerCmd\t\t:\tBOOL;\n\tbResetMedium1Cmd\t:\tBOOL;\n\tbResetMedium2Cmd\t:\tBOOL;\n\tbResetDrainCmd\t\t:\tBOOL;\nEND_VAR\n\n// \u6df7\u5408\u7535\u673a\u547d\u4ee4\u5904\u7406\nIF bMixerRunning THEN\n\tbResetMixerCmd := TRUE;\n\tbMixerRunCmdOut := FALSE; // \u5df2\u8fd0\u884c\uff0c\u590d\u4f4d\u8fd0\u884c\u547d\u4ee4\nELSE\n\tbResetMixerCmd := FALSE;\n\tbMixerRunCmdOut := bMixerRunCmd; // \u672a\u8fd0\u884c\uff0c\u8f93\u51fa\u8fd0\u884c\u547d\u4ee4\nEND_IF\n\n// \u4ecb\u8d281\u9600\u95e8\u547d\u4ee4\u5904\u7406\nIF bMedium1Opened THEN\n\tbResetMedium1Cmd := TRUE;\n\tbMedium1OpenCmdOut := FALSE; // \u5df2\u6253\u5f00\uff0c\u590d\u4f4d\u6253\u5f00\u547d\u4ee4\nELSE\n\tbResetMedium1Cmd := FALSE;\n\tbMedium1OpenCmdOut := bMedium1OpenCmd; // \u672a\u6253\u5f00\uff0c\u8f93\u51fa\u6253\u5f00\u547d\u4ee4\nEND_IF\n\n// \u4ecb\u8d282\u9600\u95e8\u547d\u4ee4\u5904\u7406\nIF bMedium2Opened THEN\n\tbResetMedium2Cmd := TRUE;\n\tbMedium2OpenCmdOut := FALSE; // \u5df2\u6253\u5f00\uff0c\u590d\u4f4d\u6253\u5f00\u547d\u4ee4\nELSE\n\tbResetMedium2Cmd := FALSE;\n\tbMedium2OpenCmdOut := bMedium2OpenCmd; // \u672a\u6253\u5f00\uff0c\u8f93\u51fa\u6253\u5f00\u547d\u4ee4\nEND_IF\n\n// \u6392\u7a7a\u9600\u95e8\u547d\u4ee4\u5904\u7406\nIF bDrainOpened THEN\n\tbResetDrainCmd := TRUE;\n\tbDrainOpenCmdOut := FALSE; // \u5df2\u6253\u5f00\uff0c\u590d\u4f4d\u6253\u5f00\u547d\u4ee4\nELSE\n\tbResetDrainCmd := FALSE;\n\tbDrainOpenCmdOut := bDrainOpenCmd; // \u672a\u6253\u5f00\uff0c\u8f93\u51fa\u6253\u5f00\u547d\u4ee4\nEND_IF\n```"], ["```\nVAR\n\tePreviousMode\t:\tMODES := MODES.Manual;\t// \u4e0a\u4e00\u6b21\u6a21\u5f0f\nEND_VAR\n\nIF bSetToAuto AND (ePreviousMode <> MODES.Auto) THEN\n\teCurrentMode := MODES.Auto;\n\tbModeChanged := TRUE;\n\tePreviousMode := eCurrentMode;\nELSIF bSetToManual AND (ePreviousMode <> MODES.Manual) THEN\n\teCurrentMode := MODES.Manual;\n\tbModeChanged := TRUE;\n\tePreviousMode := eCurrentMode;\nELSE\n\tbModeChanged := FALSE;\nEND_IF;\n```"], ["```\nVAR\n\trLevelChange\t\t:\tREAL;\t\t\t// \u6db2\u4f4d\u53d8\u5316\u91cf\nEND_VAR\n\nrLevelChange := 0.0;\n\n// \u590d\u4f4d\u5230\u521d\u59cb\u6db2\u4f4d\nIF bReset THEN\n\trCurrentLevel := rInitialLevel;\n\tRETURN;\nEND_IF;\n\n// \u6839\u636e\u9600\u95e8\u72b6\u6001\u8ba1\u7b97\u6db2\u4f4d\u53d8\u5316\nIF bMedium1Opened THEN\n\trLevelChange := rLevelChange + rFillRate1;\nEND_IF;\n\nIF bMedium2Opened THEN\n\trLevelChange := rLevelChange + rFillRate2;\nEND_IF;\n\nIF bDrainOpened THEN\n\trLevelChange := rLevelChange - rDrainRate;\nEND_IF;\n\n// \u66f4\u65b0\u5f53\u524d\u6db2\u4f4d\nrCurrentLevel := rCurrentLevel + rLevelChange;\n\n// \u9650\u5236\u6db2\u4f4d\u5728\u6700\u5c0f\u548c\u6700\u5927\u503c\u4e4b\u95f4\nIF rCurrentLevel > rMaxLevel THEN\n\trCurrentLevel := rMaxLevel;\nELSIF rCurrentLevel < rMinLevel THEN\n\trCurrentLevel := rMinLevel;\nEND_IF;\n```"], ["```\nVAR\n\tbAllCommandsReset : BOOL;\nEND_VAR\n\n// Reset all HMI command flags if the corresponding device state indicates the action is complete\nbMixerRunCmd := FALSE;\nbMixerStopCmd := FALSE;\n\nIF bMedium1Opened THEN\n\tbMedium1OpenCmd := FALSE;\n\tbMedium1CloseCmd := FALSE;\nEND_IF;\n\nIF bMedium2Opened THEN\n\tbMedium2OpenCmd := FALSE;\n\tbMedium2CloseCmd := FALSE;\nEND_IF;\n\nIF bDrainOpened THEN\n\tbDrainOpenCmd := FALSE;\n\tbDrainCloseCmd := FALSE;\nEND_IF;\n\n// Check if all commands have been reset\nbAllCommandsReset := NOT (bMixerRunCmd OR bMixerStopCmd OR bMedium1OpenCmd OR bMedium1CloseCmd OR bMedium2OpenCmd OR bMedium2CloseCmd OR bDrainOpenCmd OR bDrainCloseCmd);\n\nF_ResetDeviceCommands := bAllCommandsReset;\nRETURN;\n```"], ["```\nVAR\n\tbFullConditionMet\t:\tBOOL;\n\tbEmptyConditionMet\t:\tBOOL;\nEND_VAR\n\n// \u68c0\u67e5\u6db2\u4f4d\u662f\u5426\u8fbe\u5230\u6ee1\u6db2\u4f4d\u9608\u503c\nbFullConditionMet := rTankLevel >= rFullThreshold;\n\n// \u68c0\u67e5\u6db2\u4f4d\u662f\u5426\u8fbe\u5230\u7a7a\u6db2\u4f4d\u9608\u503c\nbEmptyConditionMet := rTankLevel <= rEmptyThreshold;\n\n// \u66f4\u65b0\u8f93\u51fa\u72b6\u6001\nbLevelFull := bFullConditionMet;\nbLevelEmpty := bEmptyConditionMet;\n\n// \u8fd4\u56deTRUE\u8868\u793a\u51fd\u6570\u6267\u884c\u6210\u529f\nF_UpdateLimitSwitches := TRUE;\nRETURN;\n```"]]